<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_241) on Tue May 05 19:54:51 UTC 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DefaultWorkflowManager (Apache JSPWiki 2.11.0.M7-SNAPSHOT API)</title>
<meta name="date" content="2020-05-05">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DefaultWorkflowManager (Apache JSPWiki 2.11.0.M7-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultWorkflowManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/wiki/workflow/DecisionRequiredException.html" title="class in org.apache.wiki.workflow"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/wiki/workflow/Fact.html" title="class in org.apache.wiki.workflow"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/wiki/workflow/DefaultWorkflowManager.html" target="_top">Frames</a></li>
<li><a href="DefaultWorkflowManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.wiki.workflow</div>
<h2 title="Class DefaultWorkflowManager" class="title">Class DefaultWorkflowManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.wiki.workflow.DefaultWorkflowManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/util/EventListener.html?is-external=true" title="class or interface in java.util">EventListener</a>, <a href="../../../../org/apache/wiki/api/engine/Initializable.html" title="interface in org.apache.wiki.api.engine">Initializable</a>, <a href="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></dd>
</dl>
<hr>
<object type="image/svg+xml" data="DefaultWorkflowManager.svg"  style="max-width:60%;float:right;"></object>
<br>
<pre style="white-space:pre-wrap;">public class <a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.57">DefaultWorkflowManager</a>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></pre>
<div class="block"><p>
 Monitor class that tracks running Workflows. The WorkflowManager also keeps track of the names of
 users or groups expected to approve particular Workflows.
 </p></div>
</li>
</ul>
</div>
<div class="summary" style="clear:right;">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.wiki.workflow.WorkflowManager">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.wiki.workflow.<a href="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></h3>
<code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#PROPERTY_APPROVER_PREFIX">PROPERTY_APPROVER_PREFIX</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_UP_CREATE_SAVE_APPROVER">WF_UP_CREATE_SAVE_APPROVER</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_UP_CREATE_SAVE_ATTR_SAVED_PROFILE">WF_UP_CREATE_SAVE_ATTR_SAVED_PROFILE</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_UP_CREATE_SAVE_DECISION_MESSAGE_KEY">WF_UP_CREATE_SAVE_DECISION_MESSAGE_KEY</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_PREFS_EMAIL">WF_UP_CREATE_SAVE_FACT_PREFS_EMAIL</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_PREFS_FULL_NAME">WF_UP_CREATE_SAVE_FACT_PREFS_FULL_NAME</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_PREFS_LOGIN_NAME">WF_UP_CREATE_SAVE_FACT_PREFS_LOGIN_NAME</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_SUBMITTER">WF_UP_CREATE_SAVE_FACT_SUBMITTER</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_WP_SAVE_APPROVER">WF_WP_SAVE_APPROVER</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_WP_SAVE_DECISION_MESSAGE_KEY">WF_WP_SAVE_DECISION_MESSAGE_KEY</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_WP_SAVE_FACT_CURRENT_TEXT">WF_WP_SAVE_FACT_CURRENT_TEXT</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_WP_SAVE_FACT_DIFF_TEXT">WF_WP_SAVE_FACT_DIFF_TEXT</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_WP_SAVE_FACT_IS_AUTHENTICATED">WF_WP_SAVE_FACT_IS_AUTHENTICATED</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_WP_SAVE_FACT_PAGE_NAME">WF_WP_SAVE_FACT_PAGE_NAME</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_WP_SAVE_FACT_PROPOSED_TEXT">WF_WP_SAVE_FACT_PROPOSED_TEXT</a>, <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#WF_WP_SAVE_REJECT_MESSAGE_KEY">WF_WP_SAVE_REJECT_MESSAGE_KEY</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#DefaultWorkflowManager--">DefaultWorkflowManager</a></span>()</code>
<div class="block">Constructs a new WorkflowManager, with an empty workflow cache.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#actionPerformed-org.apache.wiki.event.WikiEvent-">actionPerformed</a></span>(<a href="../../../../org/apache/wiki/event/WikiEvent.html" title="class in org.apache.wiki.event">WikiEvent</a>&nbsp;event)</code>
<div class="block">Listens for <a href="../../../../org/apache/wiki/event/WorkflowEvent.html" title="class in org.apache.wiki.event"><code>WorkflowEvent</code></a> objects emitted by Workflows.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#add-org.apache.wiki.workflow.Workflow-">add</a></span>(<a href="../../../../org/apache/wiki/workflow/Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</code>
<div class="block">Protected helper method that adds a newly created Workflow to the cache, and sets its <code>workflowManager</code> and
 <code>Id</code> properties if not set.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#addToDecisionQueue-org.apache.wiki.workflow.Decision-">addToDecisionQueue</a></span>(<a href="../../../../org/apache/wiki/workflow/Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#getApprover-java.lang.String-">getApprover</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;messageKey)</code>
<div class="block">Looks up and resolves the actor who approves a Decision for a particular Workflow, based on the Workflow's message key.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/wiki/workflow/Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#getCompletedWorkflows--">getCompletedWorkflows</a></span>()</code>
<div class="block">Returns a collection of finished workflows; that is, those that have aborted or completed.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/wiki/workflow/DecisionQueue.html" title="class in org.apache.wiki.workflow">DecisionQueue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#getDecisionQueue--">getDecisionQueue</a></span>()</code>
<div class="block">Returns the DecisionQueue associated with this WorkflowManager</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/apache/wiki/api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#getEngine--">getEngine</a></span>()</code>
<div class="block">Protected helper method that returns the associated Engine</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/wiki/workflow/Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#getOwnerWorkflows-org.apache.wiki.api.core.Session-">getOwnerWorkflows</a></span>(<a href="../../../../org/apache/wiki/api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session)</code>
<div class="block">Returns the current workflows a wiki session owns.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/wiki/workflow/Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#getWorkflows--">getWorkflows</a></span>()</code>
<div class="block">Returns a collection of the currently active workflows.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#initialize-org.apache.wiki.api.core.Engine-java.util.Properties-">initialize</a></span>(<a href="../../../../org/apache/wiki/api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
          <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props)</code>
<div class="block">Initializes this Engine component.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#remove-org.apache.wiki.workflow.Workflow-">remove</a></span>(<a href="../../../../org/apache/wiki/workflow/Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</code>
<div class="block">Protected helper method that removes a specified Workflow from the cache, and moves it to the workflow history list.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#removeFromDecisionQueue-org.apache.wiki.workflow.Decision-">removeFromDecisionQueue</a></span>(<a href="../../../../org/apache/wiki/workflow/Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/workflow/DefaultWorkflowManager.html#requiresApproval-java.lang.String-">requiresApproval</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;messageKey)</code>
<div class="block">Returns <code>true</code> if a workflow matching a particular key contains an approval step.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DefaultWorkflowManager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefaultWorkflowManager</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.74">DefaultWorkflowManager</a>()</pre>
<div class="block">Constructs a new WorkflowManager, with an empty workflow cache.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getWorkflows--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWorkflows</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/wiki/workflow/Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.85">getWorkflows</a>()</pre>
<div class="block">Returns a collection of the currently active workflows.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#getWorkflows--">getWorkflows</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current workflows</dd>
</dl>
</li>
</ul>
<a name="getCompletedWorkflows--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompletedWorkflows</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/wiki/workflow/Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.95">getCompletedWorkflows</a>()</pre>
<div class="block">Returns a collection of finished workflows; that is, those that have aborted or completed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#getCompletedWorkflows--">getCompletedWorkflows</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the finished workflows</dd>
</dl>
</li>
</ul>
<a name="initialize-org.apache.wiki.api.core.Engine-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.109">initialize</a>(<a href="../../../../org/apache/wiki/api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
                       <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props)</pre>
<div class="block"><p>Initializes this Engine component. Note that the engine is not fully initialized at this
 point, so don't do anything fancy here - use lazy init, if you have to.<br/>&nbsp;</p>

 Any properties that begin with <a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#PROPERTY_APPROVER_PREFIX"><code>WorkflowManager.PROPERTY_APPROVER_PREFIX</code></a> will be assumed to be Decisions that require approval. For a given
 property key, everything after the prefix denotes the Decision's message key. The property value indicates the Principal (Role,
 GroupPrincipal, WikiPrincipal) that must approve the Decision. For example, if the property key/value pair is
 <code>jspwiki.approver.workflow.saveWikiPage=Admin</code>, the Decision's message key is <code>workflow.saveWikiPage</code>. The Principal
 <code>Admin</code> will be resolved via <a href="../../../../org/apache/wiki/auth/AuthorizationManager.html#resolvePrincipal-java.lang.String-"><code>AuthorizationManager.resolvePrincipal(String)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/api/engine/Initializable.html#initialize-org.apache.wiki.api.core.Engine-java.util.Properties-">initialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/api/engine/Initializable.html" title="interface in org.apache.wiki.api.engine">Initializable</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - Engine performing the initialization.</dd>
<dd><code>props</code> - Properties for setup.</dd>
</dl>
</li>
</ul>
<a name="requiresApproval-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requiresApproval</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.186">requiresApproval</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;messageKey)</pre>
<div class="block">Returns <code>true</code> if a workflow matching a particular key contains an approval step.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#requiresApproval-java.lang.String-">requiresApproval</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messageKey</code> - the name of the workflow; corresponds to the value returned by <a href="../../../../org/apache/wiki/workflow/Workflow.html#getMessageKey--"><code>Workflow.getMessageKey()</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getApprover-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getApprover</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.194">getApprover</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;messageKey)
                      throws <a href="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></pre>
<div class="block">Looks up and resolves the actor who approves a Decision for a particular Workflow, based on the Workflow's message key.
 If not found, or if Principal is Unresolved, throws WikiException. This particular implementation always returns the
 GroupPrincipal <code>Admin</code></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#getApprover-java.lang.String-">getApprover</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messageKey</code> - the Decision's message key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the actor who approves Decisions</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></code> - if the message key was not found, or the
 Principal value corresponding to the key could not be resolved</dd>
</dl>
</li>
</ul>
<a name="getEngine--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEngine</h4>
<pre>protected&nbsp;<a href="../../../../org/apache/wiki/api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.220">getEngine</a>()</pre>
<div class="block">Protected helper method that returns the associated Engine</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the wiki engine</dd>
</dl>
</li>
</ul>
<a name="getDecisionQueue--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDecisionQueue</h4>
<pre>public&nbsp;<a href="../../../../org/apache/wiki/workflow/DecisionQueue.html" title="class in org.apache.wiki.workflow">DecisionQueue</a>&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.233">getDecisionQueue</a>()</pre>
<div class="block">Returns the DecisionQueue associated with this WorkflowManager</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#getDecisionQueue--">getDecisionQueue</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the decision queue</dd>
</dl>
</li>
</ul>
<a name="getOwnerWorkflows-org.apache.wiki.api.core.Session-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOwnerWorkflows</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/wiki/workflow/Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.241">getOwnerWorkflows</a>(<a href="../../../../org/apache/wiki/api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session)</pre>
<div class="block">Returns the current workflows a wiki session owns. These are workflows whose <a href="../../../../org/apache/wiki/workflow/Workflow.html#getOwner--"><code>Workflow.getOwner()</code></a> method returns a Principal
 also possessed by the wiki session (see <a href="../../../../org/apache/wiki/api/core/Session.html#getPrincipals--"><code>Session.getPrincipals()</code></a>). If the wiki session is not
 authenticated, this method returns an empty Collection.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html#getOwnerWorkflows-org.apache.wiki.api.core.Session-">getOwnerWorkflows</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the wiki session</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the collection workflows the wiki session owns, which may be empty</dd>
</dl>
</li>
</ul>
<a name="actionPerformed-org.apache.wiki.event.WikiEvent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>actionPerformed</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.267">actionPerformed</a>(<a href="../../../../org/apache/wiki/event/WikiEvent.html" title="class in org.apache.wiki.event">WikiEvent</a>&nbsp;event)</pre>
<div class="block">Listens for <a href="../../../../org/apache/wiki/event/WorkflowEvent.html" title="class in org.apache.wiki.event"><code>WorkflowEvent</code></a> objects emitted by Workflows. In particular, this method listens for <a href="../../../../org/apache/wiki/event/WorkflowEvent.html#CREATED"><code>WorkflowEvent.CREATED</code></a>,
 <a href="../../../../org/apache/wiki/event/WorkflowEvent.html#ABORTED"><code>WorkflowEvent.ABORTED</code></a>, <a href="../../../../org/apache/wiki/event/WorkflowEvent.html#COMPLETED"><code>WorkflowEvent.COMPLETED</code></a> and <a href="../../../../org/apache/wiki/event/WorkflowEvent.html#DQ_REMOVAL"><code>WorkflowEvent.DQ_REMOVAL</code></a> events. If a workflow is created,
 it is automatically added to the cache. If one is aborted or completed, it is automatically removed. If a removal from decision queue
 is issued, the current step from workflow, which is assumed to be a <a href="../../../../org/apache/wiki/workflow/Decision.html" title="class in org.apache.wiki.workflow"><code>Decision</code></a>, is removed from the <a href="../../../../org/apache/wiki/workflow/DecisionQueue.html" title="class in org.apache.wiki.workflow"><code>DecisionQueue</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/event/WikiEventListener.html#actionPerformed-org.apache.wiki.event.WikiEvent-">actionPerformed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - the event passed to this listener</dd>
</dl>
</li>
</ul>
<a name="add-org.apache.wiki.workflow.Workflow-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.299">add</a>(<a href="../../../../org/apache/wiki/workflow/Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</pre>
<div class="block">Protected helper method that adds a newly created Workflow to the cache, and sets its <code>workflowManager</code> and
 <code>Id</code> properties if not set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workflow</code> - the workflow to add</dd>
</dl>
</li>
</ul>
<a name="remove-org.apache.wiki.workflow.Workflow-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.309">remove</a>(<a href="../../../../org/apache/wiki/workflow/Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</pre>
<div class="block">Protected helper method that removes a specified Workflow from the cache, and moves it to the workflow history list. This method
 defensively checks to see if the workflow has not yet been removed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workflow</code> - the workflow to remove</dd>
</dl>
</li>
</ul>
<a name="removeFromDecisionQueue-org.apache.wiki.workflow.Decision-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromDecisionQueue</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.316">removeFromDecisionQueue</a>(<a href="../../../../org/apache/wiki/workflow/Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision)</pre>
</li>
</ul>
<a name="addToDecisionQueue-org.apache.wiki.workflow.Decision-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addToDecisionQueue</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.334">addToDecisionQueue</a>(<a href="../../../../org/apache/wiki/workflow/Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultWorkflowManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/wiki/workflow/DecisionRequiredException.html" title="class in org.apache.wiki.workflow"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/wiki/workflow/Fact.html" title="class in org.apache.wiki.workflow"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/wiki/workflow/DefaultWorkflowManager.html" target="_top">Frames</a></li>
<li><a href="DefaultWorkflowManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright © 2001-2020 The Apache Software Foundation. All rights reserved.</small></p>
</body>
</html>