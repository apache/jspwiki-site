<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Fri Jan 10 16:08:13 UTC 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WikiSession (Apache JSPWiki 2.11.0.M7-SNAPSHOT API)</title>
<meta name="date" content="2020-01-10">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WikiSession (Apache JSPWiki 2.11.0.M7-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":9,"i15":9,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":9,"i25":9,"i26":9,"i27":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WikiSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/apache/wiki/WikiServlet.html" title="class in org.apache.wiki"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/apache/wiki/WikiSession.html" target="_top">Frames</a></li>
<li><a href="WikiSession.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.wiki</div>
<h2 title="Class WikiSession" class="title">Class WikiSession</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.wiki.WikiSession</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/util/EventListener.html?is-external=true" title="class or interface in java.util">EventListener</a>, <a href="../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a></dd>
</dl>
<hr>
<object type="image/svg+xml" data="WikiSession.svg"  style="max-width:60%;float:right;"></object>
<br>
<pre style="white-space:pre-wrap;">public final class <a href="../../../src-html/org/apache/wiki/WikiSession.html#line.84">WikiSession</a>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a></pre>
<div class="block"><p>Represents a long-running wiki session, with an associated user Principal, user Subject, and authentication status. This class
 is initialized with minimal, default-deny values: authentication is set to <code>false</code>, and the user principal is set to
 <code>null</code>.</p>
 <p>The WikiSession class allows callers to:</p>
 <ul>
   <li>Obtain the authentication status of the user via
     <a href="../../../org/apache/wiki/WikiSession.html#isAnonymous--"><code>isAnonymous()</code></a> and <a href="../../../org/apache/wiki/WikiSession.html#isAuthenticated--"><code>isAuthenticated()</code></a></li>
   <li>Query the session for Principals representing the
     user's identity via <a href="../../../org/apache/wiki/WikiSession.html#getLoginPrincipal--"><code>getLoginPrincipal()</code></a>,
     <a href="../../../org/apache/wiki/WikiSession.html#getUserPrincipal--"><code>getUserPrincipal()</code></a> and <a href="../../../org/apache/wiki/WikiSession.html#getPrincipals--"><code>getPrincipals()</code></a></li>
   <li>Store, retrieve and clear UI messages via
     <a href="../../../org/apache/wiki/WikiSession.html#addMessage-java.lang.String-"><code>addMessage(String)</code></a>, <a href="../../../org/apache/wiki/WikiSession.html#getMessages-java.lang.String-"><code>getMessages(String)</code></a>
     and <a href="../../../org/apache/wiki/WikiSession.html#clearMessages-java.lang.String-"><code>clearMessages(String)</code></a></li>
 </ul>
 <p>To keep track of the Principals each user posseses, each WikiSession stores a JAAS Subject. Various login processes add or
 remove Principals when users authenticate or log out.</p>
 <p>WikiSession implements the <a href="../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event"><code>WikiEventListener</code></a> interface and listens for group add/change/delete
 events fired by event sources the WikiSession is registered with. Normally, <a href="../../../org/apache/wiki/auth/AuthenticationManager.html" title="class in org.apache.wiki.auth"><code>AuthenticationManager</code></a>
 registers each WikiSession with the <a href="../../../org/apache/wiki/auth/authorize/GroupManager.html" title="class in org.apache.wiki.auth.authorize"><code>GroupManager</code></a> so it can catch group events. Thus, when
 a user is added to a <a href="../../../org/apache/wiki/auth/authorize/Group.html" title="class in org.apache.wiki.auth.authorize"><code>Group</code></a>, a corresponding <a href="../../../org/apache/wiki/auth/GroupPrincipal.html" title="class in org.apache.wiki.auth"><code>GroupPrincipal</code></a> is
 injected into the Subject's Principal set. Likewise, when the user is removed from the Group or the Group is deleted, the
 GroupPrincipal is removed from the Subject. The effect that this strategy produces is extremely beneficial: when someone adds a user
 to a wiki group, that user <em>immediately</em> gains the privileges associated with that group; he or she does not need to
 re-authenticate.
 </p>
 <p>In addition to methods for examining individual <code>WikiSession</code> objects, this class also contains a number of static
 methods for managing WikiSessions for an entire wiki. These methods allow callers to find, query and remove WikiSession objects, and
 to obtain a list of the current wiki session users.</p>
 <p>WikiSession encloses a protected static class, <a href="../../../org/apache/wiki/auth/SessionMonitor.html" title="class in org.apache.wiki.auth"><code>SessionMonitor</code></a>, to keep track of WikiSessions registered with each wiki.</p></div>
</li>
</ul>
</div>
<div class="summary" style="clear:right;">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#ANONYMOUS">ANONYMOUS</a></span></code>
<div class="block">An anonymous user's session status.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#ASSERTED">ASSERTED</a></span></code>
<div class="block">An asserted user's session status.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#AUTHENTICATED">AUTHENTICATED</a></span></code>
<div class="block">An authenticated user's session status.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#actionPerformed-org.apache.wiki.event.WikiEvent-">actionPerformed</a></span>(<a href="../../../org/apache/wiki/event/WikiEvent.html" title="class in org.apache.wiki.event">WikiEvent</a>&nbsp;event)</code>
<div class="block">Listens for WikiEvents generated by source objects such as the GroupManager.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#addMessage-java.lang.String-">addMessage</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</code>
<div class="block">Adds a message to the generic list of messages associated with the session.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#addMessage-java.lang.String-java.lang.String-">addMessage</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;topic,
          <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</code>
<div class="block">Adds a message to the specific set of messages associated with the session.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#clearMessages--">clearMessages</a></span>()</code>
<div class="block">Clears all messages associated with this session.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#clearMessages-java.lang.String-">clearMessages</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;topic)</code>
<div class="block">Clears all messages associated with a session topic.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#doPrivileged-org.apache.wiki.WikiSession-java.security.PrivilegedAction-">doPrivileged</a></span>(<a href="../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a>&nbsp;session,
            <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PrivilegedAction.html?is-external=true" title="class or interface in java.security">PrivilegedAction</a>&lt;?&gt;&nbsp;action)</code>
<div class="block">Wrapper for
 <a href="https://docs.oracle.com/javase/8/docs/api/javax/security/auth/Subject.html?is-external=true#doAsPrivileged-javax.security.auth.Subject-java.security.PrivilegedExceptionAction-java.security.AccessControlContext-" title="class or interface in javax.security.auth"><code>Subject.doAsPrivileged(Subject, java.security.PrivilegedExceptionAction, java.security.AccessControlContext)</code></a>
 that executes an action with the privileges posssessed by a WikiSession's Subject.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html?is-external=true" title="class or interface in java.util">Locale</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#getLocale--">getLocale</a></span>()</code>
<div class="block">Returns a cached Locale object for this user.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#getLoginPrincipal--">getLoginPrincipal</a></span>()</code>
<div class="block"> Returns the Principal used to log in to an authenticated session.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#getMessages--">getMessages</a></span>()</code>
<div class="block">Returns all generic messages associated with this session.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#getMessages-java.lang.String-">getMessages</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;topic)</code>
<div class="block">Returns all messages associated with a session topic.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#getPrincipals--">getPrincipals</a></span>()</code>
<div class="block">Returns all user Principals associated with this session.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#getRoles--">getRoles</a></span>()</code>
<div class="block">Returns an array of Principal objects that represents the groups and roles that the user associated with a WikiSession possesses.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#getStatus--">getStatus</a></span>()</code>
<div class="block">Returns the status of the wiki session as a text string.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#getUserPrincipal--">getUserPrincipal</a></span>()</code>
<div class="block">Returns the primary user Principal associated with this session.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static <a href="../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#getWikiSession-org.apache.wiki.WikiEngine-javax.servlet.http.HttpServletRequest-">getWikiSession</a></span>(<a href="../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine,
              javax.servlet.http.HttpServletRequest&nbsp;request)</code>
<div class="block">Static factory method that returns the WikiSession object associated with the current HTTP request.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static <a href="../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#guestSession-org.apache.wiki.WikiEngine-">guestSession</a></span>(<a href="../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine)</code>
<div class="block">Static factory method that creates a new "guest" session containing a single user Principal
 <a href="../../../org/apache/wiki/auth/WikiPrincipal.html#GUEST"><code>WikiPrincipal.GUEST</code></a>, plus the role principals <a href="../../../org/apache/wiki/auth/authorize/Role.html#ALL"><code>Role.ALL</code></a> and <a href="../../../org/apache/wiki/auth/authorize/Role.html#ANONYMOUS"><code>Role.ANONYMOUS</code></a>.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#hasPrincipal-java.security.Principal-">hasPrincipal</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal)</code>
<div class="block">Returns <code>true</code> if the WikiSession's Subject possess a supplied Principal.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#injectGroupPrincipals--">injectGroupPrincipals</a></span>()</code>
<div class="block">Injects GroupPrincipal objects into the user's Principal set based on the groups the user belongs to.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#injectUserProfilePrincipals--">injectUserProfilePrincipals</a></span>()</code>
<div class="block">Adds Principal objects to the Subject that correspond to the logged-in user's profile attributes for the wiki name, full name
 and login name.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#invalidate--">invalidate</a></span>()</code>
<div class="block">Invalidates the WikiSession and resets its Subject's Principals to the equivalent of a "guest session".</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#isAnonymous--">isAnonymous</a></span>()</code>
<div class="block">Determines whether the current session is anonymous.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#isAsserted--">isAsserted</a></span>()</code>
<div class="block">Returns <code>true</code> if the user is considered asserted via a session cookie; that is, the Subject contains the Principal
 Role.ASSERTED.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#isAuthenticated--">isAuthenticated</a></span>()</code>
<div class="block">Returns the authentication status of the user's session.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#isInGroup-org.apache.wiki.auth.authorize.Group-">isInGroup</a></span>(<a href="../../../org/apache/wiki/auth/authorize/Group.html" title="class in org.apache.wiki.auth.authorize">Group</a>&nbsp;group)</code>
<div class="block">Returns <code>true</code> if one of this WikiSession's user Principals can be shown to belong to a particular wiki group.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#isIPV4Address-java.lang.String-">isIPV4Address</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Verifies whether a String represents an IPv4 address.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#removeWikiSession-org.apache.wiki.WikiEngine-javax.servlet.http.HttpServletRequest-">removeWikiSession</a></span>(<a href="../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine,
                 javax.servlet.http.HttpServletRequest&nbsp;request)</code>
<div class="block">Removes the wiki session associated with the user's HTTP request from the cache of wiki sessions, typically as part of a
 logout process.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#sessions-org.apache.wiki.WikiEngine-">sessions</a></span>(<a href="../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine)</code>
<div class="block">Returns the total number of active wiki sessions for a particular wiki.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/wiki/WikiSession.html#userPrincipals-org.apache.wiki.WikiEngine-">userPrincipals</a></span>(<a href="../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine)</code>
<div class="block">Returns Principals representing the current users known to a particular wiki.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ANONYMOUS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ANONYMOUS</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../src-html/org/apache/wiki/WikiSession.html#line.87">ANONYMOUS</a></pre>
<div class="block">An anonymous user's session status.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.apache.wiki.WikiSession.ANONYMOUS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ASSERTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ASSERTED</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../src-html/org/apache/wiki/WikiSession.html#line.90">ASSERTED</a></pre>
<div class="block">An asserted user's session status.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.apache.wiki.WikiSession.ASSERTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="AUTHENTICATED">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AUTHENTICATED</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../src-html/org/apache/wiki/WikiSession.html#line.93">AUTHENTICATED</a></pre>
<div class="block">An authenticated user's session status.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.apache.wiki.WikiSession.AUTHENTICATED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isInGroup-org.apache.wiki.auth.authorize.Group-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInGroup</h4>
<pre>protected&nbsp;boolean&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.129">isInGroup</a>(<a href="../../../org/apache/wiki/auth/authorize/Group.html" title="class in org.apache.wiki.auth.authorize">Group</a>&nbsp;group)</pre>
<div class="block">Returns <code>true</code> if one of this WikiSession's user Principals can be shown to belong to a particular wiki group. If
 the user is not authenticated, this method will always return <code>false</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>group</code> - the group to test</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="isAsserted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAsserted</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.150">isAsserted</a>()</pre>
<div class="block">Returns <code>true</code> if the user is considered asserted via a session cookie; that is, the Subject contains the Principal
 Role.ASSERTED.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns <code>true</code> if the user is asserted</dd>
</dl>
</li>
</ul>
<a name="isAuthenticated--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAuthenticated</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.162">isAuthenticated</a>()</pre>
<div class="block">Returns the authentication status of the user's session. The user is considered authenticated if the Subject contains the
 Principal Role.AUTHENTICATED. If this method determines that an earlier LoginModule did not inject Role.AUTHENTICATED, it
 will inject one if the user is not anonymous <em>and</em> not asserted.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns <code>true</code> if the user is authenticated</dd>
</dl>
</li>
</ul>
<a name="isAnonymous--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAnonymous</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.190">isAnonymous</a>()</pre>
<div class="block"><p>Determines whether the current session is anonymous. This will be true if any of these conditions are true:</p>
 <ul>
   <li>The session's Principal set contains
       <a href="../../../org/apache/wiki/auth/authorize/Role.html#ANONYMOUS"><code>Role.ANONYMOUS</code></a></li>
   <li>The session's Principal set contains
       <a href="../../../org/apache/wiki/auth/WikiPrincipal.html#GUEST"><code>WikiPrincipal.GUEST</code></a></li>
   <li>The Principal returned by <a href="../../../org/apache/wiki/WikiSession.html#getUserPrincipal--"><code>getUserPrincipal()</code></a> evaluates
       to an IP address.</li>
 </ul>
 <p>The criteria above are listed in the order in which they are evaluated.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the current user's identity is equivalent to an IP address</dd>
</dl>
</li>
</ul>
<a name="getLoginPrincipal--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLoginPrincipal</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.206">getLoginPrincipal</a>()</pre>
<div class="block"><p> Returns the Principal used to log in to an authenticated session. The login principal is determined by examining the
 Subject's Principal set for PrincipalWrappers or WikiPrincipals with type designator <code>LOGIN_NAME</code>; the first one
 found is the login principal. If one is not found, this method returns the first principal that isn't of type Role or
 GroupPrincipal. If neither of these conditions hold, this method returns <a href="../../../org/apache/wiki/auth/WikiPrincipal.html#GUEST"><code>WikiPrincipal.GUEST</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the login Principal. If it is a PrincipalWrapper containing an externally-provided Principal, the object returned is the
 Principal, not the wrapper around it.</dd>
</dl>
</li>
</ul>
<a name="getUserPrincipal--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserPrincipal</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.223">getUserPrincipal</a>()</pre>
<div class="block"><p>Returns the primary user Principal associated with this session. The primary user principal is determined as follows:</p>
 <ol>
     <li>If the Subject's Principal set contains WikiPrincipals, the first WikiPrincipal with type designator
         <code>WIKI_NAME</code> or (alternatively) <code>FULL_NAME</code> is the primary Principal.</li>
     <li>For all other cases, the first Principal in the Subject's principal collection that that isn't of type Role or
         GroupPrincipal is the primary.</li>
 </ol>
 If no primary user Principal is found, this method returns <a href="../../../org/apache/wiki/auth/WikiPrincipal.html#GUEST"><code>WikiPrincipal.GUEST</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the primary user Principal</dd>
</dl>
</li>
</ul>
<a name="getLocale--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocale</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html?is-external=true" title="class or interface in java.util">Locale</a>&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.237">getLocale</a>()</pre>
<div class="block">Returns a cached Locale object for this user.  It's better to use WikiContext's corresponding getBundle() method, since that
  will actually react if the user changes the locale in the middle, but if that's not available (or, for some reason, you need
  the speed), this method can also be used.  The Locale expires when the WikiSession expires, and currently there is no way to
  reset the Locale.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A cached Locale object</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.5.96</dd>
</dl>
</li>
</ul>
<a name="addMessage-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMessage</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.248">addMessage</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</pre>
<div class="block">Adds a message to the generic list of messages associated with the session. These messages retain their order of insertion and
 remain until the <a href="../../../org/apache/wiki/WikiSession.html#clearMessages--"><code>clearMessages()</code></a> method is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - the message to add; if <code>null</code> it is ignored.</dd>
</dl>
</li>
</ul>
<a name="addMessage-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMessage</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.260">addMessage</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;topic,
                       <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</pre>
<div class="block">Adds a message to the specific set of messages associated with the session. These messages retain their order of insertion and
 remain until the <a href="../../../org/apache/wiki/WikiSession.html#clearMessages--"><code>clearMessages()</code></a> method is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - the topic to associate the message to;</dd>
<dd><code>message</code> - the message to add</dd>
</dl>
</li>
</ul>
<a name="clearMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearMessages</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.271">clearMessages</a>()</pre>
<div class="block">Clears all messages associated with this session.</div>
</li>
</ul>
<a name="clearMessages-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearMessages</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.281">clearMessages</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;topic)</pre>
<div class="block">Clears all messages associated with a session topic.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - the topic whose messages should be cleared.</dd>
</dl>
</li>
</ul>
<a name="getMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessages</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.294">getMessages</a>()</pre>
<div class="block">Returns all generic messages associated with this session.
 The messages stored with the session persist throughout the
 session unless they have been reset with <a href="../../../org/apache/wiki/WikiSession.html#clearMessages--"><code>clearMessages()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current messages.</dd>
</dl>
</li>
</ul>
<a name="getMessages-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessages</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.306">getMessages</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;topic)</pre>
<div class="block">Returns all messages associated with a session topic.
 The messages stored with the session persist throughout the
 session unless they have been reset with <a href="../../../org/apache/wiki/WikiSession.html#clearMessages-java.lang.String-"><code>clearMessages(String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - The topic</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current messages.</dd>
</dl>
</li>
</ul>
<a name="getPrincipals--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrincipals</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.321">getPrincipals</a>()</pre>
<div class="block">Returns all user Principals associated with this session. User principals are those in the Subject's principal collection that
 aren't of type Role or of type GroupPrincipal. This is a defensive copy.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the user principal</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/apache/wiki/auth/AuthenticationManager.html#isUserPrincipal-java.security.Principal-"><code>AuthenticationManager.isUserPrincipal(Principal)</code></a></dd>
</dl>
</li>
</ul>
<a name="getRoles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoles</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.343">getRoles</a>()</pre>
<div class="block">Returns an array of Principal objects that represents the groups and roles that the user associated with a WikiSession possesses.
 The array is built by iterating through the Subject's Principal set and extracting all Role and GroupPrincipal objects into a
 list. The list is returned as an array sorted in the natural order implied by each Principal's <code>getName</code> method. Note
 that this method does <em>not</em> consult the external Authorizer or GroupManager; it relies on the Principals that have been
 injected into the user's Subject at login time, or after group creation/modification/deletion.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of Principal objects corresponding to the roles the Subject possesses</dd>
</dl>
</li>
</ul>
<a name="removeWikiSession-org.apache.wiki.WikiEngine-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeWikiSession</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.365">removeWikiSession</a>(<a href="../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine,
                                     javax.servlet.http.HttpServletRequest&nbsp;request)</pre>
<div class="block">Removes the wiki session associated with the user's HTTP request from the cache of wiki sessions, typically as part of a
 logout process.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - the wiki engine</dd>
<dd><code>request</code> - the users's HTTP request</dd>
</dl>
</li>
</ul>
<a name="hasPrincipal-java.security.Principal-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasPrincipal</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.380">hasPrincipal</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal)</pre>
<div class="block">Returns <code>true</code> if the WikiSession's Subject possess a supplied Principal. This method eliminates the need to externally
 request and inspect the JAAS subject.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>principal</code> - the Principal to test</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="actionPerformed-org.apache.wiki.event.WikiEvent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>actionPerformed</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.391">actionPerformed</a>(<a href="../../../org/apache/wiki/event/WikiEvent.html" title="class in org.apache.wiki.event">WikiEvent</a>&nbsp;event)</pre>
<div class="block">Listens for WikiEvents generated by source objects such as the GroupManager. This method adds Principals to the private Subject
 managed by the WikiSession.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/apache/wiki/event/WikiEventListener.html#actionPerformed-org.apache.wiki.event.WikiEvent-">actionPerformed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - a WikiEvent object</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/apache/wiki/event/WikiEventListener.html#actionPerformed-org.apache.wiki.event.WikiEvent-"><code>WikiEventListener.actionPerformed(org.apache.wiki.event.WikiEvent)</code></a></dd>
</dl>
</li>
</ul>
<a name="invalidate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidate</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.517">invalidate</a>()</pre>
<div class="block">Invalidates the WikiSession and resets its Subject's Principals to the equivalent of a "guest session".</div>
</li>
</ul>
<a name="injectGroupPrincipals--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>injectGroupPrincipals</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.534">injectGroupPrincipals</a>()</pre>
<div class="block">Injects GroupPrincipal objects into the user's Principal set based on the groups the user belongs to. For Groups, the algorithm
 first calls the <a href="../../../org/apache/wiki/auth/authorize/GroupManager.html#getRoles--"><code>GroupManager.getRoles()</code></a> to obtain the array of GroupPrincipals the authorizer knows about. Then, the
 method <a href="../../../org/apache/wiki/auth/authorize/GroupManager.html#isUserInRole-org.apache.wiki.WikiSession-java.security.Principal-"><code>GroupManager.isUserInRole(WikiSession, Principal)</code></a> is called for each Principal. If the user is a member of the
 group, an equivalent GroupPrincipal is injected into the user's principal set. Existing GroupPrincipals are flushed and replaced.
 This method should generally be called after a user's <a href="../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a> is saved. If the wiki session
 is null, or there is no matching user profile, the method returns silently.</div>
</li>
</ul>
<a name="injectUserProfilePrincipals--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>injectUserProfilePrincipals</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.552">injectUserProfilePrincipals</a>()</pre>
<div class="block">Adds Principal objects to the Subject that correspond to the logged-in user's profile attributes for the wiki name, full name
 and login name. These Principals will be WikiPrincipals, and they will replace all other WikiPrincipals in the Subject. <em>Note:
 this method is never called during anonymous or asserted sessions.</em></div>
</li>
</ul>
<a name="getStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatus</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.598">getStatus</a>()</pre>
<div class="block"><p>Returns the status of the wiki session as a text string. Valid values are:</p>
 <ul>
   <li><a href="../../../org/apache/wiki/WikiSession.html#AUTHENTICATED"><code>AUTHENTICATED</code></a></li>
   <li><a href="../../../org/apache/wiki/WikiSession.html#ASSERTED"><code>ASSERTED</code></a></li>
   <li><a href="../../../org/apache/wiki/WikiSession.html#ANONYMOUS"><code>ANONYMOUS</code></a></li>
 </ul></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the user's session status</dd>
</dl>
</li>
</ul>
<a name="getWikiSession-org.apache.wiki.WikiEngine-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWikiSession</h4>
<pre>public static&nbsp;<a href="../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a>&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.615">getWikiSession</a>(<a href="../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine,
                                         javax.servlet.http.HttpServletRequest&nbsp;request)</pre>
<div class="block"><p>Static factory method that returns the WikiSession object associated with the current HTTP request. This method looks up
 the associated HttpSession in an internal WeakHashMap and attempts to retrieve the WikiSession. If not found, one is created.
 This method is guaranteed to always return a WikiSession, although the authentication status is unpredictable until the user
 attempts to log in. If the servlet request parameter is <code>null</code>, a synthetic <a href="../../../org/apache/wiki/WikiSession.html#guestSession-org.apache.wiki.WikiEngine-"><code>guestSession(WikiEngine)</code></a> is
 returned.</p>
 <p>When a session is created, this method attaches a WikiEventListener to the GroupManager so that changes to groups are detected
 automatically.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - the wiki engine</dd>
<dd><code>request</code> - the servlet request object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the existing (or newly created) wiki session</dd>
</dl>
</li>
</ul>
<a name="guestSession-org.apache.wiki.WikiEngine-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>guestSession</h4>
<pre>public static&nbsp;<a href="../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a>&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.642">guestSession</a>(<a href="../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine)</pre>
<div class="block">Static factory method that creates a new "guest" session containing a single user Principal
 <a href="../../../org/apache/wiki/auth/WikiPrincipal.html#GUEST"><code>WikiPrincipal.GUEST</code></a>, plus the role principals <a href="../../../org/apache/wiki/auth/authorize/Role.html#ALL"><code>Role.ALL</code></a> and <a href="../../../org/apache/wiki/auth/authorize/Role.html#ANONYMOUS"><code>Role.ANONYMOUS</code></a>. This
 method also adds the session as a listener for GroupManager, AuthenticationManager and UserManager events.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - the wiki engine</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the guest wiki session</dd>
</dl>
</li>
</ul>
<a name="sessions-org.apache.wiki.WikiEngine-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sessions</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.683">sessions</a>(<a href="../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine)</pre>
<div class="block">Returns the total number of active wiki sessions for a particular wiki. This method delegates to the wiki's
 <a href="../../../org/apache/wiki/auth/SessionMonitor.html#sessions--"><code>SessionMonitor.sessions()</code></a> method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - the wiki session</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of sessions</dd>
</dl>
</li>
</ul>
<a name="userPrincipals-org.apache.wiki.WikiEngine-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>userPrincipals</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.696">userPrincipals</a>(<a href="../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine)</pre>
<div class="block">Returns Principals representing the current users known to a particular wiki. Each Principal will correspond to the
 value returned by each WikiSession's <a href="../../../org/apache/wiki/WikiSession.html#getUserPrincipal--"><code>getUserPrincipal()</code></a> method. This method delegates to
 <a href="../../../org/apache/wiki/auth/SessionMonitor.html#userPrincipals--"><code>SessionMonitor.userPrincipals()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - the wiki engine</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of Principal objects, sorted by name</dd>
</dl>
</li>
</ul>
<a name="doPrivileged-org.apache.wiki.WikiSession-java.security.PrivilegedAction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doPrivileged</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.712">doPrivileged</a>(<a href="../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a>&nbsp;session,
                                  <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PrivilegedAction.html?is-external=true" title="class or interface in java.security">PrivilegedAction</a>&lt;?&gt;&nbsp;action)
                           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/security/AccessControlException.html?is-external=true" title="class or interface in java.security">AccessControlException</a></pre>
<div class="block">Wrapper for
 <a href="https://docs.oracle.com/javase/8/docs/api/javax/security/auth/Subject.html?is-external=true#doAsPrivileged-javax.security.auth.Subject-java.security.PrivilegedExceptionAction-java.security.AccessControlContext-" title="class or interface in javax.security.auth"><code>Subject.doAsPrivileged(Subject, java.security.PrivilegedExceptionAction, java.security.AccessControlContext)</code></a>
 that executes an action with the privileges posssessed by a WikiSession's Subject. The action executes with a <code>null</code>
 AccessControlContext, which has the effect of running it "cleanly" without the AccessControlContexts of the caller.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the wiki session</dd>
<dd><code>action</code> - the privileged action</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the privileged action; may be <code>null</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/security/AccessControlException.html?is-external=true" title="class or interface in java.security">AccessControlException</a></code> - if the action is not permitted by the security policy</dd>
</dl>
</li>
</ul>
<a name="isIPV4Address-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isIPV4Address</h4>
<pre>protected static&nbsp;boolean&nbsp;<a href="../../../src-html/org/apache/wiki/WikiSession.html#line.722">isIPV4Address</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Verifies whether a String represents an IPv4 address. The algorithm is
 extremely efficient and does not allocate any objects.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the address to test</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WikiSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/apache/wiki/WikiServlet.html" title="class in org.apache.wiki"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/apache/wiki/WikiSession.html" target="_top">Frames</a></li>
<li><a href="WikiSession.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright © 2001-2020 The Apache Software Foundation. All rights reserved.</small></p>
</body>
</html>