<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>PropertyReader (Apache JSPWiki 2.12.1-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PropertyReader (Apache JSPWiki 2.12.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PropertyReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.wiki.util</a></div>
<h2 title="Class PropertyReader" class="title">Class PropertyReader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.wiki.util.PropertyReader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<object type="image/svg+xml" data="PropertyReader.svg"  style="max-width:60%;float:right;"></object>
<pre style="white-space:pre-wrap;">public final class <a href="../../../../src-html/org/apache/wiki/util/PropertyReader.html#line.43">PropertyReader</a>
extends java.lang.Object</pre>
<div class="block">Property Reader for the WikiEngine. Reads the properties for the WikiEngine
 and implements the feature of cascading properties and variable substitution,
 which come in handy in a multi wiki installation environment: It reduces the
 need for (shell) scripting in order to generate different jspwiki.properties
 to a minimum.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.5.x</dd>
</dl>
</li>
</ul>
</div>
<div class="summary" style="clear:right;">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CUSTOM_JSPWIKI_CONFIG">CUSTOM_JSPWIKI_CONFIG</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_JSPWIKI_CONFIG">DEFAULT_JSPWIKI_CONFIG</a></span></code></th>
<td class="colLast">
<div class="block">Path to the base property file, usually overridden by values provided in
 a jspwiki-custom.properties file "/ini/jspwiki.properties"</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#PARAM_CUSTOMCONFIG">PARAM_CUSTOMCONFIG</a></span></code></th>
<td class="colLast">
<div class="block">The servlet context parameter (from web.xml)  that defines where the config file is to be found.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#PARAM_CUSTOMCONFIG_CASCADEPREFIX">PARAM_CUSTOMCONFIG_CASCADEPREFIX</a></span></code></th>
<td class="colLast">
<div class="block">The prefix when you are cascading properties.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#expandVars(java.util.Properties)">expandVars</a></span>&#8203;(java.util.Properties&nbsp;properties)</code></th>
<td class="colLast">
<div class="block">You define a property variable by using the prefix "var.x" as a property.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static java.util.Properties</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCombinedProperties(java.lang.String)">getCombinedProperties</a></span>&#8203;(java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">Returns a property set consisting of the default Property Set overlaid with a custom property set</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.util.Properties</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDefaultProperties()">getDefaultProperties</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the property set as a Properties object.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static java.util.Properties</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#loadWebAppProps(javax.servlet.ServletContext)">loadWebAppProps</a></span>&#8203;(javax.servlet.ServletContext&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Loads the webapp properties based on servlet context information, or
  (if absent) based on the Java System Property <a href="#PARAM_CUSTOMCONFIG">"jspwiki.custom.config"</a>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.io.InputStream</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#locateClassPathResource(javax.servlet.ServletContext,java.lang.String)">locateClassPathResource</a></span>&#8203;(javax.servlet.ServletContext&nbsp;context,
                       java.lang.String&nbsp;resourceName)</code></th>
<td class="colLast">
<div class="block">Locate a resource stored in the class path.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="DEFAULT_JSPWIKI_CONFIG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_JSPWIKI_CONFIG</h4>
<pre>public static final&nbsp;java.lang.String <a href="../../../../src-html/org/apache/wiki/util/PropertyReader.html#line.51">DEFAULT_JSPWIKI_CONFIG</a></pre>
<div class="block">Path to the base property file, usually overridden by values provided in
 a jspwiki-custom.properties file "/ini/jspwiki.properties"</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.wiki.util.PropertyReader.DEFAULT_JSPWIKI_CONFIG">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="PARAM_CUSTOMCONFIG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PARAM_CUSTOMCONFIG</h4>
<pre>public static final&nbsp;java.lang.String <a href="../../../../src-html/org/apache/wiki/util/PropertyReader.html#line.58">PARAM_CUSTOMCONFIG</a></pre>
<div class="block">The servlet context parameter (from web.xml)  that defines where the config file is to be found. If it is not defined, checks
 the Java System Property, if that is not defined either, uses the default as defined by DEFAULT_PROPERTYFILE.
 <a href="#DEFAULT_JSPWIKI_CONFIG">"/ini/jspwiki.properties"</a></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.wiki.util.PropertyReader.PARAM_CUSTOMCONFIG">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="PARAM_CUSTOMCONFIG_CASCADEPREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PARAM_CUSTOMCONFIG_CASCADEPREFIX</h4>
<pre>public static final&nbsp;java.lang.String <a href="../../../../src-html/org/apache/wiki/util/PropertyReader.html#line.65">PARAM_CUSTOMCONFIG_CASCADEPREFIX</a></pre>
<div class="block">The prefix when you are cascading properties.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#loadWebAppProps(javax.servlet.ServletContext)"><code>loadWebAppProps(ServletContext)</code></a>, 
<a href="../../../../constant-values.html#org.apache.wiki.util.PropertyReader.PARAM_CUSTOMCONFIG_CASCADEPREFIX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CUSTOM_JSPWIKI_CONFIG">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CUSTOM_JSPWIKI_CONFIG</h4>
<pre>public static final&nbsp;java.lang.String <a href="../../../../src-html/org/apache/wiki/util/PropertyReader.html#line.67">CUSTOM_JSPWIKI_CONFIG</a></pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.wiki.util.PropertyReader.CUSTOM_JSPWIKI_CONFIG">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="loadWebAppProps(javax.servlet.ServletContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadWebAppProps</h4>
<pre class="methodSignature">public static&nbsp;java.util.Properties&nbsp;<a href="../../../../src-html/org/apache/wiki/util/PropertyReader.html#line.121">loadWebAppProps</a>&#8203;(javax.servlet.ServletContext&nbsp;context)</pre>
<div class="block">Loads the webapp properties based on servlet context information, or
  (if absent) based on the Java System Property <a href="#PARAM_CUSTOMCONFIG">"jspwiki.custom.config"</a>.
  Returns a Properties object containing the settings, or null if unable
  to load it. (The default file is ini/jspwiki.properties, and can be
  customized by setting <a href="#PARAM_CUSTOMCONFIG">"jspwiki.custom.config"</a> in the server or webapp
  configuration.)

  <h3>Properties sources</h3>
  The following properties sources are taken into account:
  <ol>
      <li>JSPWiki default properties</li>
      <li>System environment</li>
      <li>JSPWiki custom property files</li>
      <li>JSPWiki cascading properties</li>
      <li>System properties</li>
  </ol>
  With later sources taking precedence over the previous ones. To avoid leaking system information,
  only System environment and properties beginning with <code>jspwiki</code> (case unsensitive) are taken into account.
  Also, to ease docker integration, System env properties containing "_" are turned into ".". Thus,
  <code>ENV jspwiki_fileSystemProvider_pageDir</code> is loaded as <code>jspwiki.fileSystemProvider.pageDir</code>.

  <h3>Cascading Properties</h3>
  <p>
  You can define additional property files and merge them into the default
  properties file in a similar process to how you define cascading style
  sheets; hence we call this <i>cascading property files</i>. This way you
  can overwrite the default values and only specify the properties you
  need to change in a multiple wiki environment.
  <p>
  You define a cascade in the context mapping of your servlet container.
  <pre>
  jspwiki.custom.cascade.1
  jspwiki.custom.cascade.2
  jspwiki.custom.cascade.3
  </pre>
  and so on. You have to number your cascade in a descending way starting
  with "1". This means you cannot leave out numbers in your cascade. This
  method is based on an idea by Olaf Kaus, see [JSPWiki:MultipleWikis].</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - A Servlet Context which is used to find the properties</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A filled Properties object with all the cascaded properties in place</dd>
</dl>
</li>
</ul>
<a id="getDefaultProperties()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultProperties</h4>
<pre class="methodSignature">public static&nbsp;java.util.Properties&nbsp;<a href="../../../../src-html/org/apache/wiki/util/PropertyReader.html#line.192">getDefaultProperties</a>()</pre>
<div class="block">Returns the property set as a Properties object.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A property set.</dd>
</dl>
</li>
</ul>
<a id="getCombinedProperties(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCombinedProperties</h4>
<pre class="methodSignature">public static&nbsp;java.util.Properties&nbsp;<a href="../../../../src-html/org/apache/wiki/util/PropertyReader.html#line.212">getCombinedProperties</a>&#8203;(java.lang.String&nbsp;fileName)</pre>
<div class="block">Returns a property set consisting of the default Property Set overlaid with a custom property set</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - Reference to the custom override file</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A property set consisting of the default property set and custom property set, with
          the latter's properties replacing the former for any common values</dd>
</dl>
</li>
</ul>
<a id="expandVars(java.util.Properties)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expandVars</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/util/PropertyReader.html#line.286">expandVars</a>&#8203;(java.util.Properties&nbsp;properties)</pre>
<div class="block">You define a property variable by using the prefix "var.x" as a property. In property values you can then use the "$x" identifier
  to use this variable.

  For example, you could declare a base directory for all your files like this and use it in all your other property definitions with
  a "$basedir". Note that it does not matter if you define the variable before its usage.
  <pre>
  var.basedir = /p/mywiki;
  jspwiki.fileSystemProvider.pageDir =         $basedir/www/
  jspwiki.basicAttachmentProvider.storageDir = $basedir/www/
  jspwiki.workDir =                            $basedir/wrk/
  </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>properties</code> - - properties to expand;</dd>
</dl>
</li>
</ul>
<a id="locateClassPathResource(javax.servlet.ServletContext,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>locateClassPathResource</h4>
<pre class="methodSignature">public static&nbsp;java.io.InputStream&nbsp;<a href="../../../../src-html/org/apache/wiki/util/PropertyReader.html#line.335">locateClassPathResource</a>&#8203;(javax.servlet.ServletContext&nbsp;context,
                                                          java.lang.String&nbsp;resourceName)</pre>
<div class="block">Locate a resource stored in the class path. Try first with "WEB-INF/classes"
 from the web app and fallback to "resourceName".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the servlet context</dd>
<dd><code>resourceName</code> - the name of the resource</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the input stream of the resource or <b>null</b> if the resource was not found</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PropertyReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright (c) 2001-2023 The Apache Software Foundation. All rights reserved.</small></p>
</footer>
</body>
</html>