<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.9) on Wed Dec 23 20:28:28 UTC 2020 -->
<title>DefaultWorkflowManager (Apache JSPWiki 2.11.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-12-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DefaultWorkflowManager (Apache JSPWiki 2.11.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultWorkflowManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.wiki.workflow</a></div>
<h2 title="Class DefaultWorkflowManager" class="title">Class DefaultWorkflowManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.wiki.workflow.DefaultWorkflowManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.util.EventListener</code>, <code><a href="../api/engine/Initializable.html" title="interface in org.apache.wiki.api.engine">Initializable</a></code>, <code><a href="../event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a></code>, <code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
</dl>
<hr>
<object type="image/svg+xml" data="DefaultWorkflowManager.svg"  style="max-width:60%;float:right;"></object>
<pre style="white-space:pre-wrap;">public class <a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.48">DefaultWorkflowManager</a>
extends java.lang.Object
implements <a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></pre>
<div class="block"><p>
 Monitor class that tracks running Workflows. The WorkflowManager also keeps track of the names of
 users or groups expected to approve particular Workflows.
 </p></div>
</li>
</ul>
</div>
<div class="summary" style="clear:right;">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.wiki.workflow.WorkflowManager">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.wiki.workflow.<a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></h3>
<code><a href="WorkflowManager.html#PROPERTY_APPROVER_PREFIX">PROPERTY_APPROVER_PREFIX</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_APPROVER">WF_UP_CREATE_SAVE_APPROVER</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_ATTR_SAVED_PROFILE">WF_UP_CREATE_SAVE_ATTR_SAVED_PROFILE</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_DECISION_MESSAGE_KEY">WF_UP_CREATE_SAVE_DECISION_MESSAGE_KEY</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_PREFS_EMAIL">WF_UP_CREATE_SAVE_FACT_PREFS_EMAIL</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_PREFS_FULL_NAME">WF_UP_CREATE_SAVE_FACT_PREFS_FULL_NAME</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_PREFS_LOGIN_NAME">WF_UP_CREATE_SAVE_FACT_PREFS_LOGIN_NAME</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_SUBMITTER">WF_UP_CREATE_SAVE_FACT_SUBMITTER</a>, <a href="WorkflowManager.html#WF_WP_SAVE_APPROVER">WF_WP_SAVE_APPROVER</a>, <a href="WorkflowManager.html#WF_WP_SAVE_DECISION_MESSAGE_KEY">WF_WP_SAVE_DECISION_MESSAGE_KEY</a>, <a href="WorkflowManager.html#WF_WP_SAVE_FACT_CURRENT_TEXT">WF_WP_SAVE_FACT_CURRENT_TEXT</a>, <a href="WorkflowManager.html#WF_WP_SAVE_FACT_DIFF_TEXT">WF_WP_SAVE_FACT_DIFF_TEXT</a>, <a href="WorkflowManager.html#WF_WP_SAVE_FACT_IS_AUTHENTICATED">WF_WP_SAVE_FACT_IS_AUTHENTICATED</a>, <a href="WorkflowManager.html#WF_WP_SAVE_FACT_PAGE_NAME">WF_WP_SAVE_FACT_PAGE_NAME</a>, <a href="WorkflowManager.html#WF_WP_SAVE_FACT_PROPOSED_TEXT">WF_WP_SAVE_FACT_PROPOSED_TEXT</a>, <a href="WorkflowManager.html#WF_WP_SAVE_REJECT_MESSAGE_KEY">WF_WP_SAVE_REJECT_MESSAGE_KEY</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">DefaultWorkflowManager</a></span>()</code></th>
<td class="colLast">
<div class="block">Constructs a new WorkflowManager, with an empty workflow cache.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#actionPerformed(org.apache.wiki.event.WikiEvent)">actionPerformed</a></span>&#8203;(<a href="../event/WikiEvent.html" title="class in org.apache.wiki.event">WikiEvent</a>&nbsp;event)</code></th>
<td class="colLast">
<div class="block">Listens for <a href="../event/WorkflowEvent.html" title="class in org.apache.wiki.event"><code>WorkflowEvent</code></a> objects emitted by Workflows.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#add(org.apache.wiki.workflow.Workflow)">add</a></span>&#8203;(<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</code></th>
<td class="colLast">
<div class="block">Protected helper method that adds a newly created Workflow to the cache, and sets its <code>workflowManager</code> and
 <code>Id</code> properties if not set.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addToDecisionQueue(org.apache.wiki.workflow.Decision)">addToDecisionQueue</a></span>&#8203;(<a href="Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.security.Principal</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getApprover(java.lang.String)">getApprover</a></span>&#8203;(java.lang.String&nbsp;messageKey)</code></th>
<td class="colLast">
<div class="block">Looks up and resolves the actor who approves a Decision for a particular Workflow, based on the Workflow's message key.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCompletedWorkflows()">getCompletedWorkflows</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a collection of finished workflows; that is, those that have aborted or completed.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="DecisionQueue.html" title="class in org.apache.wiki.workflow">DecisionQueue</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDecisionQueue()">getDecisionQueue</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the DecisionQueue associated with this WorkflowManager</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected <a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getEngine()">getEngine</a></span>()</code></th>
<td class="colLast">
<div class="block">Protected helper method that returns the associated Engine</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOwnerWorkflows(org.apache.wiki.api.core.Session)">getOwnerWorkflows</a></span>&#8203;(<a href="../api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session)</code></th>
<td class="colLast">
<div class="block">Returns the current workflows a wiki session owns.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getWorkflows()">getWorkflows</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a collection of the currently active workflows.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initialize(org.apache.wiki.api.core.Engine,java.util.Properties)">initialize</a></span>&#8203;(<a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
          java.util.Properties&nbsp;props)</code></th>
<td class="colLast">
<div class="block">Initializes this Engine component.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#remove(org.apache.wiki.workflow.Workflow)">remove</a></span>&#8203;(<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</code></th>
<td class="colLast">
<div class="block">Protected helper method that removes a specified Workflow from the cache, and moves it to the workflow history list.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeFromDecisionQueue(org.apache.wiki.workflow.Decision,org.apache.wiki.api.core.Context)">removeFromDecisionQueue</a></span>&#8203;(<a href="Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision,
                       <a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#requiresApproval(java.lang.String)">requiresApproval</a></span>&#8203;(java.lang.String&nbsp;messageKey)</code></th>
<td class="colLast">
<div class="block">Returns <code>true</code> if a workflow matching a particular key contains an approval step.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefaultWorkflowManager</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.66">DefaultWorkflowManager</a>()</pre>
<div class="block">Constructs a new WorkflowManager, with an empty workflow cache.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getWorkflows()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWorkflows</h4>
<pre class="methodSignature">public&nbsp;java.util.Set&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.76">getWorkflows</a>()</pre>
<div class="block">Returns a collection of the currently active workflows.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="WorkflowManager.html#getWorkflows()">getWorkflows</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current workflows</dd>
</dl>
</li>
</ul>
<a id="getCompletedWorkflows()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompletedWorkflows</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.86">getCompletedWorkflows</a>()</pre>
<div class="block">Returns a collection of finished workflows; that is, those that have aborted or completed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="WorkflowManager.html#getCompletedWorkflows()">getCompletedWorkflows</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the finished workflows</dd>
</dl>
</li>
</ul>
<a id="initialize(org.apache.wiki.api.core.Engine,java.util.Properties)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.100">initialize</a>&#8203;(<a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
                       java.util.Properties&nbsp;props)</pre>
<div class="block"><p>Initializes this Engine component. Note that the engine is not fully initialized at this
 point, so don't do anything fancy here - use lazy init, if you have to.<br/>&nbsp;</p>

 Any properties that begin with <a href="WorkflowManager.html#PROPERTY_APPROVER_PREFIX"><code>WorkflowManager.PROPERTY_APPROVER_PREFIX</code></a> will be assumed to be Decisions that require approval. For a given
 property key, everything after the prefix denotes the Decision's message key. The property value indicates the Principal (Role,
 GroupPrincipal, WikiPrincipal) that must approve the Decision. For example, if the property key/value pair is
 <code>jspwiki.approver.workflow.saveWikiPage=Admin</code>, the Decision's message key is <code>workflow.saveWikiPage</code>. The Principal
 <code>Admin</code> will be resolved via <a href="../auth/AuthorizationManager.html#resolvePrincipal(java.lang.String)"><code>AuthorizationManager.resolvePrincipal(String)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../api/engine/Initializable.html#initialize(org.apache.wiki.api.core.Engine,java.util.Properties)">initialize</a></code>&nbsp;in interface&nbsp;<code><a href="../api/engine/Initializable.html" title="interface in org.apache.wiki.api.engine">Initializable</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - Engine performing the initialization.</dd>
<dd><code>props</code> - Properties for setup.</dd>
</dl>
</li>
</ul>
<a id="requiresApproval(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requiresApproval</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.180">requiresApproval</a>&#8203;(java.lang.String&nbsp;messageKey)</pre>
<div class="block">Returns <code>true</code> if a workflow matching a particular key contains an approval step.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="WorkflowManager.html#requiresApproval(java.lang.String)">requiresApproval</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messageKey</code> - the name of the workflow; corresponds to the value returned by <a href="Workflow.html#getMessageKey()"><code>Workflow.getMessageKey()</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a id="getApprover(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getApprover</h4>
<pre class="methodSignature">public&nbsp;java.security.Principal&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.188">getApprover</a>&#8203;(java.lang.String&nbsp;messageKey)
                                    throws <a href="../api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></pre>
<div class="block">Looks up and resolves the actor who approves a Decision for a particular Workflow, based on the Workflow's message key.
 If not found, or if Principal is Unresolved, throws WikiException. This particular implementation always returns the
 GroupPrincipal <code>Admin</code></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="WorkflowManager.html#getApprover(java.lang.String)">getApprover</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messageKey</code> - the Decision's message key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the actor who approves Decisions</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></code> - if the message key was not found, or the
 Principal value corresponding to the key could not be resolved</dd>
</dl>
</li>
</ul>
<a id="getEngine()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEngine</h4>
<pre class="methodSignature">protected&nbsp;<a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.215">getEngine</a>()</pre>
<div class="block">Protected helper method that returns the associated Engine</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the wiki engine</dd>
</dl>
</li>
</ul>
<a id="getDecisionQueue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDecisionQueue</h4>
<pre class="methodSignature">public&nbsp;<a href="DecisionQueue.html" title="class in org.apache.wiki.workflow">DecisionQueue</a>&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.227">getDecisionQueue</a>()</pre>
<div class="block">Returns the DecisionQueue associated with this WorkflowManager</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="WorkflowManager.html#getDecisionQueue()">getDecisionQueue</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the decision queue</dd>
</dl>
</li>
</ul>
<a id="getOwnerWorkflows(org.apache.wiki.api.core.Session)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOwnerWorkflows</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.235">getOwnerWorkflows</a>&#8203;(<a href="../api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session)</pre>
<div class="block">Returns the current workflows a wiki session owns. These are workflows whose <a href="Workflow.html#getOwner()"><code>Workflow.getOwner()</code></a> method returns a Principal
 also possessed by the wiki session (see <a href="../api/core/Session.html#getPrincipals()"><code>Session.getPrincipals()</code></a>). If the wiki session is not
 authenticated, this method returns an empty Collection.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="WorkflowManager.html#getOwnerWorkflows(org.apache.wiki.api.core.Session)">getOwnerWorkflows</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the wiki session</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the collection workflows the wiki session owns, which may be empty</dd>
</dl>
</li>
</ul>
<a id="actionPerformed(org.apache.wiki.event.WikiEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>actionPerformed</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.261">actionPerformed</a>&#8203;(<a href="../event/WikiEvent.html" title="class in org.apache.wiki.event">WikiEvent</a>&nbsp;event)</pre>
<div class="block">Listens for <a href="../event/WorkflowEvent.html" title="class in org.apache.wiki.event"><code>WorkflowEvent</code></a> objects emitted by Workflows. In particular, this method listens for <a href="../event/WorkflowEvent.html#CREATED"><code>WorkflowEvent.CREATED</code></a>,
 <a href="../event/WorkflowEvent.html#ABORTED"><code>WorkflowEvent.ABORTED</code></a>, <a href="../event/WorkflowEvent.html#COMPLETED"><code>WorkflowEvent.COMPLETED</code></a> and <a href="../event/WorkflowEvent.html#DQ_REMOVAL"><code>WorkflowEvent.DQ_REMOVAL</code></a> events. If a workflow is created,
 it is automatically added to the cache. If one is aborted or completed, it is automatically removed. If a removal from decision queue
 is issued, the current step from workflow, which is assumed to be a <a href="Decision.html" title="class in org.apache.wiki.workflow"><code>Decision</code></a>, is removed from the <a href="DecisionQueue.html" title="class in org.apache.wiki.workflow"><code>DecisionQueue</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../event/WikiEventListener.html#actionPerformed(org.apache.wiki.event.WikiEvent)">actionPerformed</a></code>&nbsp;in interface&nbsp;<code><a href="../event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - the event passed to this listener</dd>
</dl>
</li>
</ul>
<a id="add(org.apache.wiki.workflow.Workflow)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.294">add</a>&#8203;(<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</pre>
<div class="block">Protected helper method that adds a newly created Workflow to the cache, and sets its <code>workflowManager</code> and
 <code>Id</code> properties if not set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workflow</code> - the workflow to add</dd>
</dl>
</li>
</ul>
<a id="remove(org.apache.wiki.workflow.Workflow)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.304">remove</a>&#8203;(<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</pre>
<div class="block">Protected helper method that removes a specified Workflow from the cache, and moves it to the workflow history list. This method
 defensively checks to see if the workflow has not yet been removed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workflow</code> - the workflow to remove</dd>
</dl>
</li>
</ul>
<a id="removeFromDecisionQueue(org.apache.wiki.workflow.Decision,org.apache.wiki.api.core.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromDecisionQueue</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.311">removeFromDecisionQueue</a>&#8203;(<a href="Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision,
                                       <a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context)</pre>
</li>
</ul>
<a id="addToDecisionQueue(org.apache.wiki.workflow.Decision)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addToDecisionQueue</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.329">addToDecisionQueue</a>&#8203;(<a href="Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision)</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultWorkflowManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright © 2001-2020 The Apache Software Foundation. All rights reserved.</small></p>
</footer>
</body>
</html>