<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_19) on Tue Jan 14 20:42:25 CET 2014 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
Workflow (Apache JSPWiki Main War 2.10.0 API)
</TITLE>

<META NAME="date" CONTENT="2014-01-14">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Workflow (Apache JSPWiki Main War 2.10.0 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Workflow.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/wiki/workflow/Task.html" title="class in org.apache.wiki.workflow"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/apache/wiki/workflow/WorkflowBuilder.html" title="class in org.apache.wiki.workflow"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/wiki/workflow/Workflow.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Workflow.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.wiki.workflow</FONT>
<BR>
Class Workflow</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.wiki.workflow.Workflow</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.199"><B>Workflow</B></A><DT>extends <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A><DT>implements <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</A></DL>
</PRE>
<map id="APIVIZ" name="APIVIZ">
<area shape="rect" id="node1" title="&#171;interface&#187; Serializable (java.io)" alt="" coords="5,6,93,69"/>
<area shape="rect" id="node2" href="Workflow.html" title="Workflow" alt="" coords="12,109,87,137"/>
</map>
<div id="apivizContainer" style="text-align: center;"><img src="Workflow.png" usemap="#APIVIZ" border="0"></div>

<P>
<p>
 Sequence of <A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow"><CODE>Step</CODE></A> objects linked together. Workflows are always
 initialized with a message key that denotes the name of the Workflow, and a
 Principal that represents its owner.
 </p>
 <h2>Workflow lifecycle</h2>
 A Workflow's state (obtained by <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getCurrentState()"><CODE>getCurrentState()</CODE></A>) will be one of the
 following:
 </p>
 <ul>
 <li><strong><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#CREATED"><CODE>CREATED</CODE></A></strong>: after the Workflow has been
 instantiated, but before it has been started using the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#start()"><CODE>start()</CODE></A>
 method.</li>
 <li><strong><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#RUNNING"><CODE>RUNNING</CODE></A></strong>: after the Workflow has been started
 using the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#start()"><CODE>start()</CODE></A> method, but before it has finished processing all
 Steps. Note that a Workflow can only be started once; attempting to start it
 again results in an IllegalStateException. Callers can place the Workflow
 into the WAITING state by calling <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#waitstate()"><CODE>waitstate()</CODE></A>.</li>
 <li><strong><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#WAITING"><CODE>WAITING</CODE></A></strong>: when the Workflow has temporarily
 paused, for example because of a pending Decision. Once the responsible actor
 decides what to do, the caller can change the Workflow back to the RUNNING
 state by calling the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#restart()"><CODE>restart()</CODE></A> method (this is done automatically by
 the Decision class, for instance, when the <A HREF="../../../../org/apache/wiki/workflow/Decision.html#decide(org.apache.wiki.workflow.Outcome)"><CODE>Decision.decide(Outcome)</CODE></A>
 method is invoked)</li>
 <li><strong><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#COMPLETED"><CODE>COMPLETED</CODE></A></strong>: after the Workflow has finished
 processing all Steps, without errors.</li>
 <li><strong><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#ABORTED"><CODE>ABORTED</CODE></A></strong>: if a Step has elected to abort the
 Workflow.</li>
 </ul>
 <h2>Steps and processing algorithm</h2>
 <p>
 Workflow Step objects can be of type <A HREF="../../../../org/apache/wiki/workflow/Decision.html" title="class in org.apache.wiki.workflow"><CODE>Decision</CODE></A>, <A HREF="../../../../org/apache/wiki/workflow/Task.html" title="class in org.apache.wiki.workflow"><CODE>Task</CODE></A> or other
 Step subclasses. Decisions require user input, while Tasks do not. See the
 <A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow"><CODE>Step</CODE></A> class for more details.
 </p>
 <p>
 After instantiating a new Workflow (but before telling it to <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#start()"><CODE>start()</CODE></A>),
 calling classes should specify the first Step by executing the
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#setFirstStep(org.apache.wiki.workflow.Step)"><CODE>setFirstStep(Step)</CODE></A> method. Additional Steps can be chained by
 invoking the first step's <A HREF="../../../../org/apache/wiki/workflow/Step.html#addSuccessor(org.apache.wiki.workflow.Outcome, org.apache.wiki.workflow.Step)"><CODE>Step.addSuccessor(Outcome, Step)</CODE></A> method.
 </p>
 <p>
 When a Workflow's <code>start</code> method is invoked, the Workflow
 retrieves the first Step and processes it. This Step, and subsequent ones,
 are processed as follows:
 </p>
 <ul>
 <li>The Step's <A HREF="../../../../org/apache/wiki/workflow/Step.html#start()"><CODE>Step.start()</CODE></A> method executes, which sets the start
 time.</li>
 <li>The Step's <A HREF="../../../../org/apache/wiki/workflow/Step.html#execute()"><CODE>Step.execute()</CODE></A> method is called to begin processing,
 which will return an Outcome to indicate completion, continuation or errors:</li>
 <ul>
 <li><A HREF="../../../../org/apache/wiki/workflow/Outcome.html#STEP_COMPLETE"><CODE>Outcome.STEP_COMPLETE</CODE></A> indicates that the execution method ran
 without errors, and that the Step should be considered "completed."</li>
 <li><A HREF="../../../../org/apache/wiki/workflow/Outcome.html#STEP_CONTINUE"><CODE>Outcome.STEP_CONTINUE</CODE></A> indicates that the execution method ran
 without errors, but that the Step is not "complete" and should be put into
 the WAITING state.</li>
 <li><A HREF="../../../../org/apache/wiki/workflow/Outcome.html#STEP_ABORT"><CODE>Outcome.STEP_ABORT</CODE></A> indicates that the execution method
 encountered errors, and should abort the Step <em>and</em> the Workflow as
 a whole. When this happens, the Workflow will set the current Step's Outcome
 to <A HREF="../../../../org/apache/wiki/workflow/Outcome.html#STEP_ABORT"><CODE>Outcome.STEP_ABORT</CODE></A> and invoke the Workflow's <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#abort()"><CODE>abort()</CODE></A>
 method. The Step's processing errors, if any, can be retrieved by
 <A HREF="../../../../org/apache/wiki/workflow/Step.html#getErrors()"><CODE>Step.getErrors()</CODE></A>.</li>
 </ul>
 <li>The Outcome of the <code>execute</code> method also affects what
 happens next. Depending on the result (and assuming the Step did not abort),
 the Workflow will either move on to the next Step or put the Workflow into
 the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#WAITING"><CODE>WAITING</CODE></A> state:</li>
 <ul>
 <li>If the Outcome denoted "completion" (<em>i.e.</em>, its
 <A HREF="../../../../org/apache/wiki/workflow/Step.html#isCompleted()"><CODE>Step.isCompleted()</CODE></A> method returns <code>true</code>) then the Step
 is considered complete; the Workflow looks up the next Step by calling the
 current Step's <A HREF="../../../../org/apache/wiki/workflow/Step.html#getSuccessor(org.apache.wiki.workflow.Outcome)"><CODE>Step.getSuccessor(Outcome)</CODE></A> method. If
 <code>successor()</code> returns a non-<code>null</code> Step, the
 return value is marked as the current Step and added to the Workflow's Step
 history. If <code>successor()</code> returns <code>null</code>, then the
 Workflow has no more Steps and it enters the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#COMPLETED"><CODE>COMPLETED</CODE></A> state.</li>
 <li>If the Outcome did not denote "completion" (<em>i.e.</em>, its
 <A HREF="../../../../org/apache/wiki/workflow/Step.html#isCompleted()"><CODE>Step.isCompleted()</CODE></A> method returns <code>false</code>), then the
 Step still has further work to do. The Workflow enters the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#WAITING"><CODE>WAITING</CODE></A>
 state and stops further processing until a caller restarts it.</li>
 </ul>
 </ul>
 </p>
 <p>
 The currently executing Step can be obtained by <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getCurrentStep()"><CODE>getCurrentStep()</CODE></A>. The
 actor for the current Step is returned by <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getCurrentActor()"><CODE>getCurrentActor()</CODE></A>.
 </p>
 <p>
 To provide flexibility for specific implementations, the Workflow class
 provides two additional features that enable Workflow participants (<em>i.e.</em>,
 Workflow subclasses and Step/Task/Decision subclasses) to share context and
 state information. These two features are <em>named attributes</em> and
 <em>message arguments</em>:
 </p>
 <ul>
 <li><strong>Named attributes</strong> are simple key-value pairs that
 Workflow participants can get or set. Keys are Strings; values can be any
 Object. Named attributes are set with <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#setAttribute(java.lang.String, java.lang.Object)"><CODE>setAttribute(String, Object)</CODE></A>
 and retrieved with <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getAttribute(java.lang.String)"><CODE>getAttribute(String)</CODE></A>.</li>
 <li><strong>Message arguments</strong> are used in combination with
 JSPWiki's <A HREF="../../../../org/apache/wiki/i18n/InternationalizationManager.html" title="class in org.apache.wiki.i18n"><CODE>InternationalizationManager</CODE></A> to
 create language-independent user interface messages. The message argument
 array is retrieved via <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getMessageArguments()"><CODE>getMessageArguments()</CODE></A>; the first two array
 elements will always be these: a String representing work flow owner's name,
 and a String representing the current actor's name. Workflow participants
 can add to this array by invoking <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#addMessageArgument(java.io.Serializable)"><CODE>addMessageArgument(Serializable)</CODE></A>.</li>
 </ul>
 <h2>Example</h2>
 <p>
 Workflow Steps can be very powerful when linked together. JSPWiki provides
 two abstract subclasses classes that you can use to build your own Workflows:
 Tasks and Decisions. As noted, Tasks are Steps that execute without user
 intervention, while Decisions require actors (<em>aka</em> Principals) to
 take action. Decisions and Tasks can be mixed freely to produce some highly
 elaborate branching structures.
 </p>
 <p>
 Here is a simple case. For example, suppose you would like to create a
 Workflow that (a) executes a initialization Task, (b) pauses to obtain an
 approval Decision from a user in the Admin group, and if approved, (c)
 executes a "finish" Task. Here's sample code that illustrates how to do it:
 </p>

 <pre>
    // Create workflow; owner is current user
 1  Workflow workflow = new Workflow(&quot;workflow.myworkflow&quot;, context.getCurrentUser());

    // Create custom initialization task
 2  Step initTask = new InitTask(this);

    // Create finish task
 3  Step finishTask = new FinishTask(this);

    // Create an intermediate decision step
 4  Principal actor = new GroupPrincipal(&quot;Admin&quot;);
 5  Step decision = new SimpleDecision(this, &quot;decision.AdminDecision&quot;, actor);

    // Hook the steps together
 6  initTask.addSuccessor(Outcome.STEP_COMPLETE, decision);
 7  decision.addSuccessor(Outcome.DECISION_APPROVE, finishTask);

    // Set workflow's first step
 8  workflow.setFirstStep(initTask);
 </pre>

 <p>
 Some comments on the source code:
 </p>
 <ul>
 <li>Line 1 instantiates the workflow with a sample message key and
 designated owner Principal, in this case the current wiki user</li>
 <li>Lines 2 and 3 instantiate the custom Task subclasses, which contain the
 business logic</li>
 <li>Line 4 creates the relevant GroupPrincipal for the <code>Admin</code>
 group, who will be the actor in the Decision step</li>
 <li>Line 5 creates the Decision step, passing the Workflow, sample message
 key, and actor in the constructor</li>
 <li>Line 6 specifies that if the InitTask's Outcome signifies "normal
 completion" (STEP_COMPLETE), the SimpleDecision step should be invoked next</li>
 <li>Line 7 specifies that if the actor (anyone possessing the
 <code>Admin</code> GroupPrincipal) selects DECISION_APPROVE, the FinishTask
 step should be invoked</li>
 <li>Line 8 adds the InitTask (and all of its successor Steps, nicely wired
 together) to the workflow</li>
 </ul>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../serialized-form.html#org.apache.wiki.workflow.Workflow">Serialized Form</A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#ABORTED">ABORTED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State value: Workflow aborted before completion.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#COMPLETED">COMPLETED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State value: Workflow completed all Steps without errors.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#CREATED">CREATED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State value: Workflow instantiated, but not started.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#ID_NOT_SET">ID_NOT_SET</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ID value: the workflow ID has not been set.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#RUNNING">RUNNING</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State value: Workflow started, and is running.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#TIME_NOT_SET">TIME_NOT_SET</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Time value: the start or end time has not been set.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#WAITING">WAITING</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State value: Workflow paused, typically because a Step returned an
 Outcome that doesn't signify "completion."</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#Workflow(java.lang.String, java.security.Principal)">Workflow</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;messageKey,
                 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</A>&nbsp;owner)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a new Workflow object with a supplied message key, owner
 Principal, and undefined unique identifier <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#ID_NOT_SET"><CODE>ID_NOT_SET</CODE></A>.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#abort()">abort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Aborts the Workflow by setting the current Step's Outcome to
 <A HREF="../../../../org/apache/wiki/workflow/Outcome.html#STEP_ABORT"><CODE>Outcome.STEP_ABORT</CODE></A>, and the Workflow's overall state to
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#ABORTED"><CODE>ABORTED</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#addMessageArgument(java.io.Serializable)">addMessageArgument</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</A>&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Appends a message argument object to the array returned by
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getMessageArguments()"><CODE>getMessageArguments()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#addWikiEventListener(org.apache.wiki.event.WikiEventListener)">addWikiEventListener</A></B>(<A HREF="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a WikiEventListener with this instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#cleanup()">cleanup</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears the attribute map and sets the current step field to
 <code>null</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#complete()">complete</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Protected helper method that changes the Workflow's state to
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#COMPLETED"><CODE>COMPLETED</CODE></A> and sets the current Step to <code>null</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#fireEvent(int)">fireEvent</A></B>(int&nbsp;type)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fires a WorkflowEvent of the provided type to all registered listeners.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getAttribute(java.lang.String)">getAttribute</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;attr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves a named Object associated with this Workflow.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getCurrentActor()">getCurrentActor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the actor Principal responsible for the current Step.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getCurrentState()">getCurrentState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the workflow state: <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#CREATED"><CODE>CREATED</CODE></A>, <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#RUNNING"><CODE>RUNNING</CODE></A>,
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#WAITING"><CODE>WAITING</CODE></A>, <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#COMPLETED"><CODE>COMPLETED</CODE></A> or <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#ABORTED"><CODE>ABORTED</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow">Step</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getCurrentStep()">getCurrentStep</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current Step, or <code>null</code> if the workflow has not
 started or already completed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getEndTime()">getEndTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The end time for this Workflow, expressed as a system time number.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getHistory()">getHistory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a Step history for this Workflow as a List, chronologically, from the
 first Step to the currently executing one.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getId()">getId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the unique identifier for this Workflow.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getMessageArguments()">getMessageArguments</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Returns an array of message arguments, used by
 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/text/MessageFormat.html?is-external=true" title="class or interface in java.text"><CODE>MessageFormat</CODE></A> to create localized messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getMessageKey()">getMessageKey</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an i18n message key for the name of this workflow; for example,
 <code>workflow.saveWikiPage</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getOwner()">getOwner</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The owner Principal on whose behalf this Workflow is being executed; that
 is, the user who created the workflow.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow">Step</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getPreviousStep()">getPreviousStep</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convenience method that returns the predecessor of the current Step.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getStartTime()">getStartTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The start time for this Workflow, expressed as a system time number.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="class in org.apache.wiki.workflow">WorkflowManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getWorkflowManager()">getWorkflowManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the WorkflowManager that contains this Workflow.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#isAborted()">isAborted</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if the workflow had been previously aborted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#isCompleted()">isCompleted</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines whether this Workflow is completed; that is, if it has no
 additional Steps to perform.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#isStarted()">isStarted</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines whether this Workflow has started; that is, its
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#start()"><CODE>start()</CODE></A> method has been executed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow">Step</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#previousStep(org.apache.wiki.workflow.Step)">previousStep</A></B>(<A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow">Step</A>&nbsp;step)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Protected method that returns the predecessor for a supplied Step.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#processCurrentStep()">processCurrentStep</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Protected method that processes the current Step by calling
 <A HREF="../../../../org/apache/wiki/workflow/Step.html#execute()"><CODE>Step.execute()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#removeWikiEventListener(org.apache.wiki.event.WikiEventListener)">removeWikiEventListener</A></B>(<A HREF="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Un-registers a WikiEventListener with this instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#restart()">restart</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Restarts the Workflow from the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#WAITING"><CODE>WAITING</CODE></A> state and puts it into
 the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#RUNNING"><CODE>RUNNING</CODE></A> state again.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#setAttribute(java.lang.String, java.lang.Object)">setAttribute</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;attr,
                         <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Temporarily associates an object with this Workflow, as a named attribute, for the
 duration of workflow execution.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#setFirstStep(org.apache.wiki.workflow.Step)">setFirstStep</A></B>(<A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow">Step</A>&nbsp;step)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the first Step for this Workflow, which will be executed immediately
 after the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#start()"><CODE>start()</CODE></A> method executes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#setId(int)">setId</A></B>(int&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the unique identifier for this Workflow.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#setWorkflowManager(org.apache.wiki.workflow.WorkflowManager)">setWorkflowManager</A></B>(<A HREF="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="class in org.apache.wiki.workflow">WorkflowManager</A>&nbsp;manager)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the WorkflowManager that contains this Workflow.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#start()">start</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Starts the Workflow and sets the state to <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#RUNNING"><CODE>RUNNING</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/workflow/Workflow.html#waitstate()">waitstate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the Workflow in the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#WAITING"><CODE>WAITING</CODE></A> state.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="TIME_NOT_SET"><!-- --></A><H3>
TIME_NOT_SET</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.204"><B>TIME_NOT_SET</B></A></PRE>
<DL>
<DD>Time value: the start or end time has not been set.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="ID_NOT_SET"><!-- --></A><H3>
ID_NOT_SET</H3>
<PRE>
public static final int <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.207"><B>ID_NOT_SET</B></A></PRE>
<DL>
<DD>ID value: the workflow ID has not been set.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.workflow.Workflow.ID_NOT_SET">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="COMPLETED"><!-- --></A><H3>
COMPLETED</H3>
<PRE>
public static final int <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.210"><B>COMPLETED</B></A></PRE>
<DL>
<DD>State value: Workflow completed all Steps without errors.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.workflow.Workflow.COMPLETED">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ABORTED"><!-- --></A><H3>
ABORTED</H3>
<PRE>
public static final int <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.213"><B>ABORTED</B></A></PRE>
<DL>
<DD>State value: Workflow aborted before completion.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.workflow.Workflow.ABORTED">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="WAITING"><!-- --></A><H3>
WAITING</H3>
<PRE>
public static final int <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.219"><B>WAITING</B></A></PRE>
<DL>
<DD>State value: Workflow paused, typically because a Step returned an
 Outcome that doesn't signify "completion."
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.workflow.Workflow.WAITING">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="RUNNING"><!-- --></A><H3>
RUNNING</H3>
<PRE>
public static final int <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.222"><B>RUNNING</B></A></PRE>
<DL>
<DD>State value: Workflow started, and is running.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.workflow.Workflow.RUNNING">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="CREATED"><!-- --></A><H3>
CREATED</H3>
<PRE>
public static final int <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.225"><B>CREATED</B></A></PRE>
<DL>
<DD>State value: Workflow instantiated, but not started.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.workflow.Workflow.CREATED">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Workflow(java.lang.String, java.security.Principal)"><!-- --></A><H3>
Workflow</H3>
<PRE>
public <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.266"><B>Workflow</B></A>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;messageKey,
                <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</A>&nbsp;owner)</PRE>
<DL>
<DD>Constructs a new Workflow object with a supplied message key, owner
 Principal, and undefined unique identifier <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#ID_NOT_SET"><CODE>ID_NOT_SET</CODE></A>. Once
 instantiated the Workflow is considered to be in the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#CREATED"><CODE>CREATED</CODE></A>
 state; a caller must explicitly invoke the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#start()"><CODE>start()</CODE></A> method to
 begin processing.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>messageKey</CODE> - the message key used to construct a localized workflow name,
            such as <code>workflow.saveWikiPage</code><DD><CODE>owner</CODE> - the Principal who owns the Workflow. Typically, this is the
            user who created and submitted it</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="abort()"><!-- --></A><H3>
abort</H3>
<PRE>
public final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.292"><B>abort</B></A>()</PRE>
<DL>
<DD>Aborts the Workflow by setting the current Step's Outcome to
 <A HREF="../../../../org/apache/wiki/workflow/Outcome.html#STEP_ABORT"><CODE>Outcome.STEP_ABORT</CODE></A>, and the Workflow's overall state to
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#ABORTED"><CODE>ABORTED</CODE></A>. It also appends the aborted Step into the workflow
 history, and sets the current step to <code>null</code>. If the Step
 is a Decision, it is removed from the DecisionQueue. This method
 can be called at any point in the lifecycle prior to completion, but it
 cannot be called twice. It finishes by calling the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#cleanup()"><CODE>cleanup()</CODE></A>
 method to flush retained objects. If the Workflow had been previously
 aborted, this method throws an IllegalStateException.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addMessageArgument(java.io.Serializable)"><!-- --></A><H3>
addMessageArgument</H3>
<PRE>
public final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.328"><B>addMessageArgument</B></A>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</A>&nbsp;obj)</PRE>
<DL>
<DD>Appends a message argument object to the array returned by
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getMessageArguments()"><CODE>getMessageArguments()</CODE></A>. The object <em>must</em> be an type
 used by the <A HREF="http://docs.oracle.com/javase/6/docs/api/java/text/MessageFormat.html?is-external=true" title="class or interface in java.text"><CODE>MessageFormat</CODE></A>: String, Date, or Number
 (BigDecimal, BigInteger, Byte, Double, Float, Integer, Long, Short).
 If the object is not of type String, Number or Date, this method throws
 an IllegalArgumentException.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>obj</CODE> - the object to add</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentActor()"><!-- --></A><H3>
getCurrentActor</H3>
<PRE>
public final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.344"><B>getCurrentActor</B></A>()</PRE>
<DL>
<DD>Returns the actor Principal responsible for the current Step. If there is
 no current Step, this method returns <code>null</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the current actor</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentState()"><!-- --></A><H3>
getCurrentState</H3>
<PRE>
public final int <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.359"><B>getCurrentState</B></A>()</PRE>
<DL>
<DD>Returns the workflow state: <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#CREATED"><CODE>CREATED</CODE></A>, <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#RUNNING"><CODE>RUNNING</CODE></A>,
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#WAITING"><CODE>WAITING</CODE></A>, <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#COMPLETED"><CODE>COMPLETED</CODE></A> or <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#ABORTED"><CODE>ABORTED</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the workflow state</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentStep()"><!-- --></A><H3>
getCurrentStep</H3>
<PRE>
public final <A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow">Step</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.370"><B>getCurrentStep</B></A>()</PRE>
<DL>
<DD>Returns the current Step, or <code>null</code> if the workflow has not
 started or already completed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the current step</DL>
</DD>
</DL>
<HR>

<A NAME="getAttribute(java.lang.String)"><!-- --></A><H3>
getAttribute</H3>
<PRE>
public final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.383"><B>getAttribute</B></A>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;attr)</PRE>
<DL>
<DD>Retrieves a named Object associated with this Workflow. If the Workflow
 has completed or aborted, this method always returns <code>null</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>attr</CODE> - the name of the attribute
<DT><B>Returns:</B><DD>the value</DL>
</DD>
</DL>
<HR>

<A NAME="getEndTime()"><!-- --></A><H3>
getEndTime</H3>
<PRE>
public final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.400"><B>getEndTime</B></A>()</PRE>
<DL>
<DD>The end time for this Workflow, expressed as a system time number. This
 value is equal to the end-time value returned by the final Step's
 <A HREF="../../../../org/apache/wiki/workflow/Step.html#getEndTime()"><CODE>Step.getEndTime()</CODE></A> method, if the workflow has completed.
 Otherwise, this method returns <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#TIME_NOT_SET"><CODE>TIME_NOT_SET</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the end time</DL>
</DD>
</DL>
<HR>

<A NAME="getId()"><!-- --></A><H3>
getId</H3>
<PRE>
public final int <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.419"><B>getId</B></A>()</PRE>
<DL>
<DD>Returns the unique identifier for this Workflow. If not set, this method
 returns ID_NOT_SET (<A HREF="../../../../org/apache/wiki/workflow/Workflow.html#ID_NOT_SET">0</A>).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the unique identifier</DL>
</DD>
</DL>
<HR>

<A NAME="getMessageArguments()"><!-- --></A><H3>
getMessageArguments</H3>
<PRE>
public final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</A>[] <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.443"><B>getMessageArguments</B></A>()</PRE>
<DL>
<DD><p>
 Returns an array of message arguments, used by
 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/text/MessageFormat.html?is-external=true" title="class or interface in java.text"><CODE>MessageFormat</CODE></A> to create localized messages. The first
 two array elements will always be these:
 </p>
 <ul>
 <li>String representing the name of the workflow owner (<em>i.e.</em>,<A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getOwner()"><CODE>getOwner()</CODE></A>)</li>
 <li>String representing the name of the current actor (<em>i.e.</em>,<A HREF="../../../../org/apache/wiki/workflow/Workflow.html#getCurrentActor()"><CODE>getCurrentActor()</CODE></A>).
 If the current step is <code>null</code> because the workflow hasn't started or has already
 finished, the value of this argument will be a dash character (<code>-</code>)</li>
 </ul>
 <p>
 Workflow and Step subclasses are free to append items to this collection
 with <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#addMessageArgument(java.io.Serializable)"><CODE>addMessageArgument(Serializable)</CODE></A>.
 </p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the array of message arguments</DL>
</DD>
</DL>
<HR>

<A NAME="getMessageKey()"><!-- --></A><H3>
getMessageKey</H3>
<PRE>
public final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.459"><B>getMessageKey</B></A>()</PRE>
<DL>
<DD>Returns an i18n message key for the name of this workflow; for example,
 <code>workflow.saveWikiPage</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the name</DL>
</DD>
</DL>
<HR>

<A NAME="getOwner()"><!-- --></A><H3>
getOwner</H3>
<PRE>
public final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.470"><B>getOwner</B></A>()</PRE>
<DL>
<DD>The owner Principal on whose behalf this Workflow is being executed; that
 is, the user who created the workflow.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the name of the Principal who owns this workflow</DL>
</DD>
</DL>
<HR>

<A NAME="getStartTime()"><!-- --></A><H3>
getStartTime</H3>
<PRE>
public final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.483"><B>getStartTime</B></A>()</PRE>
<DL>
<DD>The start time for this Workflow, expressed as a system time number. This
 value is equal to the start-time value returned by the first Step's
 <A HREF="../../../../org/apache/wiki/workflow/Step.html#getStartTime()"><CODE>Step.getStartTime()</CODE></A> method, if the workflow has started already.
 Otherwise, this method returns <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#TIME_NOT_SET"><CODE>TIME_NOT_SET</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the start time</DL>
</DD>
</DL>
<HR>

<A NAME="getWorkflowManager()"><!-- --></A><H3>
getWorkflowManager</H3>
<PRE>
public final <A HREF="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="class in org.apache.wiki.workflow">WorkflowManager</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.493"><B>getWorkflowManager</B></A>()</PRE>
<DL>
<DD>Returns the WorkflowManager that contains this Workflow.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the workflow manager</DL>
</DD>
</DL>
<HR>

<A NAME="getHistory()"><!-- --></A><H3>
getHistory</H3>
<PRE>
public final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.507"><B>getHistory</B></A>()</PRE>
<DL>
<DD>Returns a Step history for this Workflow as a List, chronologically, from the
 first Step to the currently executing one. The first step is the first
 item in the array. If the Workflow has not started, this method returns a
 zero-length array.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>an array of Steps representing those that have executed, or are
         currently executing</DL>
</DD>
</DL>
<HR>

<A NAME="isAborted()"><!-- --></A><H3>
isAborted</H3>
<PRE>
public final boolean <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.517"><B>isAborted</B></A>()</PRE>
<DL>
<DD>Returns <code>true</code> if the workflow had been previously aborted.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the result</DL>
</DD>
</DL>
<HR>

<A NAME="isCompleted()"><!-- --></A><H3>
isCompleted</H3>
<PRE>
public final boolean <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.530"><B>isCompleted</B></A>()</PRE>
<DL>
<DD>Determines whether this Workflow is completed; that is, if it has no
 additional Steps to perform. If the last Step in the workflow is
 finished, this method will return <code>true</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the workflow has been started but has no
         more steps to perform; <code>false</code> if not.</DL>
</DD>
</DL>
<HR>

<A NAME="isStarted()"><!-- --></A><H3>
isStarted</H3>
<PRE>
public final boolean <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.543"><B>isStarted</B></A>()</PRE>
<DL>
<DD>Determines whether this Workflow has started; that is, its
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#start()"><CODE>start()</CODE></A> method has been executed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the workflow has been started;
         <code>false</code> if not.</DL>
</DD>
</DL>
<HR>

<A NAME="getPreviousStep()"><!-- --></A><H3>
getPreviousStep</H3>
<PRE>
public final <A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow">Step</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.556"><B>getPreviousStep</B></A>()</PRE>
<DL>
<DD>Convenience method that returns the predecessor of the current Step. This
 method simply examines the Workflow history and returns the
 second-to-last Step.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the predecessor, or <code>null</code> if the first Step is
         currently executing</DL>
</DD>
</DL>
<HR>

<A NAME="restart()"><!-- --></A><H3>
restart</H3>
<PRE>
public final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.570"><B>restart</B></A>()
                   throws <A HREF="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</A></PRE>
<DL>
<DD>Restarts the Workflow from the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#WAITING"><CODE>WAITING</CODE></A> state and puts it into
 the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#RUNNING"><CODE>RUNNING</CODE></A> state again. If the Workflow had not previously been
 paused, this method throws an IllegalStateException. If any of the
 Steps in this Workflow throw a WikiException, the Workflow will abort
 and propagate the exception to callers.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</A></CODE> - if the current task's <A HREF="../../../../org/apache/wiki/workflow/AbstractStep.html#execute()"><CODE>AbstractStep.execute()</CODE></A> method
 throws an exception</DL>
</DD>
</DL>
<HR>

<A NAME="setAttribute(java.lang.String, java.lang.Object)"><!-- --></A><H3>
setAttribute</H3>
<PRE>
public final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.602"><B>setAttribute</B></A>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;attr,
                               <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;obj)</PRE>
<DL>
<DD>Temporarily associates an object with this Workflow, as a named attribute, for the
 duration of workflow execution. The passed object can be anything required by
 an executing Step, although it <em>should</em> be serializable. Note that when the workflow
 completes or aborts, all attributes will be cleared.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>attr</CODE> - the attribute name<DD><CODE>obj</CODE> - the value</DL>
</DD>
</DL>
<HR>

<A NAME="setFirstStep(org.apache.wiki.workflow.Step)"><!-- --></A><H3>
setFirstStep</H3>
<PRE>
public final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.620"><B>setFirstStep</B></A>(<A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow">Step</A>&nbsp;step)</PRE>
<DL>
<DD>Sets the first Step for this Workflow, which will be executed immediately
 after the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#start()"><CODE>start()</CODE></A> method executes. Note than the Step is not
 marked as the "current" step or added to the Workflow history until the
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#start()"><CODE>start()</CODE></A> method is called.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>step</CODE> - the first step for the workflow</DL>
</DD>
</DL>
<HR>

<A NAME="setId(int)"><!-- --></A><H3>
setId</H3>
<PRE>
public final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.631"><B>setId</B></A>(int&nbsp;id)</PRE>
<DL>
<DD>Sets the unique identifier for this Workflow.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the unique identifier</DL>
</DD>
</DL>
<HR>

<A NAME="setWorkflowManager(org.apache.wiki.workflow.WorkflowManager)"><!-- --></A><H3>
setWorkflowManager</H3>
<PRE>
public final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.642"><B>setWorkflowManager</B></A>(<A HREF="../../../../org/apache/wiki/workflow/WorkflowManager.html" title="class in org.apache.wiki.workflow">WorkflowManager</A>&nbsp;manager)</PRE>
<DL>
<DD>Sets the WorkflowManager that contains this Workflow.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>manager</CODE> - the workflow manager</DL>
</DD>
</DL>
<HR>

<A NAME="start()"><!-- --></A><H3>
start</H3>
<PRE>
public final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.657"><B>start</B></A>()
                 throws <A HREF="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</A></PRE>
<DL>
<DD>Starts the Workflow and sets the state to <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#RUNNING"><CODE>RUNNING</CODE></A>. If the
 Workflow has already been started (or previously aborted), this method
 returns an <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A>. If any of the
 Steps in this Workflow throw a WikiException, the Workflow will abort
 and propagate the exception to callers.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</A></CODE> - if the current Step's <A HREF="../../../../org/apache/wiki/workflow/Step.html#start()"><CODE>Step.start()</CODE></A>
 method throws an exception of any kind</DL>
</DD>
</DL>
<HR>

<A NAME="waitstate()"><!-- --></A><H3>
waitstate</H3>
<PRE>
public final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.693"><B>waitstate</B></A>()</PRE>
<DL>
<DD>Sets the Workflow in the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#WAITING"><CODE>WAITING</CODE></A> state. If the Workflow is not
 running or has already been paused, this method throws an
 IllegalStateException. Once paused, the Workflow can be un-paused by
 executing the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#restart()"><CODE>restart()</CODE></A> method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="cleanup()"><!-- --></A><H3>
cleanup</H3>
<PRE>
protected void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.707"><B>cleanup</B></A>()</PRE>
<DL>
<DD>Clears the attribute map and sets the current step field to
 <code>null</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="complete()"><!-- --></A><H3>
complete</H3>
<PRE>
protected final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.719"><B>complete</B></A>()</PRE>
<DL>
<DD>Protected helper method that changes the Workflow's state to
 <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#COMPLETED"><CODE>COMPLETED</CODE></A> and sets the current Step to <code>null</code>. It
 calls the <A HREF="../../../../org/apache/wiki/workflow/Workflow.html#cleanup()"><CODE>cleanup()</CODE></A> method to flush retained objects.
 This method will no-op if it has previously been called.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="previousStep(org.apache.wiki.workflow.Step)"><!-- --></A><H3>
previousStep</H3>
<PRE>
protected final <A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow">Step</A> <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.737"><B>previousStep</B></A>(<A HREF="../../../../org/apache/wiki/workflow/Step.html" title="interface in org.apache.wiki.workflow">Step</A>&nbsp;step)</PRE>
<DL>
<DD>Protected method that returns the predecessor for a supplied Step.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>step</CODE> - the Step for which the predecessor is requested
<DT><B>Returns:</B><DD>its predecessor, or <code>null</code> if the first Step was
         supplied.</DL>
</DD>
</DL>
<HR>

<A NAME="processCurrentStep()"><!-- --></A><H3>
processCurrentStep</H3>
<PRE>
protected final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.751"><B>processCurrentStep</B></A>()
                                 throws <A HREF="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</A></PRE>
<DL>
<DD>Protected method that processes the current Step by calling
 <A HREF="../../../../org/apache/wiki/workflow/Step.html#execute()"><CODE>Step.execute()</CODE></A>. If the <code>execute</code> throws an
 exception, this method will propagate the exception immediately
 to callers without aborting.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</A></CODE> - if the current Step's <A HREF="../../../../org/apache/wiki/workflow/Step.html#start()"><CODE>Step.start()</CODE></A>
 method throws an exception of any kind</DL>
</DD>
</DL>
<HR>

<A NAME="addWikiEventListener(org.apache.wiki.event.WikiEventListener)"><!-- --></A><H3>
addWikiEventListener</H3>
<PRE>
public final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.813"><B>addWikiEventListener</B></A>(<A HREF="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</A>&nbsp;listener)</PRE>
<DL>
<DD>Registers a WikiEventListener with this instance. This is a convenience
 method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - the event listener</DL>
</DD>
</DL>
<HR>

<A NAME="removeWikiEventListener(org.apache.wiki.event.WikiEventListener)"><!-- --></A><H3>
removeWikiEventListener</H3>
<PRE>
public final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.825"><B>removeWikiEventListener</B></A>(<A HREF="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</A>&nbsp;listener)</PRE>
<DL>
<DD>Un-registers a WikiEventListener with this instance. This is a
 convenience method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - the event listener</DL>
</DD>
</DL>
<HR>

<A NAME="fireEvent(int)"><!-- --></A><H3>
fireEvent</H3>
<PRE>
protected final void <A HREF="../../../../src-html/org/apache/wiki/workflow/Workflow.html#line.837"><B>fireEvent</B></A>(int&nbsp;type)</PRE>
<DL>
<DD>Fires a WorkflowEvent of the provided type to all registered listeners.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the event type to be fired<DT><B>See Also:</B><DD><A HREF="../../../../org/apache/wiki/event/WorkflowEvent.html" title="class in org.apache.wiki.event"><CODE>WorkflowEvent</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Workflow.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/wiki/workflow/Task.html" title="class in org.apache.wiki.workflow"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/apache/wiki/workflow/WorkflowBuilder.html" title="class in org.apache.wiki.workflow"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/wiki/workflow/Workflow.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Workflow.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright  {inceptionYear}-2014 The Apache Software Foundation. All rights reserved.
</BODY>
</HTML>
