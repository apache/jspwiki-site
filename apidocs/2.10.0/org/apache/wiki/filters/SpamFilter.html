<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_19) on Tue Jan 14 20:42:23 CET 2014 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
SpamFilter (Apache JSPWiki Main War 2.10.0 API)
</TITLE>

<META NAME="date" CONTENT="2014-01-14">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SpamFilter (Apache JSPWiki Main War 2.10.0 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SpamFilter.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/wiki/filters/ProfanityFilter.html" title="class in org.apache.wiki.filters"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/wiki/filters/SpamFilter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SpamFilter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.wiki.filters</FONT>
<BR>
Class SpamFilter</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html" title="class in org.apache.wiki.api.filters">org.apache.wiki.api.filters.BasicPageFilter</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.wiki.filters.SpamFilter</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../org/apache/wiki/api/filters/PageFilter.html" title="interface in org.apache.wiki.api.filters">PageFilter</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.104"><B>SpamFilter</B></A><DT>extends <A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html" title="class in org.apache.wiki.api.filters">BasicPageFilter</A></DL>
</PRE>
<map id="APIVIZ" name="APIVIZ">
<area shape="rect" id="node1" href="SpamFilter.html" title="SpamFilter" alt="" coords="51,90,136,118"/>
<area shape="rect" id="node2" href="../api/filters/BasicPageFilter.html" title="BasicPageFilter (org.apache.wiki.api.filters)" alt="" coords="5,5,181,51"/>
</map>
<div id="apivizContainer" style="text-align: center;"><img src="SpamFilter.png" usemap="#APIVIZ" border="0"></div>

<P>
This is Herb, the JSPWiki spamfilter that can also do choke modifications.

  Parameters:
  <ul>
    <li>wordlist - Page name where the regexps are found.  Use [{SET spamwords='regexp list separated with spaces'}] on
     that page.  Default is "SpamFilterWordList".
    <li>blacklist - The name of an attachment containing the list of spam patterns, one per line. Default is
        "SpamFilterWordList/blacklist.txt"</li>
    <li>errorpage - The page to which the user is redirected.  Has a special variable $msg which states the reason. Default is "RejectedMessage".
    <li>pagechangesinminute - How many page changes are allowed/minute.  Default is 5.</li>
    <li>similarchanges - How many similar page changes are allowed before the host is banned.  Default is 2.  (since 2.4.72)</li>
    <li>bantime - How long an IP address stays on the temporary ban list (default is 60 for 60 minutes).</li>
    <li>maxurls - How many URLs can be added to the page before it is considered spam (default is 5)</li>
    <li>akismet-apikey - The Akismet API key (see akismet.org)</li>
    <li>ignoreauthenticated - If set to "true", all authenticated users are ignored and never caught in SpamFilter</li>
    <li>captcha - Sets the captcha technology to use.  Current allowed values are "none" and "asirra".</li>
    <li>strategy - Sets the filtering strategy to use.  If set to "eager", will stop at the first probable
        match, and won't consider any other tests.  This is the default, as it's considerably lighter. If set to "score", will go through all of the tests
        and calculates a score for the spam, which is then compared to a filter level value.
  </ul>

  <p>Please see the default editors/plain.jsp for examples on how the SpamFilter integrates
  with the editor system.</p>
  
  <p>Changes by admin users are ignored in any case.</p>
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>2.1.112</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#PROP_AKISMET_API_KEY">PROP_AKISMET_API_KEY</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter property name for specifying the Akismet API-key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#PROP_BANTIME">PROP_BANTIME</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter property name for specifying how long a host is banned.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#PROP_BLACKLIST">PROP_BLACKLIST</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter property name for the attachment containing the blacklist.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#PROP_CAPTCHA">PROP_CAPTCHA</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter property name for specifying which captcha technology should be used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#PROP_ERRORPAGE">PROP_ERRORPAGE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter property name for the page to which you are directed if Herb rejects your
  edit.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#PROP_FILTERSTRATEGY">PROP_FILTERSTRATEGY</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter property name for specifying which filter strategy should be used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#PROP_IGNORE_AUTHENTICATED">PROP_IGNORE_AUTHENTICATED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter property name for specifying whether authenticated users should be ignored.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#PROP_MAXURLS">PROP_MAXURLS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter property name for specifying how many URLs can any given edit contain.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#PROP_PAGECHANGES">PROP_PAGECHANGES</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter property name for specifying how many changes is any given IP address
  allowed to do per minute.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#PROP_SIMILARCHANGES">PROP_SIMILARCHANGES</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter property name for specifying how many similar changes are allowed
  before a host is banned.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#PROP_WORDLIST">PROP_WORDLIST</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The filter property name for specifying the page which contains the list of spamwords.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#STRATEGY_EAGER">STRATEGY_EAGER</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The string specifying the "eager" strategy.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#STRATEGY_SCORE">STRATEGY_SCORE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The string specifying the "score" strategy.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.wiki.api.filters.BasicPageFilter"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class org.apache.wiki.api.filters.<A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html" title="class in org.apache.wiki.api.filters">BasicPageFilter</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html#m_engine">m_engine</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#SpamFilter()">SpamFilter</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#checkHash(org.apache.wiki.WikiContext, javax.servlet.jsp.PageContext)">checkHash</A></B>(<A HREF="../../../../org/apache/wiki/WikiContext.html" title="class in org.apache.wiki">WikiContext</A>&nbsp;context,
                   javax.servlet.jsp.PageContext&nbsp;pageContext)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method checks if the hash value is still valid, i.e. if it exists at all.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#getBotFieldName()">getBotFieldName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a static string which can be used to detect spambots which just wildly fill in all the fields.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#getHashFieldName(javax.servlet.http.HttpServletRequest)">getHashFieldName</A></B>(javax.servlet.http.HttpServletRequest&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the name of the hash field to be used in this request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#getSpamHash(org.apache.wiki.WikiPage, javax.servlet.http.HttpServletRequest)">getSpamHash</A></B>(<A HREF="../../../../org/apache/wiki/WikiPage.html" title="class in org.apache.wiki">WikiPage</A>&nbsp;page,
                       javax.servlet.http.HttpServletRequest&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to calculate an unique code when submitting the page to detect edit conflicts.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#initialize(org.apache.wiki.WikiEngine, java.util.Properties)">initialize</A></B>(<A HREF="../../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</A>&nbsp;engine,
                     <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</A>&nbsp;properties)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If you override this, you should call super.initialize() first.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#insertInputFields(javax.servlet.jsp.PageContext)">insertInputFields</A></B>(javax.servlet.jsp.PageContext&nbsp;pageContext)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This helper method adds all the input fields to your editor that the SpamFilter requires
 to check for spam.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#isValidUserProfile(org.apache.wiki.WikiContext, org.apache.wiki.auth.user.UserProfile)">isValidUserProfile</A></B>(<A HREF="../../../../org/apache/wiki/WikiContext.html" title="class in org.apache.wiki">WikiContext</A>&nbsp;context,
                                     <A HREF="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</A>&nbsp;profile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks whether the UserProfile matches certain checks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/wiki/filters/SpamFilter.html#preSave(org.apache.wiki.WikiContext, java.lang.String)">preSave</A></B>(<A HREF="../../../../org/apache/wiki/WikiContext.html" title="class in org.apache.wiki">WikiContext</A>&nbsp;context,
               <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;content)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called before the page has been saved to the PageProvider.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.wiki.api.filters.BasicPageFilter"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.apache.wiki.api.filters.<A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html" title="class in org.apache.wiki.api.filters">BasicPageFilter</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html#destroy(org.apache.wiki.WikiEngine)">destroy</A>, <A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html#postSave(org.apache.wiki.WikiContext, java.lang.String)">postSave</A>, <A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html#postTranslate(org.apache.wiki.WikiContext, java.lang.String)">postTranslate</A>, <A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html#preTranslate(org.apache.wiki.WikiContext, java.lang.String)">preTranslate</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="PROP_WORDLIST"><!-- --></A><H3>
PROP_WORDLIST</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.120"><B>PROP_WORDLIST</B></A></PRE>
<DL>
<DD>The filter property name for specifying the page which contains the list of spamwords.
  Value is <tt>"wordlist"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.PROP_WORDLIST">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PROP_ERRORPAGE"><!-- --></A><H3>
PROP_ERRORPAGE</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.124"><B>PROP_ERRORPAGE</B></A></PRE>
<DL>
<DD>The filter property name for the page to which you are directed if Herb rejects your
  edit.  Value is <tt>"errorpage"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.PROP_ERRORPAGE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PROP_PAGECHANGES"><!-- --></A><H3>
PROP_PAGECHANGES</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.129"><B>PROP_PAGECHANGES</B></A></PRE>
<DL>
<DD>The filter property name for specifying how many changes is any given IP address
  allowed to do per minute.  Value is <tt>"pagechangesinminute"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.PROP_PAGECHANGES">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PROP_SIMILARCHANGES"><!-- --></A><H3>
PROP_SIMILARCHANGES</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.134"><B>PROP_SIMILARCHANGES</B></A></PRE>
<DL>
<DD>The filter property name for specifying how many similar changes are allowed
  before a host is banned.  Value is <tt>"similarchanges"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.PROP_SIMILARCHANGES">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PROP_BANTIME"><!-- --></A><H3>
PROP_BANTIME</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.137"><B>PROP_BANTIME</B></A></PRE>
<DL>
<DD>The filter property name for specifying how long a host is banned.  Value is <tt>"bantime"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.PROP_BANTIME">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PROP_BLACKLIST"><!-- --></A><H3>
PROP_BLACKLIST</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.140"><B>PROP_BLACKLIST</B></A></PRE>
<DL>
<DD>The filter property name for the attachment containing the blacklist.  Value is <tt>"blacklist"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.PROP_BLACKLIST">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PROP_MAXURLS"><!-- --></A><H3>
PROP_MAXURLS</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.144"><B>PROP_MAXURLS</B></A></PRE>
<DL>
<DD>The filter property name for specifying how many URLs can any given edit contain.  
  Value is <tt>"maxurls"</tt>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.PROP_MAXURLS">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PROP_AKISMET_API_KEY"><!-- --></A><H3>
PROP_AKISMET_API_KEY</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.147"><B>PROP_AKISMET_API_KEY</B></A></PRE>
<DL>
<DD>The filter property name for specifying the Akismet API-key.  Value is <tt>"akismet-apikey"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.PROP_AKISMET_API_KEY">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PROP_IGNORE_AUTHENTICATED"><!-- --></A><H3>
PROP_IGNORE_AUTHENTICATED</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.150"><B>PROP_IGNORE_AUTHENTICATED</B></A></PRE>
<DL>
<DD>The filter property name for specifying whether authenticated users should be ignored. Value is <tt>"ignoreauthenticated"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.PROP_IGNORE_AUTHENTICATED">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PROP_CAPTCHA"><!-- --></A><H3>
PROP_CAPTCHA</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.153"><B>PROP_CAPTCHA</B></A></PRE>
<DL>
<DD>The filter property name for specifying which captcha technology should be used. Value is <tt>"captcha"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.PROP_CAPTCHA">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PROP_FILTERSTRATEGY"><!-- --></A><H3>
PROP_FILTERSTRATEGY</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.156"><B>PROP_FILTERSTRATEGY</B></A></PRE>
<DL>
<DD>The filter property name for specifying which filter strategy should be used.  Value is <tt>"strategy"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.PROP_FILTERSTRATEGY">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="STRATEGY_EAGER"><!-- --></A><H3>
STRATEGY_EAGER</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.159"><B>STRATEGY_EAGER</B></A></PRE>
<DL>
<DD>The string specifying the "eager" strategy. Value is <tt>"eager"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.STRATEGY_EAGER">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="STRATEGY_SCORE"><!-- --></A><H3>
STRATEGY_SCORE</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.162"><B>STRATEGY_SCORE</B></A></PRE>
<DL>
<DD>The string specifying the "score" strategy. Value is <tt>"score"</tt>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.wiki.filters.SpamFilter.STRATEGY_SCORE">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SpamFilter()"><!-- --></A><H3>
SpamFilter</H3>
<PRE>
public <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.104"><B>SpamFilter</B></A>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="initialize(org.apache.wiki.WikiEngine, java.util.Properties)"><!-- --></A><H3>
initialize</H3>
<PRE>
public void <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.234"><B>initialize</B></A>(<A HREF="../../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</A>&nbsp;engine,
                       <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</A>&nbsp;properties)</PRE>
<DL>
<DD>If you override this, you should call super.initialize() first.
  
  Is called whenever the a new PageFilter is instantiated and
  reset.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/wiki/api/filters/PageFilter.html#initialize(org.apache.wiki.WikiEngine, java.util.Properties)">initialize</A></CODE> in interface <CODE><A HREF="../../../../org/apache/wiki/api/filters/PageFilter.html" title="interface in org.apache.wiki.api.filters">PageFilter</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html#initialize(org.apache.wiki.WikiEngine, java.util.Properties)">initialize</A></CODE> in class <CODE><A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html" title="class in org.apache.wiki.api.filters">BasicPageFilter</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>engine</CODE> - The WikiEngine whic owns this PageFilter<DD><CODE>properties</CODE> - The properties ripped from filters.xml.</DL>
</DD>
</DL>
<HR>

<A NAME="preSave(org.apache.wiki.WikiContext, java.lang.String)"><!-- --></A><H3>
preSave</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.309"><B>preSave</B></A>(<A HREF="../../../../org/apache/wiki/WikiContext.html" title="class in org.apache.wiki">WikiContext</A>&nbsp;context,
                      <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;content)
               throws <A HREF="../../../../org/apache/wiki/api/exceptions/RedirectException.html" title="class in org.apache.wiki.api.exceptions">RedirectException</A></PRE>
<DL>
<DD>This method is called before the page has been saved to the PageProvider.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/wiki/api/filters/PageFilter.html#preSave(org.apache.wiki.WikiContext, java.lang.String)">preSave</A></CODE> in interface <CODE><A HREF="../../../../org/apache/wiki/api/filters/PageFilter.html" title="interface in org.apache.wiki.api.filters">PageFilter</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html#preSave(org.apache.wiki.WikiContext, java.lang.String)">preSave</A></CODE> in class <CODE><A HREF="../../../../org/apache/wiki/api/filters/BasicPageFilter.html" title="class in org.apache.wiki.api.filters">BasicPageFilter</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - The WikiContext<DD><CODE>content</CODE> - The wikimarkup that the user just wanted to save.
<DT><B>Returns:</B><DD>The modified wikimarkup
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/apache/wiki/api/exceptions/RedirectException.html" title="class in org.apache.wiki.api.exceptions">RedirectException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getBotFieldName()"><!-- --></A><H3>
getBotFieldName</H3>
<PRE>
public static <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.600"><B>getBotFieldName</B></A>()</PRE>
<DL>
<DD>Returns a static string which can be used to detect spambots which just wildly fill in all the fields.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>A string</DL>
</DD>
</DL>
<HR>

<A NAME="isValidUserProfile(org.apache.wiki.WikiContext, org.apache.wiki.auth.user.UserProfile)"><!-- --></A><H3>
isValidUserProfile</H3>
<PRE>
public boolean <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.904"><B>isValidUserProfile</B></A>(<A HREF="../../../../org/apache/wiki/WikiContext.html" title="class in org.apache.wiki">WikiContext</A>&nbsp;context,
                                  <A HREF="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</A>&nbsp;profile)</PRE>
<DL>
<DD>Checks whether the UserProfile matches certain checks.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>profile</CODE> - The profile to check<DD><CODE>context</CODE> - The WikiContext
<DT><B>Returns:</B><DD>False, if this userprofile is suspect and should not be allowed to be added.<DT><B>Since:</B></DT>
  <DD>2.6.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSpamHash(org.apache.wiki.WikiPage, javax.servlet.http.HttpServletRequest)"><!-- --></A><H3>
getSpamHash</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.926"><B>getSpamHash</B></A>(<A HREF="../../../../org/apache/wiki/WikiPage.html" title="class in org.apache.wiki">WikiPage</A>&nbsp;page,
                                       javax.servlet.http.HttpServletRequest&nbsp;request)</PRE>
<DL>
<DD>This method is used to calculate an unique code when submitting the page to detect edit conflicts.  
  It currently incorporates the last-modified date of the page, and the IP address of the submitter.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>page</CODE> - The WikiPage under edit<DD><CODE>request</CODE> - The HTTP Request
<DT><B>Returns:</B><DD>A hash value for this page and session<DT><B>Since:</B></DT>
  <DD>2.6</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getHashFieldName(javax.servlet.http.HttpServletRequest)"><!-- --></A><H3>
getHashFieldName</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.945"><B>getHashFieldName</B></A>(javax.servlet.http.HttpServletRequest&nbsp;request)</PRE>
<DL>
<DD>Returns the name of the hash field to be used in this request. The value is unique per session, and once 
  the session has expired, you cannot edit anymore.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - The page request
<DT><B>Returns:</B><DD>The name to be used in the hash field<DT><B>Since:</B></DT>
  <DD>2.6</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="checkHash(org.apache.wiki.WikiContext, javax.servlet.jsp.PageContext)"><!-- --></A><H3>
checkHash</H3>
<PRE>
public static final boolean <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.980"><B>checkHash</B></A>(<A HREF="../../../../org/apache/wiki/WikiContext.html" title="class in org.apache.wiki">WikiContext</A>&nbsp;context,
                                      javax.servlet.jsp.PageContext&nbsp;pageContext)
                               throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>This method checks if the hash value is still valid, i.e. if it exists at all. This can occur in two cases: 
  either this is a spam bot which is not adaptive, or it is someone who has been editing one page for too long, 
  and their session has expired.
  <p>
  This method puts a redirect to the http response field to page "SessionExpired" and logs the incident in 
  the spam log (it may or may not be spam, but it's rather likely that it is).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - The WikiContext<DD><CODE>pageContext</CODE> - The JSP PageContext.
<DT><B>Returns:</B><DD>True, if hash is okay.  False, if hash is not okay, and you need to redirect.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - If redirection fails<DT><B>Since:</B></DT>
  <DD>2.6</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="insertInputFields(javax.servlet.jsp.PageContext)"><!-- --></A><H3>
insertInputFields</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/apache/wiki/filters/SpamFilter.html#line.1004"><B>insertInputFields</B></A>(javax.servlet.jsp.PageContext&nbsp;pageContext)</PRE>
<DL>
<DD>This helper method adds all the input fields to your editor that the SpamFilter requires
 to check for spam.  This <i>must</i> be in your editor form if you intend to use the SpamFilter.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pageContext</CODE> - The PageContext
<DT><B>Returns:</B><DD>A HTML string which contains input fields for the SpamFilter.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SpamFilter.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/wiki/filters/ProfanityFilter.html" title="class in org.apache.wiki.filters"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/wiki/filters/SpamFilter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SpamFilter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright Â© {inceptionYear}-2014 The Apache Software Foundation. All rights reserved.
</BODY>
</HTML>
