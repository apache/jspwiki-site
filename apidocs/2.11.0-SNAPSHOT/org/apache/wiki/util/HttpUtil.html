<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.9) on Fri Jan 01 20:02:03 UTC 2021 -->
<title>HttpUtil (Apache JSPWiki 2.11.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-01-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HttpUtil (Apache JSPWiki 2.11.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HttpUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.wiki.util</a></div>
<h2 title="Class HttpUtil" class="title">Class HttpUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.wiki.util.HttpUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<object type="image/svg+xml" data="HttpUtil.svg"  style="max-width:60%;float:right;"></object>
<pre style="white-space:pre-wrap;">public final class <a href="../../../../src-html/org/apache/wiki/util/HttpUtil.html#line.39">HttpUtil</a>
extends java.lang.Object</pre>
<div class="block">Contains useful utilities for some common HTTP tasks.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.1.61.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary" style="clear:right;">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkFor304(javax.servlet.http.HttpServletRequest,java.lang.String,java.util.Date)">checkFor304</a></span>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;req,
           java.lang.String&nbsp;pageName,
           java.util.Date&nbsp;lastModified)</code></th>
<td class="colLast">
<div class="block">If returns true, then should return a 304 (HTTP_NOT_MODIFIED)</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createETag(java.lang.String,java.util.Date)">createETag</a></span>&#8203;(java.lang.String&nbsp;pageName,
          java.util.Date&nbsp;lastModified)</code></th>
<td class="colLast">
<div class="block">Creates an ETag based on page information.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRemoteAddress(javax.servlet.http.HttpServletRequest)">getRemoteAddress</a></span>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;req)</code></th>
<td class="colLast">
<div class="block">returns the remote address by looking into <code>x-forwarded-for</code> header or, if unavailable, 
 into <code>ServletRequest.getRemoteAddr()</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#guessValidURI(java.lang.String)">guessValidURI</a></span>&#8203;(java.lang.String&nbsp;uri)</code></th>
<td class="colLast">
<div class="block">Attempts to form a valid URI based on the string given.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isIPV4Address(java.lang.String)">isIPV4Address</a></span>&#8203;(java.lang.String&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Verifies whether a String represents an IPv4 address.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#retrieveCookieValue(javax.servlet.http.HttpServletRequest,java.lang.String)">retrieveCookieValue</a></span>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;request,
                   java.lang.String&nbsp;cookieName)</code></th>
<td class="colLast">
<div class="block">Attempts to retrieve the given cookie value from the request.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#safeGetQueryString(javax.servlet.http.HttpServletRequest,java.nio.charset.Charset)">safeGetQueryString</a></span>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;request,
                  java.nio.charset.Charset&nbsp;contentEncoding)</code></th>
<td class="colLast">
<div class="block">Returns the query string (the portion after the question mark).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getRemoteAddress(javax.servlet.http.HttpServletRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemoteAddress</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/org/apache/wiki/util/HttpUtil.html#line.57">getRemoteAddress</a>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;req)</pre>
<div class="block">returns the remote address by looking into <code>x-forwarded-for</code> header or, if unavailable, 
 into <code>ServletRequest.getRemoteAddr()</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>req</code> - http request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>remote address associated to the request.</dd>
</dl>
</li>
</ul>
<a id="retrieveCookieValue(javax.servlet.http.HttpServletRequest,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveCookieValue</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/org/apache/wiki/util/HttpUtil.html#line.71">retrieveCookieValue</a>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;request,
                                                   java.lang.String&nbsp;cookieName)</pre>
<div class="block">Attempts to retrieve the given cookie value from the request. Returns the string value (which may or may not be decoded
  correctly, depending on browser!), or null if the cookie is not found. The algorithm will automatically trim leading
  and trailing double quotes, if found.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - The current request</dd>
<dd><code>cookieName</code> - The name of the cookie to fetch.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Value of the cookie, or null, if there is no such cookie.</dd>
</dl>
</li>
</ul>
<a id="createETag(java.lang.String,java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createETag</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/org/apache/wiki/util/HttpUtil.html#line.99">createETag</a>&#8203;(java.lang.String&nbsp;pageName,
                                          java.util.Date&nbsp;lastModified)</pre>
<div class="block">Creates an ETag based on page information. An ETag is unique to each page and version, so it can be used to check if the page has
  changed. Do not assume that the ETag is in any particular format.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pageName</code> - The page name for which the ETag should be created.</dd>
<dd><code>lastModified</code> - The page last modified date for which the ETag should be created.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A String depiction of an ETag.</dd>
</dl>
</li>
</ul>
<a id="checkFor304(javax.servlet.http.HttpServletRequest,java.lang.String,java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkFor304</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;<a href="../../../../src-html/org/apache/wiki/util/HttpUtil.html#line.111">checkFor304</a>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;req,
                                  java.lang.String&nbsp;pageName,
                                  java.util.Date&nbsp;lastModified)</pre>
<div class="block">If returns true, then should return a 304 (HTTP_NOT_MODIFIED)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>req</code> - the HTTP request</dd>
<dd><code>pageName</code> - the wiki page name to check for</dd>
<dd><code>lastModified</code> - the last modified date of the wiki page to check for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the check</dd>
</dl>
</li>
</ul>
<a id="guessValidURI(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>guessValidURI</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/org/apache/wiki/util/HttpUtil.html#line.168">guessValidURI</a>&#8203;(java.lang.String&nbsp;uri)</pre>
<div class="block">Attempts to form a valid URI based on the string given.  Currently it can guess email addresses (mailto:).  If nothing else is given,
 it assumes it to be an http:// url.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>uri</code> - URI to take a poke at</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Possibly a valid URI</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.2.8</dd>
</dl>
</li>
</ul>
<a id="safeGetQueryString(javax.servlet.http.HttpServletRequest,java.nio.charset.Charset)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>safeGetQueryString</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/org/apache/wiki/util/HttpUtil.html#line.192">safeGetQueryString</a>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;request,
                                                  java.nio.charset.Charset&nbsp;contentEncoding)</pre>
<div class="block">Returns the query string (the portion after the question mark).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - The HTTP request to parse.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The query string. If the query string is null, returns an empty string.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.1.3 (method moved from WikiEngine on 2.11.0.M6)</dd>
</dl>
</li>
</ul>
<a id="isIPV4Address(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isIPV4Address</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;<a href="../../../../src-html/org/apache/wiki/util/HttpUtil.html#line.225">isIPV4Address</a>&#8203;(java.lang.String&nbsp;name)</pre>
<div class="block">Verifies whether a String represents an IPv4 address. The algorithm is extremely efficient and does not allocate any objects.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the address to test</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HttpUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright © 2001-2021 The Apache Software Foundation. All rights reserved.</small></p>
</footer>
</body>
</html>