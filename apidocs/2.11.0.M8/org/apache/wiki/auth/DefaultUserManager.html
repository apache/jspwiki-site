<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (15) on Mon Dec 14 21:24:50 CET 2020 -->
<title>DefaultUserManager (Apache JSPWiki 2.11.0.M8 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-12-14">
<meta name="description" content="declaration: package: org.apache.wiki.auth, class: DefaultUserManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DefaultUserManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.wiki.auth</a></div>
<h1 title="Class DefaultUserManager" class="title">Class DefaultUserManager</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">org.apache.wiki.auth.DefaultUserManager</div>
</div>
<section class="description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../api/engine/Initializable.html" title="interface in org.apache.wiki.api.engine">Initializable</a></code>, <code><a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
</dl>
<hr>
<object type="image/svg+xml" data="DefaultUserManager.svg"  style="max-width:60%;float:right;"></object>
<pre style="white-space:pre-wrap;">public class <a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.78">DefaultUserManager</a>
extends java.lang.Object
implements <a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></pre>
<div class="block">Default implementation for <a href="UserManager.html" title="interface in org.apache.wiki.auth"><code>UserManager</code></a>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.3</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested.class.summary">
<h2>Nested Class Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Nested Classes</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Class</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<td class="col-first"><code>static class&nbsp;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="DefaultUserManager.JSONUserModule.html" title="class in org.apache.wiki.auth">DefaultUserManager.JSONUserModule</a></span></code></th>
<td class="col-last">
<div class="block">Implements the JSON API for usermanager.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.org.apache.wiki.auth.UserManager">Fields inherited from interface&nbsp;org.apache.wiki.auth.<a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></h3>
<code><a href="UserManager.html#JSON_USERS">JSON_USERS</a>, <a href="UserManager.html#PROP_DATABASE">PROP_DATABASE</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Constructors</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Constructor</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E()">DefaultUserManager</a></span>()</code></th>
<td class="col-last">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#addWikiEventListener(org.apache.wiki.event.WikiEventListener)">addWikiEventListener</a></span>&#8203;(<a href="../event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</code></th>
<td class="col-last">
<div class="block">Registers a WikiEventListener with this instance.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code><a href="user/UserDatabase.html" title="interface in org.apache.wiki.auth.user">UserDatabase</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getUserDatabase()">getUserDatabase</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the UserDatabase employed by this Engine.</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code><a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getUserProfile(org.apache.wiki.api.core.Session)">getUserProfile</a></span>&#8203;(<a href="../api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session)</code></th>
<td class="col-last">
<div class="block">Retrieves the <a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a> for the user in a session.</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#initialize(org.apache.wiki.api.core.Engine,java.util.Properties)">initialize</a></span>&#8203;(<a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
java.util.Properties&nbsp;props)</code></th>
<td class="col-last">
<div class="block">Initializes this Engine component.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>java.security.Principal[]</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#listWikiNames()">listWikiNames</a></span>()</code></th>
<td class="col-last">
<div class="block">A helper method for returning all of the known WikiNames in this system.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code><a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#parseProfile(org.apache.wiki.api.core.Context)">parseProfile</a></span>&#8203;(<a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context)</code></th>
<td class="col-last">
<div class="block"> Extracts user profile parameters from the HTTP request and populates a UserProfile with them.</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#removeWikiEventListener(org.apache.wiki.event.WikiEventListener)">removeWikiEventListener</a></span>&#8203;(<a href="../event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</code></th>
<td class="col-last">
<div class="block">Un-registers a WikiEventListener with this instance.</div>
</td>
</tr>
<tr class="row-color" id="i7">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setUserProfile(org.apache.wiki.api.core.Context,org.apache.wiki.auth.user.UserProfile)">setUserProfile</a></span>&#8203;(<a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context,
<a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</code></th>
<td class="col-last">
<div class="block">
 Saves the <a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a> for the user in a wiki session.</div>
</td>
</tr>
<tr class="alt-color" id="i8">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#startUserProfileCreationWorkflow(org.apache.wiki.api.core.Context,org.apache.wiki.auth.user.UserProfile)">startUserProfileCreationWorkflow</a></span>&#8203;(<a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context,
<a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</code></th>
</tr>
<tr class="row-color" id="i9">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#validateProfile(org.apache.wiki.api.core.Context,org.apache.wiki.auth.user.UserProfile)">validateProfile</a></span>&#8203;(<a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context,
<a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</code></th>
<td class="col-last">
<div class="block">Validates a user profile, and appends any errors to the session errors list.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.org.apache.wiki.auth.UserManager">Methods inherited from interface&nbsp;org.apache.wiki.auth.<a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></h3>
<code><a href="UserManager.html#fireEvent(int,org.apache.wiki.api.core.Session,java.lang.Object)">fireEvent</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>DefaultUserManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.78">DefaultUserManager</a></span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="initialize(org.apache.wiki.api.core.Engine,java.util.Properties)">
<h3>initialize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.99">initialize</a></span>&#8203;(<span class="parameters"><a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
java.util.Properties&nbsp;props)</span></div>
<div class="block"><p>Initializes this Engine component. Note that the engine is not fully initialized at this
 point, so don't do anything fancy here - use lazy init, if you have to.<br/>&nbsp;</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../api/engine/Initializable.html#initialize(org.apache.wiki.api.core.Engine,java.util.Properties)">initialize</a></code>&nbsp;in interface&nbsp;<code><a href="../api/engine/Initializable.html" title="interface in org.apache.wiki.api.engine">Initializable</a></code></dd>
<dt>Parameters:</dt>
<dd><code>engine</code> - Engine performing the initialization.</dd>
<dd><code>props</code> - Properties for setup.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUserDatabase()">
<h3>getUserDatabase</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="user/UserDatabase.html" title="interface in org.apache.wiki.auth.user">UserDatabase</a></span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.112">getUserDatabase</a></span>()</div>
<div class="block">Returns the UserDatabase employed by this Engine. The UserDatabase is lazily initialized by this method, if it does
 not exist yet. If the initialization fails, this method will use the inner class DummyUserDatabase as a default (which
 is enough to get JSPWiki running).</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserManager.html#getUserDatabase()">getUserDatabase</a></code>&nbsp;in interface&nbsp;<code><a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt>Returns:</dt>
<dd>the dummy user database</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUserProfile(org.apache.wiki.api.core.Session)">
<h3>getUserProfile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a></span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.149">getUserProfile</a></span>&#8203;(<span class="parameters"><a href="../api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session)</span></div>
<div class="block"><p>Retrieves the <a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a> for the user in a session. If the user is authenticated, the
 UserProfile returned will be the one stored in the user database; if one does not exist, a new one will be initialized and returned.
 If the user is anonymous or asserted, the UserProfile will <i>always</i> be newly initialized to prevent spoofing of identities.
 If a UserProfile needs to be initialized, its <a href="user/UserProfile.html#isNew()"><code>UserProfile.isNew()</code></a> method will return
 <code>true</code>, and its login name will will be set automatically if the user is authenticated. Note that this method does
 not modify the retrieved (or newly created) profile otherwise; other fields in the user profile may be <code>null</code>.</p>
 <p>If a new UserProfile was created, but its <a href="user/UserProfile.html#isNew()"><code>UserProfile.isNew()</code></a> method returns
 <code>false</code>, this method throws an <code>IllegalStateException</code>. This is meant as a quality check for UserDatabase providers;
 it should only be thrown if the implementation is faulty.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserManager.html#getUserProfile(org.apache.wiki.api.core.Session)">getUserProfile</a></code>&nbsp;in interface&nbsp;<code><a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>session</code> - the session, which may not be <code>null</code></dd>
<dt>Returns:</dt>
<dd>the user's profile, which will be newly initialized if the user is anonymous or asserted, or if the user cannot be found in
         the user database</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setUserProfile(org.apache.wiki.api.core.Context,org.apache.wiki.auth.user.UserProfile)">
<h3>setUserProfile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.181">setUserProfile</a></span>&#8203;(<span class="parameters"><a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context,
<a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</span>
                    throws <span class="exceptions"><a href="user/DuplicateUserException.html" title="class in org.apache.wiki.auth.user">DuplicateUserException</a>,
<a href="../api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></span></div>
<div class="block"><p>
 Saves the <a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a> for the user in a wiki session. This method verifies that a user profile to
 be saved doesn't collide with existing profiles; that is, the login name or full name is already used by another profile. If the
 profile collides, a <code>DuplicateUserException</code> is thrown. After saving the profile, the user database changes are committed,
 and the user's credential set is refreshed; if custom authentication is used, this means the user will be automatically be logged in.
 </p>
 <p>
 When the user's profile is saved successfully, this method fires a <a href="../event/WikiSecurityEvent.html#PROFILE_SAVE"><code>WikiSecurityEvent.PROFILE_SAVE</code></a> event with the Session
 as the source and the UserProfile as target. For existing profiles, if the user's full name changes, this method also fires a
 "name changed" event (<a href="../event/WikiSecurityEvent.html#PROFILE_NAME_CHANGED"><code>WikiSecurityEvent.PROFILE_NAME_CHANGED</code></a>) with the Session as the source and an array containing
 the old and new UserProfiles, respectively. The <code>NAME_CHANGED</code> event allows the GroupManager and PageManager can change
 group memberships and ACLs if needed.
 </p>
 <p>
 Note that Sessions normally attach event listeners to the UserManager, so changes to the profile will automatically cause the
 correct Principals to be reloaded into the current Session's Subject.
 </p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserManager.html#setUserProfile(org.apache.wiki.api.core.Context,org.apache.wiki.auth.user.UserProfile)">setUserProfile</a></code>&nbsp;in interface&nbsp;<code><a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>context</code> - the wiki context, which may not be <code>null</code></dd>
<dd><code>profile</code> - the user profile, which may not be <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="user/DuplicateUserException.html" title="class in org.apache.wiki.auth.user">DuplicateUserException</a></code> - if the proposed profile's login name or full name collides with another</dd>
<dd><code><a href="../api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></code> - if the save fails for some reason. If the current user does not have
 permission to save the profile, this will be a <a href="WikiSecurityException.html" title="class in org.apache.wiki.auth"><code>WikiSecurityException</code></a>;
 if if the user profile must be approved before it can be saved, it will be a
 <a href="../workflow/DecisionRequiredException.html" title="class in org.apache.wiki.workflow"><code>DecisionRequiredException</code></a>. All other WikiException
 indicate a condition that is not normal is probably due to mis-configuration</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startUserProfileCreationWorkflow(org.apache.wiki.api.core.Context,org.apache.wiki.auth.user.UserProfile)">
<h3>startUserProfileCreationWorkflow</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.253">startUserProfileCreationWorkflow</a></span>&#8203;(<span class="parameters"><a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context,
<a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</span>
                                      throws <span class="exceptions"><a href="../api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserManager.html#startUserProfileCreationWorkflow(org.apache.wiki.api.core.Context,org.apache.wiki.auth.user.UserProfile)">startUserProfileCreationWorkflow</a></code>&nbsp;in interface&nbsp;<code><a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="parseProfile(org.apache.wiki.api.core.Context)">
<h3>parseProfile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a></span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.288">parseProfile</a></span>&#8203;(<span class="parameters"><a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context)</span></div>
<div class="block"><p> Extracts user profile parameters from the HTTP request and populates a UserProfile with them. The UserProfile will either be a
 copy of the user's existing profile (if one can be found), or a new profile (if not). The rules for populating the profile as as
 follows: </p>
 <ul>
 <li>If the <code>email</code> or <code>password</code> parameter values differ from those in the existing profile, the passed
 parameters override the old values.</li>
 <li>For new profiles, the user-supplied <code>fullname</code> parameter is always used; for existing profiles the existing value is
 used, and whatever value the user supplied is discarded. The wiki name is automatically computed by taking the full name and
 extracting all whitespace.</li>
 <li>In all cases, the created/last modified timestamps of the user's existing or new profile always override whatever values the user
 supplied.</li>
 <li>If container authentication is used, the login name property of the profile is set to the name of
 <a href="../api/core/Session.html#getLoginPrincipal()"><code>Session.getLoginPrincipal()</code></a>. Otherwise, the value of the <code>loginname</code> parameter is used.</li>
 </ul></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserManager.html#parseProfile(org.apache.wiki.api.core.Context)">parseProfile</a></code>&nbsp;in interface&nbsp;<code><a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>context</code> - the current wiki context</dd>
<dt>Returns:</dt>
<dd>a new, populated user profile</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="validateProfile(org.apache.wiki.api.core.Context,org.apache.wiki.auth.user.UserProfile)">
<h3>validateProfile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.318">validateProfile</a></span>&#8203;(<span class="parameters"><a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context,
<a href="user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</span></div>
<div class="block">Validates a user profile, and appends any errors to the session errors list. If the profile is new, the password will be checked to
 make sure it isn't null. Otherwise, the password is checked for length and that it matches the value of the 'password2' HTTP
 parameter. Note that we have a special case when container-managed authentication is used and the user is not authenticated;
 this will always cause validation to fail. Any validation errors are added to the wiki session's messages collection
 (see <a href="../api/core/Session.html#getMessages()"><code>Session.getMessages()</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserManager.html#validateProfile(org.apache.wiki.api.core.Context,org.apache.wiki.auth.user.UserProfile)">validateProfile</a></code>&nbsp;in interface&nbsp;<code><a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>context</code> - the current wiki context</dd>
<dd><code>profile</code> - the supplied UserProfile</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listWikiNames()">
<h3>listWikiNames</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">java.security.Principal[]</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.400">listWikiNames</a></span>()
                                        throws <span class="exceptions"><a href="WikiSecurityException.html" title="class in org.apache.wiki.auth">WikiSecurityException</a></span></div>
<div class="block">A helper method for returning all of the known WikiNames in this system.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserManager.html#listWikiNames()">listWikiNames</a></code>&nbsp;in interface&nbsp;<code><a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt>Returns:</dt>
<dd>An Array of Principals</dd>
<dt>Throws:</dt>
<dd><code><a href="WikiSecurityException.html" title="class in org.apache.wiki.auth">WikiSecurityException</a></code> - If for reason the names cannot be fetched</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addWikiEventListener(org.apache.wiki.event.WikiEventListener)">
<h3>addWikiEventListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.412">addWikiEventListener</a></span>&#8203;(<span class="parameters"><a href="../event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</span></div>
<div class="block">Registers a WikiEventListener with this instance.
 This is a convenience method.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserManager.html#addWikiEventListener(org.apache.wiki.event.WikiEventListener)">addWikiEventListener</a></code>&nbsp;in interface&nbsp;<code><a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>listener</code> - the event listener</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeWikiEventListener(org.apache.wiki.event.WikiEventListener)">
<h3>removeWikiEventListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.421">removeWikiEventListener</a></span>&#8203;(<span class="parameters"><a href="../event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</span></div>
<div class="block">Un-registers a WikiEventListener with this instance.
 This is a convenience method.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserManager.html#removeWikiEventListener(org.apache.wiki.event.WikiEventListener)">removeWikiEventListener</a></code>&nbsp;in interface&nbsp;<code><a href="UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>listener</code> - the event listener</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DefaultUserManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
<p class="legal-copy"><small>Copyright Â© 2001-2020 The Apache Software Foundation. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>