<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (15) on Mon Dec 14 21:24:50 CET 2020 -->
<title>WorkflowBuilder (Apache JSPWiki 2.11.0.M8 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-12-14">
<meta name="description" content="declaration: package: org.apache.wiki.workflow, class: WorkflowBuilder">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/WorkflowBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.wiki.workflow</a></div>
<h1 title="Class WorkflowBuilder" class="title">Class WorkflowBuilder</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">org.apache.wiki.workflow.WorkflowBuilder</div>
</div>
<section class="description">
<hr>
<object type="image/svg+xml" data="WorkflowBuilder.svg"  style="max-width:60%;float:right;"></object>
<pre style="white-space:pre-wrap;">public final class <a href="../../../../src-html/org/apache/wiki/workflow/WorkflowBuilder.html#line.31">WorkflowBuilder</a>
extends java.lang.Object</pre>
<div class="block">Factory class that creates common Workflow instances such as a standard approval workflow.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="table-tab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code><a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#buildApprovalWorkflow(java.security.Principal,java.lang.String,org.apache.wiki.workflow.Step,java.lang.String,org.apache.wiki.workflow.Fact%5B%5D,org.apache.wiki.workflow.Step,java.lang.String)">buildApprovalWorkflow</a></span>&#8203;(java.security.Principal&nbsp;submitter,
java.lang.String&nbsp;workflowApproverKey,
<a href="Step.html" title="interface in org.apache.wiki.workflow">Step</a>&nbsp;prepTask,
java.lang.String&nbsp;decisionKey,
<a href="Fact.html" title="class in org.apache.wiki.workflow">Fact</a>[]&nbsp;facts,
<a href="Step.html" title="interface in org.apache.wiki.workflow">Step</a>&nbsp;completionTask,
java.lang.String&nbsp;rejectedMessageKey)</code></th>
<td class="col-last">
<div class="block">Builds an approval workflow that requests approval from a named
 user, <a href="../auth/authorize/Group.html" title="class in org.apache.wiki.auth.authorize"><code>Group</code></a> or
 <a href="../auth/authorize/Role.html" title="class in org.apache.wiki.auth.authorize"><code>Role</code></a> before running a Task.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>static <a href="WorkflowBuilder.html" title="class in org.apache.wiki.workflow">WorkflowBuilder</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getBuilder(org.apache.wiki.api.core.Engine)">getBuilder</a></span>&#8203;(<a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine)</code></th>
<td class="col-last">
<div class="block">Returns the WorkflowBuilder instance for a Engine.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getBuilder(org.apache.wiki.api.core.Engine)">
<h3>getBuilder</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="WorkflowBuilder.html" title="class in org.apache.wiki.workflow">WorkflowBuilder</a></span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/WorkflowBuilder.html#line.51">getBuilder</a></span>&#8203;(<span class="parameters"><a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine)</span></div>
<div class="block">Returns the WorkflowBuilder instance for a Engine. Only one WorkflowBuilder
 exists for a given engine.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>engine</code> - the wiki engine</dd>
<dt>Returns:</dt>
<dd>the workflow builder</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="buildApprovalWorkflow(java.security.Principal,java.lang.String,org.apache.wiki.workflow.Step,java.lang.String,org.apache.wiki.workflow.Fact[],org.apache.wiki.workflow.Step,java.lang.String)">
<h3>buildApprovalWorkflow</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a></span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/WorkflowBuilder.html#line.103">buildApprovalWorkflow</a></span>&#8203;(<span class="parameters">java.security.Principal&nbsp;submitter,
java.lang.String&nbsp;workflowApproverKey,
<a href="Step.html" title="interface in org.apache.wiki.workflow">Step</a>&nbsp;prepTask,
java.lang.String&nbsp;decisionKey,
<a href="Fact.html" title="class in org.apache.wiki.workflow">Fact</a>[]&nbsp;facts,
<a href="Step.html" title="interface in org.apache.wiki.workflow">Step</a>&nbsp;completionTask,
java.lang.String&nbsp;rejectedMessageKey)</span>
                               throws <span class="exceptions"><a href="../api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></span></div>
<div class="block"><p>Builds an approval workflow that requests approval from a named
 user, <a href="../auth/authorize/Group.html" title="class in org.apache.wiki.auth.authorize"><code>Group</code></a> or
 <a href="../auth/authorize/Role.html" title="class in org.apache.wiki.auth.authorize"><code>Role</code></a> before running a Task.</p>
 <p>The Principal who approves the activity is determined by looking up
 the property <code>jspwiki.approver.<var>workflowApproverKey</var></code>
 in <code>jspwiki.properties</code>. If that Principal resolves to a known user, Group
 Role, a Decision will be placed in the respective workflow queue (or multiple queues,
 if necessary). Only one approver needs to make the Decision, and if the request is
 approved, the completion task will be executed. If the request is denied, a
 <a href="SimpleNotification.html" title="class in org.apache.wiki.workflow"><code>SimpleNotification</code></a> with a message corresponding to the <code>rejectedMessage</code>
 message key will be placed in the submitter's workflow queue.</p>
 <p>To help approvers determine how to make the Decision, callers can supply an
 array of Fact objects to this method, which will be added to the Decision in the order
 they appear in the array. These items will be displayed in the web UI.
 In addition, the value of the first Fact will also be added as the third message
 argument for the workflow (the first two are always the submitter and the approver).
 For example, the PageManager code that creates the "save page approval" workflow
 adds the name of the page as its first Fact; this results in the page name being
 substituted correctly into the resulting message:
 "Save wiki page &lt;strong&gt;{2}&lt;/strong&gt;".</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>submitter</code> - the user submitting the request</dd>
<dd><code>workflowApproverKey</code> - the key that names the user, Group or Role who must approve
 the request. The key is looked up in <code>jspwiki.properties</code>, and is derived
 by prepending <code>jspwiki.approver</code> to the value of <code>workflowApproverKey</code></dd>
<dd><code>prepTask</code> - the initial task that should run before the Decision step is processed.
 If this parameter is <code>null</code>, the Decision will run as the first Step instead</dd>
<dd><code>decisionKey</code> - the message key in <code>default.properties</code> that contains
 the text that will appear in approvers' workflow queues indicating they need to make
 a Decision; for example, <code>decision.saveWikiPage</code>. In the i18n message bundle
 file, this key might return text that reads "Approve page &lt;strong&gt;{2}&lt;/strong&gt;"</dd>
<dd><code>facts</code> - an array of <a href="Fact.html" title="class in org.apache.wiki.workflow"><code>Fact</code></a> objects that will be shown to the approver
 to aid decision-making. The facts will be displayed in the order supplied in the array</dd>
<dd><code>completionTask</code> - the Task that will run if the Decision is approved</dd>
<dd><code>rejectedMessageKey</code> - the message key in <code>default.properties</code> that contains
 the text that will appear in the submitter's workflow queue if request was
 not approved; for example, <code>notification.saveWikiPage.reject</code>. In the
 i18n message bundle file, this key might might return
 text that reads "Your request to save page &lt;strong&gt;{2}&lt;/strong&gt; was rejected."
 If this parameter is <code>null</code>, no message will be sent</dd>
<dt>Returns:</dt>
<dd>the created workflow</dd>
<dt>Throws:</dt>
<dd><code><a href="../api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></code> - if the name of the approving user, Role or Group cannot be determined</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/WorkflowBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
<p class="legal-copy"><small>Copyright Â© 2001-2020 The Apache Software Foundation. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>