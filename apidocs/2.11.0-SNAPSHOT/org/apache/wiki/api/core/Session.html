<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.9) on Wed Jan 20 06:59:39 UTC 2021 -->
<title>Session (Apache JSPWiki 2.11.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-01-20">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Session (Apache JSPWiki 2.11.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":1,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Session.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.wiki.api.core</a></div>
<h2 title="Interface Session" class="title">Interface Session</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code>java.util.EventListener</code>, <code><a href="../../event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a></code></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../../WikiSession.html" title="class in org.apache.wiki">WikiSession</a></code></dd>
</dl>
<hr>
<object type="image/svg+xml" data="Session.svg"  style="max-width:60%;float:right;"></object>
<pre style="white-space:pre-wrap;">public interface <a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.60">Session</a>
extends <a href="../../event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a></pre>
<div class="block"><p>Represents a long-running wiki session, with an associated user Principal, user Subject, and authentication status. The sesion
 is initialized with minimal, default-deny values: authentication is set to <code>false</code>, and the user principal is set to
 <code>null</code>.</p>
 <p>The Session allows callers to:</p>
 <ul>
   <li>Obtain the authentication status of the user via
     <a href="#isAnonymous()"><code>isAnonymous()</code></a> and <a href="#isAuthenticated()"><code>isAuthenticated()</code></a></li>
   <li>Query the session for Principals representing the
     user's identity via <a href="#getLoginPrincipal()"><code>getLoginPrincipal()</code></a>,
     <a href="#getUserPrincipal()"><code>getUserPrincipal()</code></a> and <a href="#getPrincipals()"><code>getPrincipals()</code></a></li>
   <li>Store, retrieve and clear UI messages via
     <a href="#addMessage(java.lang.String)"><code>addMessage(String)</code></a>, <a href="#getMessages(java.lang.String)"><code>getMessages(String)</code></a>
     and <a href="#clearMessages(java.lang.String)"><code>clearMessages(String)</code></a></li>
 </ul>
 <p>To keep track of the Principals each user posseses, each Session stores a JAAS Subject. Various login processes add or
 remove Principals when users authenticate or log out.</p>
 <p>Session extends the <a href="../../event/WikiEventListener.html" title="interface in org.apache.wiki.event"><code>WikiEventListener</code></a> interface and listens for group add/change/delete
 events fired by event sources the Session is registered with: <a href="../../auth/AuthenticationManager.html" title="interface in org.apache.wiki.auth"><code>AuthenticationManager</code></a>,
 <a href="../../auth/UserManager.html" title="interface in org.apache.wiki.auth"><code>UserManager</code></a> and <a href="../../auth/authorize/GroupManager.html" title="interface in org.apache.wiki.auth.authorize"><code>GroupManager</code></a>, so it can catch group events. Thus,
 when a user is added to a <a href="../../auth/authorize/Group.html" title="class in org.apache.wiki.auth.authorize"><code>Group</code></a>, a corresponding <a href="../../auth/GroupPrincipal.html" title="class in org.apache.wiki.auth"><code>GroupPrincipal</code></a> is
 injected into the Subject's Principal set. Likewise, when the user is removed from the Group or the Group is deleted, the
 GroupPrincipal is removed from the Subject. The effect that this strategy produces is extremely beneficial: when someone adds a user
 to a wiki group, that user <em>immediately</em> gains the privileges associated with that group; he or she does not need to
 re-authenticate.
 </p>
 <p>In addition to methods for examining individual <code>Session</code> objects, this class also contains a number of static
 methods for managing Sessions for an entire wiki. These methods allow callers to find, query and remove Session objects, and
 to obtain a list of the current wiki session users.</p></div>
</li>
</ul>
</div>
<div class="summary" style="clear:right;">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ANONYMOUS">ANONYMOUS</a></span></code></th>
<td class="colLast">
<div class="block">An anonymous user's session status.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ASSERTED">ASSERTED</a></span></code></th>
<td class="colLast">
<div class="block">An asserted user's session status.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#AUTHENTICATED">AUTHENTICATED</a></span></code></th>
<td class="colLast">
<div class="block">An authenticated user's session status.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addMessage(java.lang.String)">addMessage</a></span>&#8203;(java.lang.String&nbsp;message)</code></th>
<td class="colLast">
<div class="block">Adds a message to the generic list of messages associated with the session.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addMessage(java.lang.String,java.lang.String)">addMessage</a></span>&#8203;(java.lang.String&nbsp;topic,
          java.lang.String&nbsp;message)</code></th>
<td class="colLast">
<div class="block">Adds a message to the specific set of messages associated with the session.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clearMessages()">clearMessages</a></span>()</code></th>
<td class="colLast">
<div class="block">Clears all messages associated with this session.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clearMessages(java.lang.String)">clearMessages</a></span>&#8203;(java.lang.String&nbsp;topic)</code></th>
<td class="colLast">
<div class="block">Clears all messages associated with a session topic.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.lang.Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doPrivileged(org.apache.wiki.api.core.Session,java.security.PrivilegedAction)">doPrivileged</a></span>&#8203;(<a href="Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session,
            java.security.PrivilegedAction&lt;?&gt;&nbsp;action)</code></th>
<td class="colLast">
<div class="block">Wrapper for <code>Subject.doAsPrivileged(Subject, PrivilegedAction, java.security.AccessControlContext)</code>
 that executes an action with the privileges posssessed by a Session's Subject.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.Locale</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLocale()">getLocale</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a cached Locale object for this user.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.security.Principal</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLoginPrincipal()">getLoginPrincipal</a></span>()</code></th>
<td class="colLast">
<div class="block"> Returns the Principal used to log in to an authenticated session.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMessages()">getMessages</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns all generic messages associated with this session.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMessages(java.lang.String)">getMessages</a></span>&#8203;(java.lang.String&nbsp;topic)</code></th>
<td class="colLast">
<div class="block">Returns all messages associated with a session topic.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.security.Principal[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPrincipals()">getPrincipals</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns all user Principals associated with this session.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.security.Principal[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRoles()">getRoles</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns an array of Principal objects that represents the groups and roles that the user associated with a Session possesses.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStatus()">getStatus</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the status of the wiki session as a text string.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>javax.security.auth.Subject</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSubject()">getSubject</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the <code>Subject</code> associated to the session.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.security.Principal</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUserPrincipal()">getUserPrincipal</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the primary user Principal associated with this session.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasPrincipal(java.security.Principal)">hasPrincipal</a></span>&#8203;(java.security.Principal&nbsp;principal)</code></th>
<td class="colLast">
<div class="block">Returns <code>true</code> if the Session's Subject possess a supplied Principal.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#invalidate()">invalidate</a></span>()</code></th>
<td class="colLast">
<div class="block">Invalidates the Session and resets its Subject's Principals to the equivalent of a "guest session".</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isAnonymous()">isAnonymous</a></span>()</code></th>
<td class="colLast">
<div class="block">Determines whether the current session is anonymous.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isAsserted()">isAsserted</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns <code>true</code> if the user is considered asserted via a session cookie; that is, the Subject contains the Principal
 Role.ASSERTED.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isAuthenticated()">isAuthenticated</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the authentication status of the user's session.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.wiki.event.WikiEventListener">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.wiki.event.<a href="../../event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a></h3>
<code><a href="../../event/WikiEventListener.html#actionPerformed(org.apache.wiki.event.WikiEvent)">actionPerformed</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="ANONYMOUS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ANONYMOUS</h4>
<pre>static final&nbsp;java.lang.String <a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.63">ANONYMOUS</a></pre>
<div class="block">An anonymous user's session status.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.wiki.api.core.Session.ANONYMOUS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="ASSERTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ASSERTED</h4>
<pre>static final&nbsp;java.lang.String <a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.66">ASSERTED</a></pre>
<div class="block">An asserted user's session status.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.wiki.api.core.Session.ASSERTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="AUTHENTICATED">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AUTHENTICATED</h4>
<pre>static final&nbsp;java.lang.String <a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.69">AUTHENTICATED</a></pre>
<div class="block">An authenticated user's session status.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.wiki.api.core.Session.AUTHENTICATED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="isAsserted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAsserted</h4>
<pre class="methodSignature">boolean&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.77">isAsserted</a>()</pre>
<div class="block">Returns <code>true</code> if the user is considered asserted via a session cookie; that is, the Subject contains the Principal
 Role.ASSERTED.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns <code>true</code> if the user is asserted</dd>
</dl>
</li>
</ul>
<a id="isAuthenticated()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAuthenticated</h4>
<pre class="methodSignature">boolean&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.86">isAuthenticated</a>()</pre>
<div class="block">Returns the authentication status of the user's session. The user is considered authenticated if the Subject contains the
 Principal Role.AUTHENTICATED. If this method determines that an earlier LoginModule did not inject Role.AUTHENTICATED, it
 will inject one if the user is not anonymous <em>and</em> not asserted.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns <code>true</code> if the user is authenticated</dd>
</dl>
</li>
</ul>
<a id="isAnonymous()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAnonymous</h4>
<pre class="methodSignature">boolean&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.98">isAnonymous</a>()</pre>
<div class="block"><p>Determines whether the current session is anonymous. This will be true if any of these conditions are true:</p>
 <ul>
   <li>The session's Principal set contains <a href="../../auth/authorize/Role.html#ANONYMOUS"><code>Role.ANONYMOUS</code></a></li>
   <li>The session's Principal set contains <a href="../../auth/WikiPrincipal.html#GUEST"><code>WikiPrincipal.GUEST</code></a></li>
   <li>The Principal returned by <a href="#getUserPrincipal()"><code>getUserPrincipal()</code></a> evaluates to an IP address.</li>
 </ul>
 <p>The criteria above are listed in the order in which they are evaluated.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the current user's identity is equivalent to an IP address</dd>
</dl>
</li>
</ul>
<a id="getLoginPrincipal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLoginPrincipal</h4>
<pre class="methodSignature">java.security.Principal&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.110">getLoginPrincipal</a>()</pre>
<div class="block"><p> Returns the Principal used to log in to an authenticated session. The login principal is determined by examining the
 Subject's Principal set for PrincipalWrappers or WikiPrincipals with type designator <code>LOGIN_NAME</code>; the first one
 found is the login principal. If one is not found, this method returns the first principal that isn't of type Role or
 GroupPrincipal. If neither of these conditions hold, this method returns
 <a href="../../auth/WikiPrincipal.html#GUEST"><code>WikiPrincipal.GUEST</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the login Principal. If it is a PrincipalWrapper containing an externally-provided Principal, the object returned is the
 Principal, not the wrapper around it.</dd>
</dl>
</li>
</ul>
<a id="getUserPrincipal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserPrincipal</h4>
<pre class="methodSignature">java.security.Principal&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.124">getUserPrincipal</a>()</pre>
<div class="block"><p>Returns the primary user Principal associated with this session. The primary user principal is determined as follows:</p>
 <ol>
     <li>If the Subject's Principal set contains WikiPrincipals, the first WikiPrincipal with type designator
         <code>WIKI_NAME</code> or (alternatively) <code>FULL_NAME</code> is the primary Principal.</li>
     <li>For all other cases, the first Principal in the Subject's principal collection that that isn't of type Role or
         GroupPrincipal is the primary.</li>
 </ol>
 If no primary user Principal is found, this method returns <a href="../../auth/WikiPrincipal.html#GUEST"><code>WikiPrincipal.GUEST</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the primary user Principal</dd>
</dl>
</li>
</ul>
<a id="getLocale()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocale</h4>
<pre class="methodSignature">java.util.Locale&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.135">getLocale</a>()</pre>
<div class="block">Returns a cached Locale object for this user.  It's better to use WikiContext's corresponding getBundle() method, since that
  will actually react if the user changes the locale in the middle, but if that's not available (or, for some reason, you need
  the speed), this method can also be used.  The Locale expires when the Session expires, and currently there is no way to
  reset the Locale.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A cached Locale object</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.5.96</dd>
</dl>
</li>
</ul>
<a id="addMessage(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMessage</h4>
<pre class="methodSignature">void&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.143">addMessage</a>&#8203;(java.lang.String&nbsp;message)</pre>
<div class="block">Adds a message to the generic list of messages associated with the session. These messages retain their order of insertion and
 remain until the <a href="#clearMessages()"><code>clearMessages()</code></a> method is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - the message to add; if <code>null</code> it is ignored.</dd>
</dl>
</li>
</ul>
<a id="addMessage(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMessage</h4>
<pre class="methodSignature">void&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.152">addMessage</a>&#8203;(java.lang.String&nbsp;topic,
                java.lang.String&nbsp;message)</pre>
<div class="block">Adds a message to the specific set of messages associated with the session. These messages retain their order of insertion and
 remain until the <a href="#clearMessages()"><code>clearMessages()</code></a> method is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - the topic to associate the message to;</dd>
<dd><code>message</code> - the message to add</dd>
</dl>
</li>
</ul>
<a id="clearMessages()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearMessages</h4>
<pre class="methodSignature">void&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.157">clearMessages</a>()</pre>
<div class="block">Clears all messages associated with this session.</div>
</li>
</ul>
<a id="clearMessages(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearMessages</h4>
<pre class="methodSignature">void&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.164">clearMessages</a>&#8203;(java.lang.String&nbsp;topic)</pre>
<div class="block">Clears all messages associated with a session topic.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - the topic whose messages should be cleared.</dd>
</dl>
</li>
</ul>
<a id="getMessages()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessages</h4>
<pre class="methodSignature">java.lang.String[]&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.172">getMessages</a>()</pre>
<div class="block">Returns all generic messages associated with this session. The messages stored with the session persist throughout the
 session unless they have been reset with <a href="#clearMessages()"><code>clearMessages()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current messages.</dd>
</dl>
</li>
</ul>
<a id="getMessages(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessages</h4>
<pre class="methodSignature">java.lang.String[]&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.181">getMessages</a>&#8203;(java.lang.String&nbsp;topic)</pre>
<div class="block">Returns all messages associated with a session topic. The messages stored with the session persist throughout the
 session unless they have been reset with <a href="#clearMessages(java.lang.String)"><code>clearMessages(String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - The topic</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current messages.</dd>
</dl>
</li>
</ul>
<a id="getPrincipals()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrincipals</h4>
<pre class="methodSignature">java.security.Principal[]&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.190">getPrincipals</a>()</pre>
<div class="block">Returns all user Principals associated with this session. User principals are those in the Subject's principal collection that
 aren't of type Role or of type GroupPrincipal. This is a defensive copy.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the user principal</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../auth/AuthenticationManager.html#isUserPrincipal(java.security.Principal)"><code>AuthenticationManager.isUserPrincipal(Principal)</code></a></dd>
</dl>
</li>
</ul>
<a id="getRoles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoles</h4>
<pre class="methodSignature">java.security.Principal[]&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.201">getRoles</a>()</pre>
<div class="block">Returns an array of Principal objects that represents the groups and roles that the user associated with a Session possesses.
 The array is built by iterating through the Subject's Principal set and extracting all Role and GroupPrincipal objects into a
 list. The list is returned as an array sorted in the natural order implied by each Principal's <code>getName</code> method. Note
 that this method does <em>not</em> consult the external Authorizer or GroupManager; it relies on the Principals that have been
 injected into the user's Subject at login time, or after group creation/modification/deletion.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of Principal objects corresponding to the roles the Subject possesses</dd>
</dl>
</li>
</ul>
<a id="hasPrincipal(java.security.Principal)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasPrincipal</h4>
<pre class="methodSignature">boolean&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.210">hasPrincipal</a>&#8203;(java.security.Principal&nbsp;principal)</pre>
<div class="block">Returns <code>true</code> if the Session's Subject possess a supplied Principal. This method eliminates the need to externally
 request and inspect the JAAS subject.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>principal</code> - the Principal to test</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a id="invalidate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidate</h4>
<pre class="methodSignature">void&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.213">invalidate</a>()</pre>
<div class="block">Invalidates the Session and resets its Subject's Principals to the equivalent of a "guest session".</div>
</li>
</ul>
<a id="getStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatus</h4>
<pre class="methodSignature">java.lang.String&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.225">getStatus</a>()</pre>
<div class="block"><p>Returns the status of the wiki session as a text string. Valid values are:</p>
 <ul>
   <li><a href="#AUTHENTICATED"><code>AUTHENTICATED</code></a></li>
   <li><a href="#ASSERTED"><code>ASSERTED</code></a></li>
   <li><a href="#ANONYMOUS"><code>ANONYMOUS</code></a></li>
 </ul></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the user's session status</dd>
</dl>
</li>
</ul>
<a id="getSubject()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSubject</h4>
<pre class="methodSignature">javax.security.auth.Subject&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.232">getSubject</a>()</pre>
<div class="block">Returns the <code>Subject</code> associated to the session.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>Subject</code> associated to the session.</dd>
</dl>
</li>
</ul>
<a id="doPrivileged(org.apache.wiki.api.core.Session,java.security.PrivilegedAction)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>doPrivileged</h4>
<pre class="methodSignature">static&nbsp;java.lang.Object&nbsp;<a href="../../../../../src-html/org/apache/wiki/api/core/Session.html#line.244">doPrivileged</a>&#8203;(<a href="Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session,
                                     java.security.PrivilegedAction&lt;?&gt;&nbsp;action)
                              throws java.security.AccessControlException</pre>
<div class="block">Wrapper for <code>Subject.doAsPrivileged(Subject, PrivilegedAction, java.security.AccessControlContext)</code>
 that executes an action with the privileges posssessed by a Session's Subject. The action executes with a <code>null</code>
 AccessControlContext, which has the effect of running it "cleanly" without the AccessControlContexts of the caller.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the wiki session</dd>
<dd><code>action</code> - the privileged action</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the privileged action; may be <code>null</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.security.AccessControlException</code> - if the action is not permitted by the security policy</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Session.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright © 2001-2021 The Apache Software Foundation. All rights reserved.</small></p>
</footer>
</body>
</html>