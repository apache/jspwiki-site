<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (15) on Mon Dec 14 21:24:50 CET 2020 -->
<title>DefaultWorkflowManager (Apache JSPWiki 2.11.0.M8 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-12-14">
<meta name="description" content="declaration: package: org.apache.wiki.workflow, class: DefaultWorkflowManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DefaultWorkflowManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.wiki.workflow</a></div>
<h1 title="Class DefaultWorkflowManager" class="title">Class DefaultWorkflowManager</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">org.apache.wiki.workflow.DefaultWorkflowManager</div>
</div>
<section class="description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code>java.util.EventListener</code>, <code><a href="../api/engine/Initializable.html" title="interface in org.apache.wiki.api.engine">Initializable</a></code>, <code><a href="../event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a></code>, <code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
</dl>
<hr>
<object type="image/svg+xml" data="DefaultWorkflowManager.svg"  style="max-width:60%;float:right;"></object>
<pre style="white-space:pre-wrap;">public class <a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.48">DefaultWorkflowManager</a>
extends java.lang.Object
implements <a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></pre>
<div class="block"><p>
 Monitor class that tracks running Workflows. The WorkflowManager also keeps track of the names of
 users or groups expected to approve particular Workflows.
 </p></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.org.apache.wiki.workflow.WorkflowManager">Fields inherited from interface&nbsp;org.apache.wiki.workflow.<a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></h3>
<code><a href="WorkflowManager.html#PROPERTY_APPROVER_PREFIX">PROPERTY_APPROVER_PREFIX</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_APPROVER">WF_UP_CREATE_SAVE_APPROVER</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_ATTR_SAVED_PROFILE">WF_UP_CREATE_SAVE_ATTR_SAVED_PROFILE</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_DECISION_MESSAGE_KEY">WF_UP_CREATE_SAVE_DECISION_MESSAGE_KEY</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_PREFS_EMAIL">WF_UP_CREATE_SAVE_FACT_PREFS_EMAIL</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_PREFS_FULL_NAME">WF_UP_CREATE_SAVE_FACT_PREFS_FULL_NAME</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_PREFS_LOGIN_NAME">WF_UP_CREATE_SAVE_FACT_PREFS_LOGIN_NAME</a>, <a href="WorkflowManager.html#WF_UP_CREATE_SAVE_FACT_SUBMITTER">WF_UP_CREATE_SAVE_FACT_SUBMITTER</a>, <a href="WorkflowManager.html#WF_WP_SAVE_APPROVER">WF_WP_SAVE_APPROVER</a>, <a href="WorkflowManager.html#WF_WP_SAVE_DECISION_MESSAGE_KEY">WF_WP_SAVE_DECISION_MESSAGE_KEY</a>, <a href="WorkflowManager.html#WF_WP_SAVE_FACT_CURRENT_TEXT">WF_WP_SAVE_FACT_CURRENT_TEXT</a>, <a href="WorkflowManager.html#WF_WP_SAVE_FACT_DIFF_TEXT">WF_WP_SAVE_FACT_DIFF_TEXT</a>, <a href="WorkflowManager.html#WF_WP_SAVE_FACT_IS_AUTHENTICATED">WF_WP_SAVE_FACT_IS_AUTHENTICATED</a>, <a href="WorkflowManager.html#WF_WP_SAVE_FACT_PAGE_NAME">WF_WP_SAVE_FACT_PAGE_NAME</a>, <a href="WorkflowManager.html#WF_WP_SAVE_FACT_PROPOSED_TEXT">WF_WP_SAVE_FACT_PROPOSED_TEXT</a>, <a href="WorkflowManager.html#WF_WP_SAVE_REJECT_MESSAGE_KEY">WF_WP_SAVE_REJECT_MESSAGE_KEY</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Constructors</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Constructor</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E()">DefaultWorkflowManager</a></span>()</code></th>
<td class="col-last">
<div class="block">Constructs a new WorkflowManager, with an empty workflow cache.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#actionPerformed(org.apache.wiki.event.WikiEvent)">actionPerformed</a></span>&#8203;(<a href="../event/WikiEvent.html" title="class in org.apache.wiki.event">WikiEvent</a>&nbsp;event)</code></th>
<td class="col-last">
<div class="block">Listens for <a href="../event/WorkflowEvent.html" title="class in org.apache.wiki.event"><code>WorkflowEvent</code></a> objects emitted by Workflows.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>protected void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#add(org.apache.wiki.workflow.Workflow)">add</a></span>&#8203;(<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</code></th>
<td class="col-last">
<div class="block">Protected helper method that adds a newly created Workflow to the cache, and sets its <code>workflowManager</code> and
 <code>Id</code> properties if not set.</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code>protected void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#addToDecisionQueue(org.apache.wiki.workflow.Decision)">addToDecisionQueue</a></span>&#8203;(<a href="Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision)</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code>java.security.Principal</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getApprover(java.lang.String)">getApprover</a></span>&#8203;(java.lang.String&nbsp;messageKey)</code></th>
<td class="col-last">
<div class="block">Looks up and resolves the actor who approves a Decision for a particular Workflow, based on the Workflow's message key.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>java.util.List&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getCompletedWorkflows()">getCompletedWorkflows</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns a collection of finished workflows; that is, those that have aborted or completed.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code><a href="DecisionQueue.html" title="class in org.apache.wiki.workflow">DecisionQueue</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getDecisionQueue()">getDecisionQueue</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns the DecisionQueue associated with this WorkflowManager</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code>protected <a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getEngine()">getEngine</a></span>()</code></th>
<td class="col-last">
<div class="block">Protected helper method that returns the associated Engine</div>
</td>
</tr>
<tr class="row-color" id="i7">
<td class="col-first"><code>java.util.List&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getOwnerWorkflows(org.apache.wiki.api.core.Session)">getOwnerWorkflows</a></span>&#8203;(<a href="../api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session)</code></th>
<td class="col-last">
<div class="block">Returns the current workflows a wiki session owns.</div>
</td>
</tr>
<tr class="alt-color" id="i8">
<td class="col-first"><code>java.util.Set&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getWorkflows()">getWorkflows</a></span>()</code></th>
<td class="col-last">
<div class="block">Returns a collection of the currently active workflows.</div>
</td>
</tr>
<tr class="row-color" id="i9">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#initialize(org.apache.wiki.api.core.Engine,java.util.Properties)">initialize</a></span>&#8203;(<a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
java.util.Properties&nbsp;props)</code></th>
<td class="col-last">
<div class="block">Initializes this Engine component.</div>
</td>
</tr>
<tr class="alt-color" id="i10">
<td class="col-first"><code>protected void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#remove(org.apache.wiki.workflow.Workflow)">remove</a></span>&#8203;(<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</code></th>
<td class="col-last">
<div class="block">Protected helper method that removes a specified Workflow from the cache, and moves it to the workflow history list.</div>
</td>
</tr>
<tr class="row-color" id="i11">
<td class="col-first"><code>protected void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#removeFromDecisionQueue(org.apache.wiki.workflow.Decision,org.apache.wiki.api.core.Context)">removeFromDecisionQueue</a></span>&#8203;(<a href="Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision,
<a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context)</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color" id="i12">
<td class="col-first"><code>boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#requiresApproval(java.lang.String)">requiresApproval</a></span>&#8203;(java.lang.String&nbsp;messageKey)</code></th>
<td class="col-last">
<div class="block">Returns <code>true</code> if a workflow matching a particular key contains an approval step.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>DefaultWorkflowManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.66">DefaultWorkflowManager</a></span>()</div>
<div class="block">Constructs a new WorkflowManager, with an empty workflow cache.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getWorkflows()">
<h3>getWorkflows</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">java.util.Set&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.76">getWorkflows</a></span>()</div>
<div class="block">Returns a collection of the currently active workflows.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="WorkflowManager.html#getWorkflows()">getWorkflows</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt>Returns:</dt>
<dd>the current workflows</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCompletedWorkflows()">
<h3>getCompletedWorkflows</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">java.util.List&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.86">getCompletedWorkflows</a></span>()</div>
<div class="block">Returns a collection of finished workflows; that is, those that have aborted or completed.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="WorkflowManager.html#getCompletedWorkflows()">getCompletedWorkflows</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt>Returns:</dt>
<dd>the finished workflows</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="initialize(org.apache.wiki.api.core.Engine,java.util.Properties)">
<h3>initialize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.100">initialize</a></span>&#8203;(<span class="parameters"><a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
java.util.Properties&nbsp;props)</span></div>
<div class="block"><p>Initializes this Engine component. Note that the engine is not fully initialized at this
 point, so don't do anything fancy here - use lazy init, if you have to.<br/>&nbsp;</p>

 Any properties that begin with <a href="WorkflowManager.html#PROPERTY_APPROVER_PREFIX"><code>WorkflowManager.PROPERTY_APPROVER_PREFIX</code></a> will be assumed to be Decisions that require approval. For a given
 property key, everything after the prefix denotes the Decision's message key. The property value indicates the Principal (Role,
 GroupPrincipal, WikiPrincipal) that must approve the Decision. For example, if the property key/value pair is
 <code>jspwiki.approver.workflow.saveWikiPage=Admin</code>, the Decision's message key is <code>workflow.saveWikiPage</code>. The Principal
 <code>Admin</code> will be resolved via <a href="../auth/AuthorizationManager.html#resolvePrincipal(java.lang.String)"><code>AuthorizationManager.resolvePrincipal(String)</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../api/engine/Initializable.html#initialize(org.apache.wiki.api.core.Engine,java.util.Properties)">initialize</a></code>&nbsp;in interface&nbsp;<code><a href="../api/engine/Initializable.html" title="interface in org.apache.wiki.api.engine">Initializable</a></code></dd>
<dt>Parameters:</dt>
<dd><code>engine</code> - Engine performing the initialization.</dd>
<dd><code>props</code> - Properties for setup.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="requiresApproval(java.lang.String)">
<h3>requiresApproval</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.180">requiresApproval</a></span>&#8203;(<span class="parameters">java.lang.String&nbsp;messageKey)</span></div>
<div class="block">Returns <code>true</code> if a workflow matching a particular key contains an approval step.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="WorkflowManager.html#requiresApproval(java.lang.String)">requiresApproval</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>messageKey</code> - the name of the workflow; corresponds to the value returned by <a href="Workflow.html#getMessageKey()"><code>Workflow.getMessageKey()</code></a>.</dd>
<dt>Returns:</dt>
<dd>the result</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getApprover(java.lang.String)">
<h3>getApprover</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">java.security.Principal</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.188">getApprover</a></span>&#8203;(<span class="parameters">java.lang.String&nbsp;messageKey)</span>
                                    throws <span class="exceptions"><a href="../api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></span></div>
<div class="block">Looks up and resolves the actor who approves a Decision for a particular Workflow, based on the Workflow's message key.
 If not found, or if Principal is Unresolved, throws WikiException. This particular implementation always returns the
 GroupPrincipal <code>Admin</code></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="WorkflowManager.html#getApprover(java.lang.String)">getApprover</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>messageKey</code> - the Decision's message key</dd>
<dt>Returns:</dt>
<dd>the actor who approves Decisions</dd>
<dt>Throws:</dt>
<dd><code><a href="../api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></code> - if the message key was not found, or the
 Principal value corresponding to the key could not be resolved</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEngine()">
<h3>getEngine</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a></span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.215">getEngine</a></span>()</div>
<div class="block">Protected helper method that returns the associated Engine</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the wiki engine</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDecisionQueue()">
<h3>getDecisionQueue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="DecisionQueue.html" title="class in org.apache.wiki.workflow">DecisionQueue</a></span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.227">getDecisionQueue</a></span>()</div>
<div class="block">Returns the DecisionQueue associated with this WorkflowManager</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="WorkflowManager.html#getDecisionQueue()">getDecisionQueue</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt>Returns:</dt>
<dd>the decision queue</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOwnerWorkflows(org.apache.wiki.api.core.Session)">
<h3>getOwnerWorkflows</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">java.util.List&lt;<a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&gt;</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.235">getOwnerWorkflows</a></span>&#8203;(<span class="parameters"><a href="../api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session)</span></div>
<div class="block">Returns the current workflows a wiki session owns. These are workflows whose <a href="Workflow.html#getOwner()"><code>Workflow.getOwner()</code></a> method returns a Principal
 also possessed by the wiki session (see <a href="../api/core/Session.html#getPrincipals()"><code>Session.getPrincipals()</code></a>). If the wiki session is not
 authenticated, this method returns an empty Collection.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="WorkflowManager.html#getOwnerWorkflows(org.apache.wiki.api.core.Session)">getOwnerWorkflows</a></code>&nbsp;in interface&nbsp;<code><a href="WorkflowManager.html" title="interface in org.apache.wiki.workflow">WorkflowManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>session</code> - the wiki session</dd>
<dt>Returns:</dt>
<dd>the collection workflows the wiki session owns, which may be empty</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="actionPerformed(org.apache.wiki.event.WikiEvent)">
<h3>actionPerformed</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.261">actionPerformed</a></span>&#8203;(<span class="parameters"><a href="../event/WikiEvent.html" title="class in org.apache.wiki.event">WikiEvent</a>&nbsp;event)</span></div>
<div class="block">Listens for <a href="../event/WorkflowEvent.html" title="class in org.apache.wiki.event"><code>WorkflowEvent</code></a> objects emitted by Workflows. In particular, this method listens for <a href="../event/WorkflowEvent.html#CREATED"><code>WorkflowEvent.CREATED</code></a>,
 <a href="../event/WorkflowEvent.html#ABORTED"><code>WorkflowEvent.ABORTED</code></a>, <a href="../event/WorkflowEvent.html#COMPLETED"><code>WorkflowEvent.COMPLETED</code></a> and <a href="../event/WorkflowEvent.html#DQ_REMOVAL"><code>WorkflowEvent.DQ_REMOVAL</code></a> events. If a workflow is created,
 it is automatically added to the cache. If one is aborted or completed, it is automatically removed. If a removal from decision queue
 is issued, the current step from workflow, which is assumed to be a <a href="Decision.html" title="class in org.apache.wiki.workflow"><code>Decision</code></a>, is removed from the <a href="DecisionQueue.html" title="class in org.apache.wiki.workflow"><code>DecisionQueue</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../event/WikiEventListener.html#actionPerformed(org.apache.wiki.event.WikiEvent)">actionPerformed</a></code>&nbsp;in interface&nbsp;<code><a href="../event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>event</code> - the event passed to this listener</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="add(org.apache.wiki.workflow.Workflow)">
<h3>add</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.294">add</a></span>&#8203;(<span class="parameters"><a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</span></div>
<div class="block">Protected helper method that adds a newly created Workflow to the cache, and sets its <code>workflowManager</code> and
 <code>Id</code> properties if not set.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>workflow</code> - the workflow to add</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="remove(org.apache.wiki.workflow.Workflow)">
<h3>remove</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.304">remove</a></span>&#8203;(<span class="parameters"><a href="Workflow.html" title="class in org.apache.wiki.workflow">Workflow</a>&nbsp;workflow)</span></div>
<div class="block">Protected helper method that removes a specified Workflow from the cache, and moves it to the workflow history list. This method
 defensively checks to see if the workflow has not yet been removed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>workflow</code> - the workflow to remove</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeFromDecisionQueue(org.apache.wiki.workflow.Decision,org.apache.wiki.api.core.Context)">
<h3>removeFromDecisionQueue</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.311">removeFromDecisionQueue</a></span>&#8203;(<span class="parameters"><a href="Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision,
<a href="../api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context)</span></div>
</section>
</li>
<li>
<section class="detail" id="addToDecisionQueue(org.apache.wiki.workflow.Decision)">
<h3>addToDecisionQueue</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../../src-html/org/apache/wiki/workflow/DefaultWorkflowManager.html#line.329">addToDecisionQueue</a></span>&#8203;(<span class="parameters"><a href="Decision.html" title="class in org.apache.wiki.workflow">Decision</a>&nbsp;decision)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DefaultWorkflowManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
<p class="legal-copy"><small>Copyright Â© 2001-2020 The Apache Software Foundation. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>