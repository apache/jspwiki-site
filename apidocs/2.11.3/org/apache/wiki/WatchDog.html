<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>WatchDog (Apache JSPWiki 2.11.3 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WatchDog (Apache JSPWiki 2.11.3 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":9,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WatchDog.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.wiki</a></div>
<h2 title="Class WatchDog" class="title">Class WatchDog</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.wiki.WatchDog</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<object type="image/svg+xml" data="WatchDog.svg"  style="max-width:60%;float:right;"></object>
<pre style="white-space:pre-wrap;">public final class <a href="../../../src-html/org/apache/wiki/WatchDog.html#line.48">WatchDog</a>
extends java.lang.Object</pre>
<div class="block">WatchDog is a general system watchdog.  You can attach any Watchable or a Thread object to it, and it will notify you
  if a timeout has been exceeded.
  <p>
  The notification of the timeouts is done from a separate WatchDog thread, of which there is one per watched thread.
  This Thread is named 'WatchDog for XXX', where XXX is your Thread name.
  <p>
  The suggested method of obtaining a WatchDog is via the static factory method, since it will return you the correct
  watchdog for the current thread.  However, we do not prevent you from creating your own watchdogs either.
  <p>
  If you create a WatchDog for a Thread, the WatchDog will figure out when the Thread is dead, and will stop itself
  accordingly. However, this object is not automatically released, so you might want to check it out after a while.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.4.92</dd>
</dl>
</li>
</ul>
</div>
<div class="summary" style="clear:right;">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.wiki.api.core.Engine,java.lang.Thread)">WatchDog</a></span>&#8203;(<a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
        java.lang.Thread&nbsp;thread)</code></th>
<td class="colLast">
<div class="block">Creates a new WatchDog for a Thread.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.wiki.api.core.Engine,org.apache.wiki.Watchable)">WatchDog</a></span>&#8203;(<a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
        <a href="Watchable.html" title="interface in org.apache.wiki">Watchable</a>&nbsp;watch)</code></th>
<td class="colLast">
<div class="block">Creates a new WatchDog for a Watchable.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#disable()">disable</a></span>()</code></th>
<td class="colLast">
<div class="block">Is used to disable a WatchDog.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enable()">enable</a></span>()</code></th>
<td class="colLast">
<div class="block">Can be used to enable the WatchDog.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enterState(java.lang.String)">enterState</a></span>&#8203;(java.lang.String&nbsp;state)</code></th>
<td class="colLast">
<div class="block">Enters a watched state with no expectation of the expected completion time.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enterState(java.lang.String,int)">enterState</a></span>&#8203;(java.lang.String&nbsp;state,
          int&nbsp;expectedCompletionTime)</code></th>
<td class="colLast">
<div class="block">Enters a watched state which has an expected completion time.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#exitState()">exitState</a></span>()</code></th>
<td class="colLast">
<div class="block">Exits a state entered with enterState().</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#exitState(java.lang.String)">exitState</a></span>&#8203;(java.lang.String&nbsp;state)</code></th>
<td class="colLast">
<div class="block">Exits a particular state entered with enterState().</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static <a href="WatchDog.html" title="class in org.apache.wiki">WatchDog</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCurrentWatchDog(org.apache.wiki.api.core.Engine)">getCurrentWatchDog</a></span>&#8203;(<a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine)</code></th>
<td class="colLast">
<div class="block">Returns the current watchdog for the current thread.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isStateStackNotEmpty()">isStateStackNotEmpty</a></span>()</code></th>
<td class="colLast">
<div class="block">helper to see if the associated stateStack is not empty.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isWatchableAlive()">isWatchableAlive</a></span>()</code></th>
<td class="colLast">
<div class="block">helper to see if the associated watchable is alive.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toString()">toString</a></span>()</code></th>
<td class="colLast">
<div class="block">Strictly for debugging/informative purposes.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.apache.wiki.api.core.Engine,org.apache.wiki.Watchable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WatchDog</h4>
<pre>public&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.91">WatchDog</a>&#8203;(<a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
                <a href="Watchable.html" title="interface in org.apache.wiki">Watchable</a>&nbsp;watch)</pre>
<div class="block">Creates a new WatchDog for a Watchable.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - The Engine.</dd>
<dd><code>watch</code> - A Watchable object.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.wiki.api.core.Engine,java.lang.Thread)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WatchDog</h4>
<pre>public&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.109">WatchDog</a>&#8203;(<a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
                java.lang.Thread&nbsp;thread)</pre>
<div class="block">Creates a new WatchDog for a Thread.  The Thread is wrapped in a Watchable wrapper for this purpose.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - The Engine</dd>
<dd><code>thread</code> - A Thread for watching.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getCurrentWatchDog(org.apache.wiki.api.core.Engine)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentWatchDog</h4>
<pre class="methodSignature">public static&nbsp;<a href="WatchDog.html" title="class in org.apache.wiki">WatchDog</a>&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.67">getCurrentWatchDog</a>&#8203;(<a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine)</pre>
<div class="block">Returns the current watchdog for the current thread. This is the preferred method of getting you a Watchdog, since it
  keeps an internal list of Watchdogs for you so that there won't be more than one watchdog per thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - The Engine to which the Watchdog should be bonded to.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A usable WatchDog object.</dd>
</dl>
</li>
</ul>
<a id="enable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enable</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.138">enable</a>()</pre>
<div class="block">Can be used to enable the WatchDog.  Will cause a new Thread to be created, if none was existing previously.</div>
</li>
</ul>
<a id="disable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disable</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.151">disable</a>()</pre>
<div class="block">Is used to disable a WatchDog.  The watchdog thread is shut down and resources released.</div>
</li>
</ul>
<a id="enterState(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enterState</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.167">enterState</a>&#8203;(java.lang.String&nbsp;state)</pre>
<div class="block">Enters a watched state with no expectation of the expected completion time. In practice this method is
  used when you have no idea, but would like to figure out, e.g. via debugging, where exactly your Watchable is.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - A free-form string description of your state.</dd>
</dl>
</li>
</ul>
<a id="enterState(java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enterState</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.187">enterState</a>&#8203;(java.lang.String&nbsp;state,
                       int&nbsp;expectedCompletionTime)</pre>
<div class="block">Enters a watched state which has an expected completion time.  This is the main method for using the
  WatchDog.  For example:

  <code>
     WatchDog w = m_engine.getCurrentWatchDog();
     w.enterState("Processing Foobar", 60);
     foobar();
     w.exitState();
  </code>

  If the call to foobar() takes more than 60 seconds, you will receive an ERROR in the log stream.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - A free-form string description of the state</dd>
<dd><code>expectedCompletionTime</code> - The timeout in seconds.</dd>
</dl>
</li>
</ul>
<a id="exitState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exitState</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.199">exitState</a>()</pre>
<div class="block">Exits a state entered with enterState().  This method does not check that the state is correct, it'll just
  pop out whatever is on the top of the state stack.</div>
</li>
</ul>
<a id="exitState(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exitState</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.209">exitState</a>&#8203;(java.lang.String&nbsp;state)</pre>
<div class="block">Exits a particular state entered with enterState().  The state is checked against the current state, and if
  they do not match, an error is flagged.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - The state you wish to exit.</dd>
</dl>
</li>
</ul>
<a id="isStateStackNotEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStateStackNotEmpty</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.232">isStateStackNotEmpty</a>()</pre>
<div class="block">helper to see if the associated stateStack is not empty.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if not empty, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a id="isWatchableAlive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isWatchableAlive</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.241">isWatchableAlive</a>()</pre>
<div class="block">helper to see if the associated watchable is alive.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if it's alive, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a id="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;<a href="../../../src-html/org/apache/wiki/WatchDog.html#line.303">toString</a>()</pre>
<div class="block">Strictly for debugging/informative purposes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Random ramblings.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WatchDog.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright (c) 2001-2022 The Apache Software Foundation. All rights reserved.</small></p>
</footer>
</body>
</html>