function $getText(e){return e.innerText||e.textContent||""}function $T(e){var t=$(e);return t&&t.tBodies[0]?$(t.tBodies[0]):t}function getAncestorByTagName(e,t){return e?e.nodeType==1&&e.tagName.toLowerCase()==t.toLowerCase()?e:getAncestorByTagName(e.parentNode,t):null}function getXMLHttpRequest(){var e=!1;if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){e=!1}}return e}function getReadyStateHandler(e,t,n,r){return function(){e.readyState>=1&&e.readyState<4&&t&&document.getElementById(t)!=null&&(document.getElementById(t).innerHTML=n);if(e.readyState==4)if(e.status==200)if(t&&document.getElementById(t)!=null)document.getElementById(t).innerHTML=e.responseText;else{var i=e.responseText;i&&i.length>0&&(i=JSON.parse(i)),r(i)}else{var s="HTTP error "+e.status+": "+e.statusText;t&&document.getElementById(t)!=null?document.getElementById(t).innerHTML(s):(console.log(s),r(s))}}}var IN_GLOBAL_SCOPE=!0;window.PR_SHOULD_USE_CONTINUATION=!0;var prettyPrintOne,prettyPrint;(function(){function O(e){function a(e){var t=e.charCodeAt(0);if(t!==92)return t;var n=e.charAt(1);return t=u[n],t?t:"0"<=n&&n<="7"?parseInt(e.substring(1),8):n==="u"||n==="x"?parseInt(e.substring(2),16):e.charCodeAt(1)}function f(e){if(e<32)return(e<16?"\\x0":"\\x")+e.toString(16);var t=String.fromCharCode(e);return t==="\\"||t==="-"||t==="]"||t==="^"?"\\"+t:t}function l(e){var t=e.substring(1,e.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g")),n=[],r=t[0]==="^",i=["["];r&&i.push("^");for(var s=r?1:0,o=t.length;s<o;++s){var u=t[s];if(/\\[bdsw]/i.test(u))i.push(u);else{var l=a(u),c;s+2<o&&"-"===t[s+1]?(c=a(t[s+2]),s+=2):c=l,n.push([l,c]),c<65||l>122||(c<65||l>90||n.push([Math.max(65,l)|32,Math.min(c,90)|32]),c<97||l>122||n.push([Math.max(97,l)&-33,Math.min(c,122)&-33]))}}n.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]});var h=[],p=[];for(var s=0;s<n.length;++s){var d=n[s];d[0]<=p[1]+1?p[1]=Math.max(p[1],d[1]):h.push(p=d)}for(var s=0;s<h.length;++s){var d=h[s];i.push(f(d[0])),d[1]>d[0]&&(d[1]+1>d[0]&&i.push("-"),i.push(f(d[1])))}return i.push("]"),i.join("")}function c(e){var r=e.source.match(new RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),i=r.length,s=[];for(var o=0,u=0;o<i;++o){var a=r[o];if(a==="(")++u;else if("\\"===a.charAt(0)){var c=+a.substring(1);c&&(c<=u?s[c]=-1:r[o]=f(c))}}for(var o=1;o<s.length;++o)-1===s[o]&&(s[o]=++t);for(var o=0,u=0;o<i;++o){var a=r[o];if(a==="(")++u,s[u]||(r[o]="(?:");else if("\\"===a.charAt(0)){var c=+a.substring(1);c&&c<=u&&(r[o]="\\"+s[c])}}for(var o=0;o<i;++o)"^"===r[o]&&"^"!==r[o+1]&&(r[o]="");if(e.ignoreCase&&n)for(var o=0;o<i;++o){var a=r[o],h=a.charAt(0);a.length>=2&&h==="["?r[o]=l(a):h!=="\\"&&(r[o]=a.replace(/[a-zA-Z]/g,function(e){var t=e.charCodeAt(0);return"["+String.fromCharCode(t&-33,t|32)+"]"}))}return r.join("")}var t=0,n=!1,r=!1;for(var i=0,s=e.length;i<s;++i){var o=e[i];if(o.ignoreCase)r=!0;else if(/[a-z]/i.test(o.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){n=!0,r=!1;break}}var u={b:8,t:9,n:10,v:11,f:12,r:13},h=[];for(var i=0,s=e.length;i<s;++i){var o=e[i];if(o.global||o.multiline)throw new Error(""+o);h.push("(?:"+c(o)+")")}return new RegExp(h.join("|"),r?"gi":"g")}function M(e,t){function u(e){var a=e.nodeType;if(a==1){if(n.test(e.className))return;for(var f=e.firstChild;f;f=f.nextSibling)u(f);var l=e.nodeName.toLowerCase();if("br"===l||"li"===l)r[o]="\n",s[o<<1]=i++,s[o++<<1|1]=e}else if(a==3||a==4){var c=e.nodeValue;c.length&&(t?c=c.replace(/\r\n?/g,"\n"):c=c.replace(/[ \t\r\n]+/g," "),r[o]=c,s[o<<1]=i,i+=c.length,s[o++<<1|1]=e)}}var n=/(?:^|\s)nocode(?:\s|$)/,r=[],i=0,s=[],o=0;return u(e),{sourceCode:r.join("").replace(/\n$/,""),spans:s}}function _(e,t,n,r){if(!t)return;var i={sourceCode:t,basePos:e};n(i),r.push.apply(r,i.decorations)}function P(e){var t=undefined;for(var n=e.firstChild;n;n=n.nextSibling){var r=n.nodeType;t=r===1?t?e:n:r===3?D.test(n.nodeValue)?e:t:t}return t===e?undefined:t}function H(e,t){var n={},r;(function(){var i=e.concat(t),s=[],o={};for(var u=0,a=i.length;u<a;++u){var f=i[u],l=f[3];if(l)for(var c=l.length;--c>=0;)n[l.charAt(c)]=f;var h=f[1],p=""+h;o.hasOwnProperty(p)||(s.push(h),o[p]=null)}s.push(/[\0-\uffff]/),r=O(s)})();var i=t.length,s=function(e){var o=e.sourceCode,u=e.basePos,a=[u,S],f=0,l=o.match(r)||[],c={};for(var h=0,p=l.length;h<p;++h){var d=l[h],v=c[d],m=void 0,g;if(typeof v=="string")g=!1;else{var y=n[d.charAt(0)];if(y)m=d.match(y[1]),v=y[0];else{for(var b=0;b<i;++b){y=t[b],m=d.match(y[1]);if(m){v=y[0];break}}m||(v=S)}g=v.length>=5&&"lang-"===v.substring(0,5),g&&(!m||typeof m[1]!="string")&&(g=!1,v=N),g||(c[d]=v)}var w=f;f+=d.length;if(!g)a.push(u+w,v);else{var E=m[1],x=d.indexOf(E),T=x+E.length;m[2]&&(T=d.length-m[2].length,x=T-E.length);var C=v.substring(5);_(u+w,d.substring(0,x),s,a),_(u+w+x,E,U(C,E),a),_(u+w+T,d.substring(T),s,a)}}e.decorations=a};return s}function B(e){var t=[],n=[];e.tripleQuotedStrings?t.push([m,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""]):e.multiLineStrings?t.push([m,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"]):t.push([m,/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"]),e.verbatimStrings&&n.push([m,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null]);var r=e.hashComments;r&&(e.cStyleComments?(r>1?t.push([y,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]):t.push([y,/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"]),n.push([m,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,null])):t.push([y,/^#[^\r\n]*/,null,"#"])),e.cStyleComments&&(n.push([y,/^\/\/[^\r\n]*/,null]),n.push([y,/^\/\*[\s\S]*?(?:\*\/|$)/,null]));var i=e.regexLiterals;if(i){var s=i>1?"":"\n\r",o=s?".":"[\\S\\s]",u="/(?=[^/*"+s+"])"+"(?:[^/\\x5B\\x5C"+s+"]"+"|\\x5C"+o+"|\\x5B(?:[^\\x5C\\x5D"+s+"]"+"|\\x5C"+o+")*(?:\\x5D|$))+"+"/";n.push(["lang-regex",RegExp("^"+A+"("+u+")")])}var a=e.types;a&&n.push([b,a]);var f=(""+e.keywords).replace(/^ | $/g,"");f.length&&n.push([g,new RegExp("^(?:"+f.replace(/[\s,]+/g,"|")+")\\b"),null]),t.push([S,/^\s+/,null," \r\n	 "]);var l="^.[^\\s\\w.$@'\"`/\\\\]*";return e.regexLiterals&&(l+="(?!s*/)"),n.push([w,/^@[a-z_$][a-z_$@0-9]*/i,null],[b,/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[S,/^[a-z_$][a-z_$@0-9]*/i,null],[w,new RegExp("^(?:0x[a-f0-9]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+\\-]?\\d+)?)[a-z]*","i"),null,"0123456789"],[S,/^\\[\s\S]?/,null],[E,new RegExp(l),null]),H(t,n)}function F(e,t,n){function a(e){var t=e.nodeType;if(t==1&&!r.test(e.className))if("br"===e.nodeName)f(e),e.parentNode&&e.parentNode.removeChild(e);else for(var o=e.firstChild;o;o=o.nextSibling)a(o);else if((t==3||t==4)&&n){var u=e.nodeValue,l=u.match(i);if(l){var c=u.substring(0,l.index);e.nodeValue=c;var h=u.substring(l.index+l[0].length);if(h){var p=e.parentNode;p.insertBefore(s.createTextNode(h),e.nextSibling)}f(e),c||e.parentNode.removeChild(e)}}}function f(e){function t(e,n){var r=n?e.cloneNode(!1):e,i=e.parentNode;if(i){var s=t(i,1),o=e.nextSibling;s.appendChild(r);for(var u=o;u;u=o)o=u.nextSibling,s.appendChild(u)}return r}while(!e.nextSibling){e=e.parentNode;if(!e)return}var n=t(e.nextSibling,0);for(var r;(r=n.parentNode)&&r.nodeType===1;)n=r;u.push(n)}var r=/(?:^|\s)nocode(?:\s|$)/,i=/\r\n?|\n/,s=e.ownerDocument,o=s.createElement("li");while(e.firstChild)o.appendChild(e.firstChild);var u=[o];for(var l=0;l<u.length;++l)a(u[l]);t===(t|0)&&u[0].setAttribute("value",t);var c=s.createElement("ol");c.className="linenums";var h=Math.max(0,t-1|0)||0;for(var l=0,p=u.length;l<p;++l)o=u[l],o.className="L"+(l+h)%10,o.firstChild||o.appendChild(s.createTextNode(" ")),c.appendChild(o);e.appendChild(c)}function I(e){var t=/\bMSIE\s(\d+)/.exec(navigator.userAgent);t=t&&+t[1]<=8;var n=/\n/g,r=e.sourceCode,i=r.length,s=0,o=e.spans,u=o.length,a=0,f=e.decorations,l=f.length,c=0;f[l]=i;var h,p;for(p=h=0;p<l;)f[p]!==f[p+2]?(f[h++]=f[p++],f[h++]=f[p++]):p+=2;l=h;for(p=h=0;p<l;){var d=f[p],v=f[p+1],m=p+2;while(m+2<=l&&f[m+1]===v)m+=2;f[h++]=d,f[h++]=v,p=m}l=f.length=h;var g=e.sourceNode,y;g&&(y=g.style.display,g.style.display="none");try{var b=null;while(a<u){var w=o[a],E=o[a+2]||i,S=f[c+2]||i,m=Math.min(E,S),x=o[a+1],T;if(x.nodeType!==1&&(T=r.substring(s,m))){t&&(T=T.replace(n,"\r")),x.nodeValue=T;var N=x.ownerDocument,C=N.createElement("span");C.className=f[c+1];var k=x.parentNode;k.replaceChild(C,x),C.appendChild(x),s<E&&(o[a+1]=x=N.createTextNode(r.substring(m,E)),k.insertBefore(x,C.nextSibling))}s=m,s>=E&&(a+=2),s>=S&&(c+=2)}}finally{g&&(g.style.display=y)}}function R(t,n){for(var r=n.length;--r>=0;){var i=n[r];q.hasOwnProperty(i)?e.console&&console.warn("cannot override language handler %s",i):q[i]=t}}function U(e,t){if(!e||!q.hasOwnProperty(e))e=/^\s*</.test(t)?"default-markup":"default-code";return q[e]}function z(t){var n=t.langExtension;try{var r=M(t.sourceNode,t.pre),i=r.sourceCode;t.sourceCode=i,t.spans=r.spans,t.basePos=0,U(n,i)(t),I(t)}catch(s){e.console&&console.log(s&&s.stack||s)}}function W(e,t,n){var r=document.createElement("div");r.innerHTML="<pre>"+e+"</pre>",r=r.firstChild,n&&F(r,n,!0);var i={langExtension:t,numberLines:n,sourceNode:r,pre:1};return z(i),r.innerHTML}function X(t,n){function s(e){return r.getElementsByTagName(e)}function E(){var n=e.PR_SHOULD_USE_CONTINUATION?c.now()+250:Infinity;for(;h<u.length&&c.now()<n;h++){var r=u[h],s=w;for(var o=r;o=o.previousSibling;){var a=o.nodeType,f=(a===7||a===8)&&o.nodeValue;if(f?!/^\??prettify\b/.test(f):a!==3||/\S/.test(o.nodeValue))break;if(f){s={},f.replace(/\b(\w+)=([\w:.%+-]+)/g,function(e,t,n){s[t]=n});break}}var l=r.className;if((s!==w||v.test(l))&&!m.test(l)){var S=!1;for(var x=r.parentNode;x;x=x.parentNode){var T=x.tagName;if(b.test(T)&&x.className&&v.test(x.className)){S=!0;break}}if(!S){r.className+=" prettyprinted";var N=s.lang;if(!N){N=l.match(d);var C;!N&&(C=P(r))&&y.test(C.tagName)&&(N=C.className.match(d)),N&&(N=N[1])}var k;if(g.test(r.tagName))k=1;else{var L=r.currentStyle,A=i.defaultView,O=L?L.whiteSpace:A&&A.getComputedStyle?A.getComputedStyle(r,null).getPropertyValue("white-space"):0;k=O&&"pre"===O.substring(0,3)}var M=s.linenums;(M=M==="true"||+M)||(M=l.match(/\blinenums\b(?::(\d+))?/),M=M?M[1]&&M[1].length?+M[1]:!0:!1),M&&F(r,M,k),p={langExtension:N,sourceNode:r,numberLines:M,pre:k},z(p)}}}h<u.length?setTimeout(E,250):"function"==typeof t&&t()}var r=n||document.body,i=r.ownerDocument||document,o=[s("pre"),s("code"),s("xmp")],u=[];for(var a=0;a<o.length;++a)for(var f=0,l=o[a].length;f<l;++f)u.push(o[a][f]);o=null;var c=Date;c.now||(c={now:function(){return+(new Date)}});var h=0,p,d=/\blang(?:uage)?-([\w.]+)(?!\S)/,v=/\bprettyprint\b/,m=/\bprettyprinted\b/,g=/pre|xmp/i,y=/^code$/i,b=/^(?:pre|code|xmp)$/i,w={};E()}var e=window,t=["break,continue,do,else,for,if,return,while"],n=[t,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],r=[n,"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],i=[r,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],s=[r,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],o=[s,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],u="all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",a=[r,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],f="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",l=[t,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],c=[t,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],h=[t,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],p=[t,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],d=[i,o,a,f,l,c,p],v=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,m="str",g="kwd",y="com",b="typ",w="lit",E="pun",S="pln",x="tag",T="dec",N="src",C="atn",k="atv",L="nocode",A="(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*",D=/\S/,j=B({keywords:d,hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),q={};R(j,["default-code"]),R(H([],[[S,/^[^<?]+/],[T,/^<!\w[^>]*(?:>|$)/],[y,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[E,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),R(H([[S,/^[\s]+/,null," 	\r\n"],[k,/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[[x,/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],[C,/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[E,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]),R(H([],[[k,/^[\s\S]+/]]),["uq.val"]),R(B({keywords:i,hashComments:!0,cStyleComments:!0,types:v}),["c","cc","cpp","cxx","cyc","m"]),R(B({keywords:"null,true,false"}),["json"]),R(B({keywords:o,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:v}),["cs"]),R(B({keywords:s,cStyleComments:!0}),["java"]),R(B({keywords:p,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),R(B({keywords:l,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),R(B({keywords:f,hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),R(B({keywords:c,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),R(B({keywords:a,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),R(B({keywords:u,hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),R(B({keywords:h,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),R(H([],[[m,/^[\s\S]+/]]),["regex"]);var V=e.PR={createSimpleLexer:H,registerLangHandler:R,sourceDecorator:B,PR_ATTRIB_NAME:C,PR_ATTRIB_VALUE:k,PR_COMMENT:y,PR_DECLARATION:T,PR_KEYWORD:g,PR_LITERAL:w,PR_NOCODE:L,PR_PLAIN:S,PR_PUNCTUATION:E,PR_SOURCE:N,PR_STRING:m,PR_TAG:x,PR_TYPE:b,prettyPrintOne:IN_GLOBAL_SCOPE?e.prettyPrintOne=W:prettyPrintOne=W,prettyPrint:prettyPrint=IN_GLOBAL_SCOPE?e.prettyPrint=X:prettyPrint=X};typeof define=="function"&&define.amd&&define("google-code-prettify",[],function(){return V})})(),String.extend({deCamelize:function(){return this.replace(/([a-z])([A-Z])/g,"$1 $2")},trunc:function(e,t){return t||(t="..."),this.length<e?this:this.substring(0,e)+t},stripScripts:function(){var e=this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(){return""});return e}}),Element.extend({wrapChildren:function(e){while(e.firstChild)this.appendChild(e.firstChild);return e.appendChild(this),this},visible:function(){var e=this;while($type(e)=="element"){if(e.getStyle("visibility")=="hidden")return!1;if(e.getStyle("display")=="none")return!1;e=e.getParent()}return!0},hide:function(){return this.setStyle("display","none")},show:function(){return this.setStyle("display","")},toggle:function(){return this.visible()?this.hide():this.show()},scrollTo:function(e,t){this.scrollLeft=e,this.scrollTop=t},getPosition:function(e){e=e||[];var t=this,n=0,r=0;do n+=t.offsetLeft||0,r+=t.offsetTop||0,t=t.offsetParent;while(t);return e.each(function(e){n-=e.scrollLeft||0,r-=e.scrollTop||0}),{x:n,y:r}},getDefaultValue:function(){switch(this.getTag()){case"select":var e=[];return $each(this.options,function(t){t.defaultSelected&&e.push($pick(t.value,t.text))}),this.multiple?e:e[0];case"input":if((!this.defaultChecked||!["checkbox","radio"].contains(this.type))&&!["hidden","text","password"].contains(this.type))break;case"textarea":return this.defaultValue}return!1}});var Observer=new Class({initialize:function(e,t,n){this.options=Object.extend({event:"keyup",delay:300},n||{}),this.element=$(e),this.callback=t,this.timeout=null,this.listener=this.fired.bind(this),this.value=this.element.getValue(),this.element.setProperty("autocomplete","off").addEvent(this.options.event,this.listener)},fired:function(){if(this.value==this.element.value)return;this.clear(),this.value=this.element.value,this.timeout=this.callback.delay(this.options.delay,null,[this.element])},clear:function(){this.timeout=$clear(this.timeout)},stop:function(){this.element.removeEvent(this.options.event,this.listener),this.clear()}});Element.extend({observe:function(e,t){return new Observer(this,e,t)}});var LocalizedStrings=LocalizedStrings||[];String.extend({localize:function(){var e=LocalizedStrings["javascript."+this],t=arguments;return e?e.replace(/\{(\d)\}/g,function(e){return t[e.charAt(1)]||"???"+e.charAt(1)+"???"}):"???"+this+"???"}}),Number.REparsefloat=new RegExp("([+-]?\\d+(:?\\.\\d+)?(:?e[-+]?\\d+)?)","i");var Wiki={onPageLoad:function(){if(this.prefs)return;$$("meta").each(function(e){var t=e.getProperty("name")||"";t.indexOf("wiki")==0&&(this[t.substr(4)]=e.getProperty("content"))},this);var e=location.host;this.BasePath=this.BaseUrl.slice(this.BaseUrl.indexOf(e)+e.length,-1),this.BasePath==""&&(this.BasePath="/"),this.prefs=new Hash.Cookie("JSPWikiUserPrefs",{path:Wiki.BasePath,duration:20}),this.PermissionEdit=!!$$("a.edit")[0],this.url=null,this.parseLocationHash.periodical(500),this.makeMenuFx("morebutton","morepopup"),this.addEditLinks();var t=$("page");t&&this.renderPage(t,Wiki.PageName);var n=$("favorites");n&&this.renderPage(n,"Favorites")},alert:function(e){return alert(e)},prompt:function(e,t,n){return n(prompt(e,t))},renderPage:function(e,t){this.$pageHandlers.each(function(n){n.render(e,t)})},addPageRender:function(e){this.$pageHandlers||(this.$pageHandlers=[]),this.$pageHandlers.push(e)},setFocus:function(){["editorarea","j_username","loginname","assertedName","query2"].some(function(e){return e=$(e),e&&e.visible()?(e.focus(),!0):!1})},getUrl:function(e){return this.PageUrl.replace(/%23%24%25/,e)},getPageName:function(e){var t=this.PageUrl.escapeRegExp().replace(/%23%24%25/,"(.+)"),n=e.match(new RegExp(t));return n?n[1]:!1},cleanLink:function(e){return e.trim().replace(/\s+/g," ").replace(/[^\w\u00C0-\u1FFF\u2800-\uFFFD\(\)&\+,\-=\.\$ ]/g,"")},changeOrientation:function(){var e=$("prefOrientation").getValue();$("wikibody").removeClass("fav-left").removeClass("fav-right").addClass(e)},makeMenuFx:function(e,t){var e=$(e),t=$(t);if(!e||!t)return;var n=t.effect("opacity",{wait:!1}).set(0);e.adopt(t).set({href:"#",events:{mouseout:function(){n.start(0)},mouseover:function(){Wiki.locatemenu(e,t),n.start(.9)}}})},locatemenu:function(e,t){var n={x:window.getWidth(),y:window.getHeight()},r={x:window.getScrollLeft(),y:window.getScrollTop()},i=e.getPosition(),s={x:e.offsetWidth-t.offsetWidth,y:e.offsetHeight},o={x:t.offsetWidth,y:t.offsetHeight},u={x:"left",y:"top"};for(var a in u){var f=i[a]+s[a];f+o[a]-r[a]>n[a]&&(f=n[a]-o[a]+r[a]),t.setStyle(u[a],f)}},parseLocationHash:function(){if(this.url&&this.url==location.href)return;this.url=location.href;var e=location.hash;if(e=="")return;e=e.replace(/^#/,"");var t=$(e);while($type(t)=="element")t.hasClass("hidetab")?TabbedSection.click.apply($("menu-"+t.id)):t.hasClass("tab")||t.hasClass("collapsebody")||!t.visible(),t=t.getParent();location=location.href},submitOnce:function(e){return window.onbeforeunload=null,function(){$A(e.elements).each(function(e){/submit|button/i.test(e.type)&&(e.disabled=!0)})}.delay(10),!0},submitUpload:function(e,t){return $("progressbar").setStyle("visibility","visible"),this.progressbar=Wiki.ajaxJsonCall.periodical(500,this,["/progressTracker",[t],function(e){e&&$("progressbar").getFirst().setStyle("width",e+"%").setHTML(e+"%")}]),Wiki.submitOnce(e)},addEditLinks:function(){if($("previewcontent")||!this.PermissionEdit||this.prefs.get("SectionEditing")!="on")return;var e=(new Element("a",{"class":"editsection"})).setHTML("quick.edit".localize()),t=0,n=this.EditUrl;n=n+(n.contains("?")?"&":"?")+"section=",this.getSections().each(function(r){r.adopt(e.set({href:n+t++}).clone())})},getSections:function(){return $$("#pagecontent *[id^=section]").filter(function(e){return e.id!="section-TOC"})},ajaxHtmlCall:function(e,t,n,r){e=Wiki.JsonUrl+e,r||(r="Loading...");var i=getXMLHttpRequest();i.onreadystatechange=getReadyStateHandler(i,n,r),i.open("post",e,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send("params="+t)},ajaxJsonCall:function(e,t,n){e=Wiki.JsonUrl+e;var r=getXMLHttpRequest();r.onreadystatechange=getReadyStateHandler(r,null,null,n),r.open("post",e,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send("params="+t)}},WikiSlimbox={render:function(e,t){var n=0,r=(new Element("a",{"class":"slimbox"})).setHTML("&raquo;");$ES("*[class^=slimbox]",e).each(function(e){var t="lightbox"+n++,s=e.className.split("-")[1]||"img ajax",o=[];s.test("img")&&o.extend(["img.inline","a.attachment"]),s.test("ajax")&&o.extend(["a.wikipage","a.external"]),$ES(o.join(","),e).each(function(e){var n=e.src||e.href,i=e.className.test("inline|attachment")?"img":"ajax";if(i=="img"&&!n.test("(.bmp|.gif|.png|.jpg|.jpeg)(\\?.*)?$","i"))return;r.clone().setProperties({href:n,rel:t+" "+i,title:e.alt||e.getText()}).injectBefore(e),e.src&&e.replaceWith((new Element("a",{"class":"attachment",href:e.src})).setHTML(e.alt||e.getText()))})}),n&&Lightbox.init()}};Wiki.addPageRender(WikiSlimbox);var Lightbox={init:function(e){this.options=$extend({resizeDuration:400,resizeTransition:!1,initialWidth:250,initialHeight:250,animateCaption:!0,errorMessage:"slimbox.error".localize()},e||{}),this.anchors=[],$each(document.links,function(e){e.rel&&e.rel.test(/^lightbox/i)&&(e.onclick=this.click.pass(e,this),this.anchors.push(e))},this),this.eventKeyDown=this.keyboardListener.bindAsEventListener(this),this.eventPosition=this.position.bind(this),this.overlay=(new Element("div",{id:"lbOverlay"})).inject(document.body),this.center=(new Element("div",{id:"lbCenter",styles:{width:this.options.initialWidth,height:this.options.initialHeight,marginLeft:-(this.options.initialWidth/2),display:"none"}})).inject(document.body),(new Element("a",{id:"lbCloseLink",href:"#",title:"slimbox.close.title".localize()})).inject(this.center).onclick=this.overlay.onclick=this.close.bind(this),this.image=(new Element("div",{id:"lbImage"})).inject(this.center),this.bottomContainer=(new Element("div",{id:"lbBottomContainer",styles:{display:"none"}})).inject(document.body),this.bottom=(new Element("div",{id:"lbBottom"})).inject(this.bottomContainer),this.caption=(new Element("div",{id:"lbCaption"})).inject(this.bottom);var t=(new Element("div")).inject(this.bottom);this.prevLink=(new Element("a",{id:"lbPrevLink",href:"#",styles:{display:"none"}})).setHTML("slimbox.previous".localize()).inject(t),this.number=(new Element("span",{id:"lbNumber"})).inject(t),this.nextLink=this.prevLink.clone().setProperties({id:"lbNextLink"}).setHTML("slimbox.next".localize()).inject(t),this.prevLink.onclick=this.previous.bind(this),this.nextLink.onclick=this.next.bind(this),this.error=(new Element("div")).setProperty("id","lbError").setHTML(this.options.errorMessage),(new Element("div",{styles:{clear:"both"}})).inject(this.bottom);var n=this.nextEffect.bind(this);this.fx={overlay:this.overlay.effect("opacity",{duration:500}).hide(),resize:this.center.effects($extend({duration:this.options.resizeDuration,onComplete:n},this.options.resizeTransition?{transition:this.options.resizeTransition}:{})),image:this.image.effect("opacity",{duration:500,onComplete:n}),bottom:this.bottom.effect("margin-top",{duration:400,onComplete:n})},this.fxs=new Fx.Elements([this.center,this.image],$extend({duration:this.options.resizeDuration,onComplete:n},this.options.resizeTransition?{transition:this.options.resizeTransition}:{})),this.preloadPrev=new Image,this.preloadNext=new Image},click:function(e){var t=e.rel.split(" ");if(t[0].length==8)return this.open([[url,title,t[1]]],0);var n=0,r=[];return this.anchors.each(function(i){var s=i.rel.split(" ");if(s[0]!=t[0])return;i.href==e.href&&i.title==e.title&&(n=r.length),r.push([i.href,i.title,s[1]])}),this.open(r,n)},open:function(e,t){return this.images=e,this.position(),this.setup(!0),this.top=window.getScrollTop()+window.getHeight()/15,this.center.setStyles({top:this.top,display:""}),this.fx.overlay.start(.7),this.changeImage(t)},position:function(){this.overlay.setStyles({top:window.getScrollTop(),height:window.getHeight()})},setup:function(e){var t=$A(document.getElementsByTagName("object"));t.extend(document.getElementsByTagName(window.ie?"select":"embed")),t.each(function(t){e&&(t.lbBackupStyle=t.style.visibility),t.style.visibility=e?"hidden":t.lbBackupStyle});var n=e?"addEvent":"removeEvent";window[n]("scroll",this.eventPosition)[n]("resize",this.eventPosition),document[n]("keydown",this.eventKeyDown),this.step=0},keyboardListener:function(e){switch(e.keyCode){case 27:case 88:case 67:this.close();break;case 37:case 38:case 80:this.previous();break;case 13:case 32:case 39:case 40:case 78:this.next();break;default:return}(new Event(e)).stop()},previous:function(){return this.changeImage(this.activeImage-1)},next:function(){return this.changeImage(this.activeImage+1)},changeImage:function(e){return this.step||e<0||e>=this.images.length?!1:(this.step=1,this.activeImage=e,this.center.style.backgroundColor="",this.bottomContainer.style.display=this.prevLink.style.display=this.nextLink.style.display="none",this.fx.image.hide(),this.center.className="lbLoading",this.preload=new Image,this.image.empty().setStyle("overflow","hidden"),this.images[e][2]=="img"?(this.preload.onload=this.nextEffect.bind(this),this.preload.src=this.images[e][0]):(this.iframeId="lbFrame_"+(new Date).getTime(),this.so=(new Element("iframe")).setProperties({id:this.iframeId,frameBorder:0,scrolling:"auto",src:this.images[e][0]}).inject(this.image),this.nextEffect()),!1)},ajaxFailure:function(){this.ajaxFailed=!0,this.image.setHTML("").adopt(this.error.clone()),this.nextEffect()},nextEffect:function(){switch(this.step++){case 1:this.center.className="",this.caption.empty().adopt((new Element("a",{href:this.images[this.activeImage][0],title:"slimbox.directLink".localize()})).setHTML(this.images[this.activeImage][1]||""));var e=this.images[this.activeImage][2]=="img"?"slimbox.info":"slimbox.remoteRequest";this.number.setHTML(this.images.length==1?"":e.localize(this.activeImage+1,this.images.length)),this.image.style.backgroundImage="none";var t=Math.max(this.options.initialWidth,this.preload.width),n=Math.max(this.options.initialHeight,this.preload.height),r=Window.getWidth()-10,i=Window.getHeight()-120;this.images[this.activeImage][2]!="img"&&!this.ajaxFailed&&(t=6e3,n=3e3),t>r&&(n=Math.round(n*r/t),t=r),n>i&&(t=Math.round(t*i/n),n=i),this.image.style.width=this.bottom.style.width=t+"px",this.image.style.height=n+"px",this.images[this.activeImage][2]=="img"?(this.image.style.backgroundImage="url("+this.images[this.activeImage][0]+")",this.activeImage&&(this.preloadPrev.src=this.images[this.activeImage-1][0]),this.activeImage!=this.images.length-1&&(this.preloadNext.src=this.images[this.activeImage+1][0]),this.number.setHTML(this.number.innerHTML+"&nbsp;&nbsp;["+this.preload.width+"&#215;"+this.preload.height+"]")):(this.so.style.width=t+"px",this.so.style.height=n+"px"),this.options.animateCaption&&this.bottomContainer.setStyles({height:"0px",display:""}),this.fxs.start({0:{height:[this.image.offsetHeight],width:[this.image.offsetWidth],marginLeft:[-this.image.offsetWidth/2]},1:{opacity:[1]}});break;case 2:this.image.setStyle("overflow","auto"),this.bottomContainer.setStyles({top:this.top+this.center.clientHeight+"px",marginLeft:this.center.style.marginLeft});if(this.options.animateCaption){this.fx.bottom.set(-this.bottom.offsetHeight),this.bottomContainer.style.height="",this.fx.bottom.start(0);break}this.bottomContainer.style.height="";case 3:this.activeImage&&(this.prevLink.style.display=""),this.activeImage!=this.images.length-1&&(this.nextLink.style.display=""),this.step=0}},close:function(){if(this.step<0)return;this.step=-1,this.preload&&(this.preload.onload=Class.empty,this.preload=null);for(var e in this.fx)this.fx[e].stop();return this.center.style.display=this.bottomContainer.style.display="none",this.fx.overlay.chain(this.setup.pass(!1,this)).start(0),this.image.empty(),!1}},TabbedSection={render:function(e,t){$ES(".tabmenu a",e).each(function(e){e.href||e.addEvent("click",this.click)},this),$ES(".tabbedSection",e).each(function(e){if(e.hasClass("tabs"))return;e.addClass("tabs");var t=(new Element("div",{"class":"tabmenu"})).injectBefore(e);e.getChildren().each(function(e,n){var r=e.className;if(!r.test("^tab-"))return;if(!e.id||e.id=="")e.id=r;n==0?e.removeClass("hidetab"):e.addClass("hidetab"),(new Element("div",{"class":"clearbox"})).inject(e);var i=r.substr(4).deCamelize();(new Element("a",{id:"menu-"+e.id,"class":n==0?"activetab":"",events:{click:this.click}})).appendText(i).inject(t)},this)},this)},click:function(){var e=$(this).getParent(),t=e.getNext();e.getChildren().removeClass("activetab"),this.addClass("activetab"),t.getChildren().addClass("hidetab"),t.getElement("#"+this.id.substr(5)).removeClass("hidetab")}};Wiki.addPageRender(TabbedSection);var SearchBox={onPageLoad:function(){this.onPageLoadQuickSearch(),this.onPageLoadFullSearch()},onPageLoadQuickSearch:function(){var e=$("query");if(!e)return;this.query=e,e.observe(this.ajaxQuickSearch.bind(this)),this.hover=$("searchboxMenu").setProperty("visibility","visible").effect("opacity",{wait:!1}).set(0),$(e.form).addEvent("submit",this.submit.bind(this)).addEvent("mouseout",function(){this.hover.start(0)}.bind(this)).addEvent("mouseover",function(){Wiki.locatemenu(this.query,$("searchboxMenu")),this.hover.start(.9)}.bind(this)),$("recentClear").addEvent("click",this.clear.bind(this)),this.recent=Wiki.prefs.get("RecentSearch");if(!this.recent)return;var t=(new Element("ul",{id:"recentItems"})).inject($("recentSearches").show());this.recent.each(function(n){n=n.stripScripts(),(new Element("a",{href:"#",events:{click:function(){e.value=n,e.form.submit()}}})).setHTML(n).inject((new Element("li")).inject(t))})},onPageLoadFullSearch:function(){var e=$("query2");if(!e)return;this.query2=e;var t=function(){var e=this.query2.value.replace(/^(?:author:|name:|contents:|attachment:)/,"");this.query2.value=$("scope").getValue()+e,this.runfullsearch()}.bind(this);e.observe(this.runfullsearch0.bind(this)),$("scope").addEvent("change",t),$("details").addEvent("click",this.runfullsearch.bind(this));if(location.hash){var n=decodeURIComponent(location.hash.substr(1)).match(/(.*):(-?\d+)$/);n&&n.length==3&&(e.value=n[1],$("start").value=n[2],t())}},runfullsearch0:function(){$("start").value="0",this.runfullsearch()},runfullsearch:function(e){var t=this.query2.value;if(!t||t.trim()==""){$("searchResult2").empty();return}$("spin").show();var n=$("scope"),r=t.match(/^(?:author:|name:|contents:|attachment:)/)||"";$each(n.options,function(e){e.value==r&&(e.selected=!0)}),(new Ajax(Wiki.TemplateUrl+"AJAXSearch.jsp",{data:$("searchform2").toQueryString(),update:"searchResult2",method:"get",onComplete:function(){$("spin").hide(),GraphBar.render($("searchResult2")),Wiki.prefs.set("PrevQuery",t)}})).request(),location.hash="#"+t+":"+$("start").value},submit:function(){var e=this.query.value.stripScripts();e==this.query.defaultValue&&(this.query.value=""),this.recent||(this.recent=[]),this.recent.test(e)||(this.recent.length>9&&this.recent.pop(),this.recent.unshift(e),Wiki.prefs.set("RecentSearch",this.recent))},clear:function(){this.recent=[],Wiki.prefs.remove("RecentSearch"),$("recentSearches","recentClear").hide()},ajaxQuickSearch:function(){var e=this.query.value.stripScripts();if(e==null||e.trim()==""||e==this.query.defaultValue){$("searchOutput").empty();return}$("searchTarget").setHTML("("+e+") :"),$("searchSpin").show(),Wiki.ajaxJsonCall("/search/pages",[e,"20"],function(e){$("searchSpin").hide();if(!e)return;var t=new Element("ul");e.each(function(e){(new Element("li")).adopt((new Element("a",{href:Wiki.getUrl(e.page)})).setHTML(e.page),(new Element("span",{"class":"small"})).setHTML(" ("+e.score+")")).inject(t)}),$("searchOutput").empty().adopt(t),Wiki.locatemenu($("query"),$("searchboxMenu"))})},navigate:function(e,t,n,r){var i=Wiki.PageName,s=n?i+"sbox.clone.suffix".localize():i,o=this.query.value;o==this.query.defaultValue&&(o="");var u=function(t){if(t=="")return;r||(t=Wiki.cleanLink(t)),i=encodeURIComponent(i),t=encodeURIComponent(t),n&&t!=i&&(t+="&clone="+i),location.href=e.replace("__PAGEHERE__",t)};o!=""?u(o):Wiki.prompt(t,s,u.bind(this))}},Color=new Class({_HTMLColors:{black:"000000",green:"008000",silver:"c0c0c0",lime:"00ff00",gray:"808080",olive:"808000",white:"ffffff",yellow:"ffff00",maroon:"800000",navy:"000080",red:"ff0000",blue:"0000ff",purple:"800080",teal:"008080",fuchsia:"ff00ff",aqua:"00ffff"},initialize:function(e,t){if(!e)return!1;t=t||(e.push?"rgb":"hex"),this._HTMLColors[e]&&(e=this._HTMLColors[e]);var n=t=="rgb"?e:e.toString().hexToRgb(!0);return n?(n.hex=n.rgbToHex(),$extend(n,Color.prototype)):!1},mix:function(){var e=$A(arguments),t=this.copy(),n=($type(e[e.length-1])=="number"?e.pop():50)/100,r=1-n;return e.each(function(e){e=new Color(e);for(var i=0;i<3;i++)t[i]=Math.round(t[i]*r+e[i]*n)}),new Color(t,"rgb")},invert:function(){return new Color(this.map(function(e){return 255-e}))}}),GraphBar={render:function(e,t){$ES("*[class^=graphBars]",e).each(function(e){var t=20,n=320,r=20,i=null,s=null,o=!1,u=!1,a=!0,f=e.className.substr(9).split("-"),l=f.shift(),c,h,p,d;f.each(function(e){e=e.toLowerCase();if(e=="vertical")a=!1;else if(e=="progress")u=!0;else if(e=="gauge")o=!0;else if(e.indexOf("min")==0)t=e.substr(3).toInt();else if(e.indexOf("max")==0)n=e.substr(3).toInt();else if(e!=""){e=new Color(e,"hex");if(!e.hex)return;i?s||(s=e):i=e}}),!s&&i&&(s=o||u?i.invert():i);if(t>n){var v=n;n=t,n=v}c=n-t,h=$ES(".gBar"+l,e),h.length==0&&l&&l!=""&&(h=this.getTableValues(e,l));if(!h)return;p=this.parseBarData(h,t,c),d=a?"borderLeft":"borderBottom",h.each(function(e,f){var l=$H().set(d+"Width",p[f]),v=$H(),m=new Element("span",{"class":"graphBar"}),g=e.getParent();a?(m.setHTML("x"),u&&(v.extend(l.obj),l.set(d+"Width",n-p[f]).set("marginLeft","-1ex"))):(g.getTag()=="td"&&(g=(new Element("div")).wrapChildren(g)),g.setStyles({height:n+e.getStyle("lineHeight").toInt(),position:"relative"}),e.setStyle("position","relative"),u||e.setStyle("top",n-p[f]),l.extend({position:"absolute",width:r,bottom:"0"}),u&&v.extend(l.obj).set(d+"Width",n));if(u)i&&l.set("borderColor",i.hex),s?v.set("borderColor",s.hex):l.set("borderColor","transparent");else if(i){var y=o?(p[f]-t)/c:f/(h.length-1);l.set("borderColor",i.mix(s,100*y).hex)}v.length>0&&m.clone().setStyles(v.obj).injectBefore(e),l.length>0&&m.setStyles(l.obj).injectBefore(e)},this)},this)},parseBarData:function(e,t,n){var r=[],i=Number.MIN_VALUE,s=Number.MAX_VALUE,o=date=!0;return e.each(function(e,t){var n=e.getText();r.push(n),o&=!isNaN(n.toFloat()),date&=!isNaN(Date.parse(n))&&n.test(/[^\d]/)}),r=r.map(function(e){return date?e=(new Date(Date.parse(e))).valueOf():o&&(e=parseFloat(e.match(Number.REparsefloat))),i=Math.max(i,e),s=Math.min(s,e),e}),i==s&&(i=s+1),n/=i-s,r.map(function(e){return(n*(e-s)+t).toInt()})},getTableValues:function(e,t){var n=$E("table",e);if(!n)return!1;var r=n.rows.length;if(r>1){var i=n.rows[0];for(var s=0;s<i.cells.length;s++)if($getText(i.cells[s]).trim()==t){var o=[];for(var u=1;u<r;u++)o.push((new Element("span")).wrapChildren(n.rows[u].cells[s]));return o}}for(var s=0;s<r;s++){var i=n.rows[s];if($getText(i.cells[0]).trim()==t){var o=[];for(var u=1;u<i.cells.length;u++)o.push((new Element("span")).wrapChildren(i.cells[u]));return o}}return!1}};Wiki.addPageRender(GraphBar);var Collapsible={pims:[],render:function(e,t){e=$(e);if(!e)return;var n=Wiki.Context.test(/view|edit|comment/)?"JSPWikiCollapse"+t:"";this.bullet||(this.bullet=(new Element("div",{"class":"collapseBullet"})).setHTML("&bull;")),this.pims.push({name:n,value:"",initial:n?Cookie.get(n):""}),$ES(".collapse",e).each(function(e){$E(".collapseBullet",e)||this.collapseNode(e)},this),$ES(".collapsebox,.collapsebox-closed",e).each(function(e){this.collapseBox(e)},this)},collapseBox:function(e){if($E(".collapsetitle",e))return;var t=e.getFirst();if(!t)return;var n=new Element("div",{"class":"collapsebody"}),r=this.bullet.clone(),i=e.hasClass("collapsebox-closed");while(t.nextSibling)n.appendChild(t.nextSibling);e.appendChild(n),i&&e.removeClass("collapsebox-closed").addClass("collapsebox"),r.injectTop(t.addClass("collapsetitle")),this.newBullet(r,n,!i,t)},collapseNode:function(e){$ES("li",e).each(function(e){var t=$E("ul",e)||$E("ol",e),n=!0;for(var r=e.firstChild;r;r=r.nextSibling){if(r.nodeType==3&&r.nodeValue.trim()=="")continue;if(r.nodeName=="UL"||r.nodeName=="OL")break;n=!1;break}if(n)return;(new Element("div",{"class":"collapsebody"})).wrapChildren(e);var i=this.bullet.clone().injectTop(e);t&&this.newBullet(i,t,t.getTag()=="ul")},this)},newBullet:function(e,t,n,r){var i=this.pims.getLast();n=this.parseCookie(n),r||(r=e);var s=t.setStyle("overflow","hidden").effect("height",{wait:!1,onStart:this.renderBullet.bind(e),onComplete:function(){e.hasClass("collapseOpen")&&t.setStyle("height","auto")}});e.className=n?"collapseClose":"collapseOpen",r.addEvent("click",this.clickBullet.bindWithEvent(e,[i,i.value.length-1,s])).addEvent("mouseenter",function(){r.addClass("hover")}).addEvent("mouseleave",function(){r.removeClass("hover")}),s.fireEvent("onStart"),n||s.set(0)},renderBullet:function(){this.hasClass("collapseClose")?this.setProperties({title:"collapse".localize(),"class":"collapseOpen"}).setHTML("-"):this.setProperties({title:"expand".localize(),"class":"collapseClose"}).setHTML("+")},clickBullet:function(e,t,n,r){var i=this.hasClass("collapseOpen"),s=r.element.scrollHeight;e.target==this&&(i?r.start(s,0):r.start(s),t.value=t.value.slice(0,n)+(i?"c":"o")+t.value.slice(n+1),t.name&&Cookie.set(t.name,t.value,{path:Wiki.BasePath,duration:20}))},parseCookie:function(e){var t=this.pims.getLast(),n=t.value.length,r=e?"o":"c";if(t.initial&&t.initial.length>n){var i=t.initial.charAt(n);if(e&&i=="c"||!e&&i=="o")r=i;r!=i&&(t.initial=null)}return t.value+=r,r=="o"}};Wiki.addPageRender(Collapsible);var Sortable={render:function(e,t){this.DefaultTitle="sort.click".localize(),this.AscendingTitle="sort.ascending".localize(),this.DescendingTitle="sort.descending".localize(),$ES(".sortable table",e).each(function(e){if(e.rows.length<=2)return;$A(e.rows[0].cells).each(function(e){e=$(e),e.getTag()=="th"&&(e.addEvent("click",this.sort.bind(this,e)).addClass("sort").title=this.DefaultTitle)},this)},this)},sort:function(e){var t=getAncestorByTagName(e,"table"),n=t.filterStack,r=t.sortCache||[],i=0,s=$T(t);e=$(e),$A(s.rows[0].cells).each(function(t,n){if(t.getTag()!="th")return;if(e==t){i=n;return}t.removeClass("sortAscending").removeClass("sortDescending").addClass("sort").title=Sortable.DefaultTitle}),r.length==0&&$A(s.rows).each(function(e,t){if(t==0||t==1&&n)return;r.push(e)});var o=Sortable.guessDataType(r,i);e.hasClass("sort")?r.sort(Sortable.createCompare(i,o)):r.reverse();var u=e.hasClass("sortDescending");e.removeClass("sort").removeClass("sortAscending").removeClass("sortDescending"),e.addClass(u?"sortAscending":"sortDescending").title=u?Sortable.DescendingTitle:Sortable.AscendingTitle;var a=document.createDocumentFragment();r.each(function(e,t){a.appendChild(e)}),s.appendChild(a),t.sortCache=r,t.zebra&&t.zebra()},guessDataType:function(e,t){var n=date=ip4=euro=kmgt=!0;return e.each(function(e,r){var i=e.cells[t];i=i.getAttribute("jspwiki:sortvalue")||$getText(i),i=i.clean().toLowerCase(),n&&(n=!isNaN(parseFloat(i))),date&&(date=!isNaN(Date.parse(i))&&i.test(/[^\d]/)),ip4&&(ip4=i.test(/(?:\\d{1,3}\\.){3}\\d{1,3}/)),euro&&(euro=i.test(/^[Â£$â‚¬][0-9.,]+/)),kmgt&&(kmgt=i.test(/(?:[0-9.,]+)\s*(?:[kmgt])b/))}),kmgt?"kmgt":euro?"euro":ip4?"ip4":date?"date":n?"num":"string"},convert:function(e,t){switch(t){case"num":return parseFloat(e.match(Number.REparsefloat));case"euro":return parseFloat(e.replace(/[^0-9.,]/g,""));case"date":return new Date(Date.parse(e));case"ip4":var n=e.split(".");return parseInt(n[0])*1e9+parseInt(n[1])*1e6+parseInt(n[2])*1e3+parseInt(n[3]);case"kmgt":var r=e.toString().toLowerCase().match(/([0-9.,]+)\s*([kmgt])b/);if(!r)return 0;var i=r[2];return i=i=="m"?3:i=="g"?6:i=="t"?9:0,r[1].toFloat()*Math.pow(10,i);default:return e.toString().toLowerCase()}},createCompare:function(e,t){return function(n,r){var s=n.cells[e],o=r.cells[e],u=Sortable.convert(s.getAttribute("jspwiki:sortvalue")||$getText(s),t),a=Sortable.convert(o.getAttribute("jspwiki:sortvalue")||$getText(o),t);return u<a?-1:u>a?1:0}}};Wiki.addPageRender(Sortable);var TableFilter={render:function(e,t){this.All="filter.all".localize(),this.FilterRow=1,$ES(".table-filter table",e).each(function(e){if(e.rows.length<2)return;var t=$(e.insertRow(TableFilter.FilterRow)).addClass("filterrow");for(var n=0;n<e.rows[0].cells.length;n++){var r=new Element("select",{events:{change:TableFilter.filter}});r.fcol=n,(new Element("th")).adopt(r).inject(t)}e.filterStack=[],TableFilter.buildEmptyFilters(e)})},buildEmptyFilters:function(e){for(var t=0;t<e.rows[0].cells.length;t++){var n=e.filterStack.some(function(e){return e.fcol==t});n||TableFilter.buildFilter(e,t)}e.zebra&&e.zebra()},buildFilter:function(e,t,n){var r=e.rows[TableFilter.FilterRow].cells[t].firstChild;if(!r)return;r.options.length=0;var i=[];$A(e.rows).each(function(e,t){if(t==0||t==TableFilter.FilterRow)return;if(e.style.display=="none")return;i.push(e)}),i.sort(Sortable.createCompare(t,Sortable.guessDataType(i,t))),r.options[0]=new Option(this.All,this.All);var s;i.each(function(e,n){var i=$getText(e.cells[t]).clean().toLowerCase();if(i==s)return;s=i,r.options[r.options.length]=new Option(i.trunc(32),s)}),r.options.length<=2?r.hide():r.show(),n!=undefined?r.value=n:r.options[0].selected=!0},filter:function(){var e=this.fcol,t=this.value,n=getAncestorByTagName(this,"table");if(!n||n.style.display=="none")return;n.filterStack.every(function(r,i){return r.fcol!=e?!0:(t==TableFilter.All?n.filterStack.splice(i,1):r.fValue=t,!1)})&&n.filterStack.push({fValue:t,fcol:e}),$A(n.rows).each(function(e,t){e.style.display=""}),n.filterStack.each(function(e){var t=e.fValue,r=e.fcol;TableFilter.buildFilter(n,r,t);var i=0;$A(n.rows).each(function(e,n){if(n==0||n==TableFilter.FilterRow)return;t!=$getText(e.cells[r]).clean().toLowerCase()&&(e.style.display="none")})}),TableFilter.buildEmptyFilters(n)}};Wiki.addPageRender(TableFilter);var Categories={render:function(e,t){$ES(".category a.wikipage",e).each(function(e){var t=Wiki.getPageName(e.href);if(!t)return;var n=(new Element("span")).injectBefore(e).adopt(e),r=(new Element("div",{"class":"categoryPopup"})).inject(n),i=r.effect("opacity",{wait:!1}).set(0);e.addClass("categoryLink").setProperties({href:"#",title:"category.title".localize(t)}).addEvent("click",function(s){(new Event(s)).stop(),(new Ajax(Wiki.TemplateUrl+"AJAXCategories.jsp",{method:"get",data:"&page="+t,update:r,onComplete:function(){e.setProperty("title","").removeEvent("click"),n.addEvent("mouseover",function(e){i.start(.9)}).addEvent("mouseout",function(e){i.start(0)}),r.setStyle("left",e.getPosition().x),r.setStyle("top",e.getPosition().y+16),i.start(.9),$ES("li,div.categoryTitle",r).each(function(e){e.addEvent("mouseout",function(){this.removeClass("hover")}).addEvent("mouseover",function(){this.addClass("hover")})})}})).request()})})}};Wiki.addPageRender(Categories);var ZebraTable={render:function(e,t){$ES("*[class^=zebra]",e).each(function(e){var t=e.className.split("-"),n=t[1].test("table"),r="",i="";t[1]&&(r=new Color(t[1],"hex")),t[2]&&(i=new Color(t[2],"hex")),$ES("table",e).each(function(e){e.zebra=this.zebrafy.pass([n,r,i],e),e.zebra()},this)},this)},zebrafy:function(e,t,n){var r=0;$A($T(this).rows).each(function(i,s){if(s==0||i.style.display=="none")return;e?r++%2?$(i).addClass("odd"):$(i).removeClass("odd"):$(i).setStyle("background-color",r++%2?t:n)})}};Wiki.addPageRender(ZebraTable);var HighlightWord={onPageLoad:function(){var e=Wiki.prefs.get("PrevQuery");Wiki.prefs.set("PrevQuery",""),!e&&document.referrer.test("(?:\\?|&)(?:q|query)=([^&]*)","g")&&(e=RegExp.$1);if(!e)return;var t=decodeURIComponent(e).stripScripts();t=t.replace(/\+/g," "),t=t.replace(/\s+-\S+/g,""),t=t.replace(/([\(\[\{\\\^\$\|\)\?\*\.\+])/g,"\\$1"),t=t.trim().split(/\s+/).join("|"),this.reMatch=new RegExp("("+t+")","gi"),this.walkDomTree($("pagecontent"))},walkDomTree:function(e){if(!e)return;for(var t=null,n=e.firstChild;n;n=t)t=n.nextSibling,this.walkDomTree(n);if(e.nodeType!=3)return;if(e.parentNode.className=="searchword")return;var r=e.innerText||e.textContent||"";r=r.replace(/</g,"&lt;");if(!this.reMatch.test(r))return;var i=(new Element("span")).setHTML(r.replace(this.reMatch,"<span class='searchword'>$1</span>")),s=document.createDocumentFragment();while(i.firstChild)s.appendChild(i.firstChild);e.parentNode.replaceChild(s,e)}};window.addEvent("load",function(){Wiki.onPageLoad(),SearchBox.onPageLoad(),HighlightWord.onPageLoad(),Wiki.setFocus()});var WikiReflection={render:function(e,t){$ES("*[class^=reflection]",e).each(function(e){var t=e.className.split("-");$ES("img",e).each(function(e){Reflection.add(e,t[1],t[2])})})}};Wiki.addPageRender(WikiReflection);var Reflection={options:{height:.33,opacity:.5},add:function(e,t,n){t=t?t/100:this.options.height,n=n?n/100:this.options.opacity;var r=(new Element("div")).injectAfter(e).adopt(e),i=e.width,s=e.height,o=Math.floor(s*t);r.className=e.className.replace(/\breflection\b/,""),r.style.cssText=e.backupStyle=e.style.cssText,r.setStyles({width:e.width,height:s+o}),e.style.cssText="vertical-align: bottom";if(window.ie)(new Element("img",{src:e.src,styles:{width:i,marginBottom:"-"+(s-o)+"px",filter:"flipv progid:DXImageTransform.Microsoft.Alpha(opacity="+n*100+", style=1, finishOpacity=0, startx=0, starty=0, finishx=0, finishy="+t*100+")"}})).inject(r);else{var u=(new Element("canvas",{width:i,height:o,styles:{width:i,height:o}})).inject(r);if(!u.getContext)return;var a=u.getContext("2d");a.save(),a.translate(0,s-1),a.scale(1,-1),a.drawImage(e,0,0,i,s),a.restore(),a.globalCompositeOperation="destination-out";var f=a.createLinearGradient(0,0,0,o);f.addColorStop(0,"rgba(255, 255, 255, "+(1-n)+")"),f.addColorStop(1,"rgba(255, 255, 255, 1.0)"),a.fillStyle=f,a.rect(0,0,i,o),a.fill()}}},WikiAccordion={render:function(e,t){var n=new Element("div",{"class":"toggle"}),r=new Element("div",{"class":"collapseBullet"});$ES(".accordion, .tabbedAccordion, .leftAccordion, .rightAccordion",e).each(function(e){var t=[],i=[],s=!1;e.hasClass("tabbedAccordion")?s=(new Element("div",{"class":"menu top"})).injectBefore(e):e.hasClass("leftAccordion")?s=(new Element("div",{"class":"menu left"})).injectBefore(e):e.hasClass("rightAccordion")&&(s=(new Element("div",{"class":"menu right"})).injectBefore(e)),e.getChildren().each(function(e){if(!e.className.test("^tab-"))return;var o=e.className.substr(4).deCamelize(),u=n.clone().appendText(o);s?u.inject(s):r.clone().injectTop(u.injectBefore(e)),t.push(u),i.push(e.addClass("tab"))}),new Accordion(t,i,{height:!0,alwaysHide:!s,onComplete:function(){var e=$(this.elements[this.previous]);e.offsetHeight>0&&e.setStyle("height","auto")},onActive:function(e,t){e.addClass("active");var n=e.getFirst();n&&n.setProperties({title:"collapse".localize(),"class":"collapseOpen"}).setHTML("-"),t.addClass("active")},onBackground:function(e,t){t.setStyle("height",t.offsetHeight),e.removeClass("active");var n=e.getFirst();n&&n.setProperties({title:"expand".localize(),"class":"collapseClose"}).setHTML("+"),t.removeClass("active")}})}),r=n=null}};Wiki.addPageRender(WikiAccordion);var WikiTips={render:function(e,t){var n=[];$ES("*[class^=tip]",e).each(function(e){var t=e.className.split("-");if(t.length<=0||t[0]!="tip")return;e.className="tip";var r=(new Element("span")).wrapChildren(e).hide(),i=t[1]?t[1].deCamelize():"tip.default.title".localize();n.push((new Element("span",{"class":"tip-anchor",title:i+"::"+r.innerHTML})).setHTML(i).inject(e))}),n.length>0&&new Tips(n,{className:"tip",Xfixed:!0})}};Wiki.addPageRender(WikiTips);var WikiColumns={render:function(e,t){var n=[];$ES("*[class^=columns]",e).each(function(e){var t=e.className.split("-");e.className="columns",WikiColumns.buildColumns(e,t[1]||"auto")})},buildColumns:function(e,t){var n=$ES("hr",e);if(!n||n.length==0)return;var r=n.length+1;t=t=="auto"?98/r+"%":t/r+"px";var i=new Element("div",{"class":"col",styles:{width:t}}),s=i.clone().injectTop(e),o;while(o=s.nextSibling){if(o.tagName&&o.tagName.toLowerCase()=="hr"){s=i.clone(),$(o).replaceWith(s);continue}s.appendChild(o)}(new Element("div",{styles:{clear:"both"}})).inject(e)}};Wiki.addPageRender(WikiColumns);var WikiPrettify={render:function(e,t){var n=$ES(".prettify pre, .prettify code",e);if(!n||n.length==0)return;n.addClass("prettyprint"),prettyPrint(e)}};Wiki.addPageRender(WikiPrettify)