<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (15) on Mon Dec 14 21:24:50 CET 2020 -->
<title>WatchDog (Apache JSPWiki 2.11.0.M8 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-12-14">
<meta name="description" content="declaration: package: org.apache.wiki, class: WatchDog">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":9,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/WatchDog.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.wiki</a></div>
<h1 title="Class WatchDog" class="title">Class WatchDog</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">org.apache.wiki.WatchDog</div>
</div>
<section class="description">
<hr>
<object type="image/svg+xml" data="WatchDog.svg"  style="max-width:60%;float:right;"></object>
<pre style="white-space:pre-wrap;">public final class <a href="../../../src-html/org/apache/wiki/WatchDog.html#line.47">WatchDog</a>
extends java.lang.Object</pre>
<div class="block">WatchDog is a general system watchdog.  You can attach any Watchable or a Thread object to it, and it will notify you
  if a timeout has been exceeded.
  <p>
  The notification of the timeouts is done from a separate WatchDog thread, of which there is one per watched thread.
  This Thread is named 'WatchDog for XXX', where XXX is your Thread name.
  <p>
  The suggested method of obtaining a WatchDog is via the static factory method, since it will return you the correct
  watchdog for the current thread.  However, we do not prevent you from creating your own watchdogs either.
  <p>
  If you create a WatchDog for a Thread, the WatchDog will figure out when the Thread is dead, and will stop itself
  accordingly. However, this object is not automatically released, so you might want to check it out after a while.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.4.92</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Constructors</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Constructor</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E(org.apache.wiki.api.core.Engine,java.lang.Thread)">WatchDog</a></span>&#8203;(<a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
java.lang.Thread&nbsp;thread)</code></th>
<td class="col-last">
<div class="block">Creates a new WatchDog for a Thread.</div>
</td>
</tr>
<tr class="row-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E(org.apache.wiki.api.core.Engine,org.apache.wiki.Watchable)">WatchDog</a></span>&#8203;(<a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
<a href="Watchable.html" title="interface in org.apache.wiki">Watchable</a>&nbsp;watch)</code></th>
<td class="col-last">
<div class="block">Creates a new WatchDog for a Watchable.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="table-tab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#disable()">disable</a></span>()</code></th>
<td class="col-last">
<div class="block">Is used to disable a WatchDog.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#enable()">enable</a></span>()</code></th>
<td class="col-last">
<div class="block">Can be used to enable the WatchDog.</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#enterState(java.lang.String)">enterState</a></span>&#8203;(java.lang.String&nbsp;state)</code></th>
<td class="col-last">
<div class="block">Enters a watched state with no expectation of the expected completion time.</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#enterState(java.lang.String,int)">enterState</a></span>&#8203;(java.lang.String&nbsp;state,
int&nbsp;expectedCompletionTime)</code></th>
<td class="col-last">
<div class="block">Enters a watched state which has an expected completion time.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#exitState()">exitState</a></span>()</code></th>
<td class="col-last">
<div class="block">Exits a state entered with enterState().</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#exitState(java.lang.String)">exitState</a></span>&#8203;(java.lang.String&nbsp;state)</code></th>
<td class="col-last">
<div class="block">Exits a particular state entered with enterState().</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code>static <a href="WatchDog.html" title="class in org.apache.wiki">WatchDog</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getCurrentWatchDog(org.apache.wiki.api.core.Engine)">getCurrentWatchDog</a></span>&#8203;(<a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine)</code></th>
<td class="col-last">
<div class="block">Returns the current watchdog for the current thread.</div>
</td>
</tr>
<tr class="row-color" id="i7">
<td class="col-first"><code>boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#isStateStackNotEmpty()">isStateStackNotEmpty</a></span>()</code></th>
<td class="col-last">
<div class="block">helper to see if the associated stateStack is not empty.</div>
</td>
</tr>
<tr class="alt-color" id="i8">
<td class="col-first"><code>boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#isWatchableAlive()">isWatchableAlive</a></span>()</code></th>
<td class="col-last">
<div class="block">helper to see if the associated watchable is alive.</div>
</td>
</tr>
<tr class="row-color" id="i9">
<td class="col-first"><code>java.lang.String</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#toString()">toString</a></span>()</code></th>
<td class="col-last">
<div class="block">Strictly for debugging/informative purposes.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.wiki.api.core.Engine,org.apache.wiki.Watchable)">
<h3>WatchDog</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.90">WatchDog</a></span>&#8203;(<span class="parameters"><a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
<a href="Watchable.html" title="interface in org.apache.wiki">Watchable</a>&nbsp;watch)</span></div>
<div class="block">Creates a new WatchDog for a Watchable.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>engine</code> - The Engine.</dd>
<dd><code>watch</code> - A Watchable object.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.wiki.api.core.Engine,java.lang.Thread)">
<h3>WatchDog</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.108">WatchDog</a></span>&#8203;(<span class="parameters"><a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
java.lang.Thread&nbsp;thread)</span></div>
<div class="block">Creates a new WatchDog for a Thread.  The Thread is wrapped in a Watchable wrapper for this purpose.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>engine</code> - The Engine</dd>
<dd><code>thread</code> - A Thread for watching.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getCurrentWatchDog(org.apache.wiki.api.core.Engine)">
<h3>getCurrentWatchDog</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="WatchDog.html" title="class in org.apache.wiki">WatchDog</a></span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.66">getCurrentWatchDog</a></span>&#8203;(<span class="parameters"><a href="api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine)</span></div>
<div class="block">Returns the current watchdog for the current thread. This is the preferred method of getting you a Watchdog, since it
  keeps an internal list of Watchdogs for you so that there won't be more than one watchdog per thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>engine</code> - The Engine to which the Watchdog should be bonded to.</dd>
<dt>Returns:</dt>
<dd>A usable WatchDog object.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="enable()">
<h3>enable</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.137">enable</a></span>()</div>
<div class="block">Can be used to enable the WatchDog.  Will cause a new Thread to be created, if none was existing previously.</div>
</section>
</li>
<li>
<section class="detail" id="disable()">
<h3>disable</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.150">disable</a></span>()</div>
<div class="block">Is used to disable a WatchDog.  The watchdog thread is shut down and resources released.</div>
</section>
</li>
<li>
<section class="detail" id="enterState(java.lang.String)">
<h3>enterState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.166">enterState</a></span>&#8203;(<span class="parameters">java.lang.String&nbsp;state)</span></div>
<div class="block">Enters a watched state with no expectation of the expected completion time. In practice this method is
  used when you have no idea, but would like to figure out, e.g. via debugging, where exactly your Watchable is.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - A free-form string description of your state.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="enterState(java.lang.String,int)">
<h3>enterState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.186">enterState</a></span>&#8203;(<span class="parameters">java.lang.String&nbsp;state,
int&nbsp;expectedCompletionTime)</span></div>
<div class="block">Enters a watched state which has an expected completion time.  This is the main method for using the
  WatchDog.  For example:

  <code>
     WatchDog w = m_engine.getCurrentWatchDog();
     w.enterState("Processing Foobar", 60);
     foobar();
     w.exitState();
  </code>

  If the call to foobar() takes more than 60 seconds, you will receive an ERROR in the log stream.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - A free-form string description of the state</dd>
<dd><code>expectedCompletionTime</code> - The timeout in seconds.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="exitState()">
<h3>exitState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.202">exitState</a></span>()</div>
<div class="block">Exits a state entered with enterState().  This method does not check that the state is correct, it'll just
  pop out whatever is on the top of the state stack.</div>
</section>
</li>
<li>
<section class="detail" id="exitState(java.lang.String)">
<h3>exitState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.212">exitState</a></span>&#8203;(<span class="parameters">java.lang.String&nbsp;state)</span></div>
<div class="block">Exits a particular state entered with enterState().  The state is checked against the current state, and if
  they do not match, an error is flagged.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The state you wish to exit.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isStateStackNotEmpty()">
<h3>isStateStackNotEmpty</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.237">isStateStackNotEmpty</a></span>()</div>
<div class="block">helper to see if the associated stateStack is not empty.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if not empty, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isWatchableAlive()">
<h3>isWatchableAlive</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.246">isWatchableAlive</a></span>()</div>
<div class="block">helper to see if the associated watchable is alive.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if it's alive, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">java.lang.String</span>&nbsp;<span class="member-name"><a href="../../../src-html/org/apache/wiki/WatchDog.html#line.310">toString</a></span>()</div>
<div class="block">Strictly for debugging/informative purposes.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt>Returns:</dt>
<dd>Random ramblings.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/WatchDog.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
<p class="legal-copy"><small>Copyright Â© 2001-2020 The Apache Software Foundation. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>