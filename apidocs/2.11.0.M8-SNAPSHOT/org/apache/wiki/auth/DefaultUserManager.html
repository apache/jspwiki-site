<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_252) on Wed Aug 19 14:37:05 UTC 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DefaultUserManager (Apache JSPWiki 2.11.0.M8-SNAPSHOT API)</title>
<meta name="date" content="2020-08-19">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DefaultUserManager (Apache JSPWiki 2.11.0.M8-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultUserManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/wiki/auth/DefaultAuthorizationManager.html" title="class in org.apache.wiki.auth"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/wiki/auth/DefaultUserManager.JSONUserModule.html" title="class in org.apache.wiki.auth"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/wiki/auth/DefaultUserManager.html" target="_top">Frames</a></li>
<li><a href="DefaultUserManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.wiki.auth</div>
<h2 title="Class DefaultUserManager" class="title">Class DefaultUserManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.wiki.auth.DefaultUserManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/apache/wiki/api/engine/Initializable.html" title="interface in org.apache.wiki.api.engine">Initializable</a>, <a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></dd>
</dl>
<hr>
<object type="image/svg+xml" data="DefaultUserManager.svg"  style="max-width:60%;float:right;"></object>
<br>
<pre style="white-space:pre-wrap;">public class <a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.78">DefaultUserManager</a>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></pre>
<div class="block">Default implementation for <a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth"><code>UserManager</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.3</dd>
</dl>
</li>
</ul>
</div>
<div class="summary" style="clear:right;">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.JSONUserModule.html" title="class in org.apache.wiki.auth">DefaultUserManager.JSONUserModule</a></span></code>
<div class="block">Implements the JSON API for usermanager.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.wiki.auth.UserManager">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.wiki.auth.<a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></h3>
<code><a href="../../../../org/apache/wiki/auth/UserManager.html#JSON_USERS">JSON_USERS</a>, <a href="../../../../org/apache/wiki/auth/UserManager.html#PROP_DATABASE">PROP_DATABASE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.html#DefaultUserManager--">DefaultUserManager</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.html#addWikiEventListener-org.apache.wiki.event.WikiEventListener-">addWikiEventListener</a></span>(<a href="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</code>
<div class="block">Registers a WikiEventListener with this instance.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/wiki/auth/user/UserDatabase.html" title="interface in org.apache.wiki.auth.user">UserDatabase</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.html#getUserDatabase--">getUserDatabase</a></span>()</code>
<div class="block">Returns the UserDatabase employed by this Engine.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.html#getUserProfile-org.apache.wiki.api.core.Session-">getUserProfile</a></span>(<a href="../../../../org/apache/wiki/api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session)</code>
<div class="block">Retrieves the <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a> for the user in a session.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.html#initialize-org.apache.wiki.api.core.Engine-java.util.Properties-">initialize</a></span>(<a href="../../../../org/apache/wiki/api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
          <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props)</code>
<div class="block">Initializes this Engine component.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.html#listWikiNames--">listWikiNames</a></span>()</code>
<div class="block">A helper method for returning all of the known WikiNames in this system.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.html#parseProfile-org.apache.wiki.api.core.Context-">parseProfile</a></span>(<a href="../../../../org/apache/wiki/api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context)</code>
<div class="block"> Extracts user profile parameters from the HTTP request and populates a UserProfile with them.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.html#removeWikiEventListener-org.apache.wiki.event.WikiEventListener-">removeWikiEventListener</a></span>(<a href="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</code>
<div class="block">Un-registers a WikiEventListener with this instance.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.html#setUserProfile-org.apache.wiki.api.core.Session-org.apache.wiki.auth.user.UserProfile-">setUserProfile</a></span>(<a href="../../../../org/apache/wiki/api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session,
              <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</code>
<div class="block">
 Saves the <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a> for the user in a wiki session.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.html#startUserProfileCreationWorkflow-org.apache.wiki.api.core.Session-org.apache.wiki.auth.user.UserProfile-">startUserProfileCreationWorkflow</a></span>(<a href="../../../../org/apache/wiki/api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session,
                                <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</code></td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/wiki/auth/DefaultUserManager.html#validateProfile-org.apache.wiki.api.core.Context-org.apache.wiki.auth.user.UserProfile-">validateProfile</a></span>(<a href="../../../../org/apache/wiki/api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context,
               <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</code>
<div class="block">Validates a user profile, and appends any errors to the session errors list.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.wiki.auth.UserManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.wiki.auth.<a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></h3>
<code><a href="../../../../org/apache/wiki/auth/UserManager.html#fireEvent-int-org.apache.wiki.api.core.Session-java.lang.Object-">fireEvent</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DefaultUserManager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefaultUserManager</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.78">DefaultUserManager</a>()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initialize-org.apache.wiki.api.core.Engine-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.100">initialize</a>(<a href="../../../../org/apache/wiki/api/core/Engine.html" title="interface in org.apache.wiki.api.core">Engine</a>&nbsp;engine,
                       <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props)</pre>
<div class="block"><p>Initializes this Engine component. Note that the engine is not fully initialized at this
 point, so don't do anything fancy here - use lazy init, if you have to.<br/>&nbsp;</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/api/engine/Initializable.html#initialize-org.apache.wiki.api.core.Engine-java.util.Properties-">initialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/api/engine/Initializable.html" title="interface in org.apache.wiki.api.engine">Initializable</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - Engine performing the initialization.</dd>
<dd><code>props</code> - Properties for setup.</dd>
</dl>
</li>
</ul>
<a name="getUserDatabase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserDatabase</h4>
<pre>public&nbsp;<a href="../../../../org/apache/wiki/auth/user/UserDatabase.html" title="interface in org.apache.wiki.auth.user">UserDatabase</a>&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.113">getUserDatabase</a>()</pre>
<div class="block">Returns the UserDatabase employed by this Engine. The UserDatabase is lazily initialized by this method, if it does
 not exist yet. If the initialization fails, this method will use the inner class DummyUserDatabase as a default (which
 is enough to get JSPWiki running).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/UserManager.html#getUserDatabase--">getUserDatabase</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the dummy user database</dd>
</dl>
</li>
</ul>
<a name="getUserProfile-org.apache.wiki.api.core.Session-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserProfile</h4>
<pre>public&nbsp;<a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.150">getUserProfile</a>(<a href="../../../../org/apache/wiki/api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session)</pre>
<div class="block"><p>Retrieves the <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a> for the user in a session. If the user is authenticated, the
 UserProfile returned will be the one stored in the user database; if one does not exist, a new one will be initialized and returned.
 If the user is anonymous or asserted, the UserProfile will <i>always</i> be newly initialized to prevent spoofing of identities.
 If a UserProfile needs to be initialized, its <a href="../../../../org/apache/wiki/auth/user/UserProfile.html#isNew--"><code>UserProfile.isNew()</code></a> method will return
 <code>true</code>, and its login name will will be set automatically if the user is authenticated. Note that this method does
 not modify the retrieved (or newly created) profile otherwise; other fields in the user profile may be <code>null</code>.</p>
 <p>If a new UserProfile was created, but its <a href="../../../../org/apache/wiki/auth/user/UserProfile.html#isNew--"><code>UserProfile.isNew()</code></a> method returns
 <code>false</code>, this method throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a>. This is meant as a quality check for UserDatabase providers;
 it should only be thrown if the implementation is faulty.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/UserManager.html#getUserProfile-org.apache.wiki.api.core.Session-">getUserProfile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the session, which may not be <code>null</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the user's profile, which will be newly initialized if the user is anonymous or asserted, or if the user cannot be found in
         the user database</dd>
</dl>
</li>
</ul>
<a name="setUserProfile-org.apache.wiki.api.core.Session-org.apache.wiki.auth.user.UserProfile-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUserProfile</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.182">setUserProfile</a>(<a href="../../../../org/apache/wiki/api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session,
                           <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)
                    throws <a href="../../../../org/apache/wiki/auth/user/DuplicateUserException.html" title="class in org.apache.wiki.auth.user">DuplicateUserException</a>,
                           <a href="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></pre>
<div class="block"><p>
 Saves the <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a> for the user in a wiki session. This method verifies that a user profile to
 be saved doesn't collide with existing profiles; that is, the login name or full name is already used by another profile. If the
 profile collides, a <code>DuplicateUserException</code> is thrown. After saving the profile, the user database changes are committed,
 and the user's credential set is refreshed; if custom authentication is used, this means the user will be automatically be logged in.
 </p>
 <p>
 When the user's profile is saved successfully, this method fires a <a href="../../../../org/apache/wiki/event/WikiSecurityEvent.html#PROFILE_SAVE"><code>WikiSecurityEvent.PROFILE_SAVE</code></a> event with the Session
 as the source and the UserProfile as target. For existing profiles, if the user's full name changes, this method also fires a
 "name changed" event (<a href="../../../../org/apache/wiki/event/WikiSecurityEvent.html#PROFILE_NAME_CHANGED"><code>WikiSecurityEvent.PROFILE_NAME_CHANGED</code></a>) with the Session as the source and an array containing
 the old and new UserProfiles, respectively. The <code>NAME_CHANGED</code> event allows the GroupManager and PageManager can change
 group memberships and ACLs if needed.
 </p>
 <p>
 Note that Sessions normally attach event listeners to the UserManager, so changes to the profile will automatically cause the
 correct Principals to be reloaded into the current Session's Subject.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/UserManager.html#setUserProfile-org.apache.wiki.api.core.Session-org.apache.wiki.auth.user.UserProfile-">setUserProfile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the wiki session, which may not be <code>null</code></dd>
<dd><code>profile</code> - the user profile, which may not be <code>null</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/user/DuplicateUserException.html" title="class in org.apache.wiki.auth.user">DuplicateUserException</a></code> - if the proposed profile's login name or full name collides with another</dd>
<dd><code><a href="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></code> - if the save fails for some reason. If the current user does not have
 permission to save the profile, this will be a <a href="../../../../org/apache/wiki/auth/WikiSecurityException.html" title="class in org.apache.wiki.auth"><code>WikiSecurityException</code></a>;
 if if the user profile must be approved before it can be saved, it will be a
 <a href="../../../../org/apache/wiki/workflow/DecisionRequiredException.html" title="class in org.apache.wiki.workflow"><code>DecisionRequiredException</code></a>. All other WikiException
 indicate a condition that is not normal is probably due to mis-configuration</dd>
</dl>
</li>
</ul>
<a name="startUserProfileCreationWorkflow-org.apache.wiki.api.core.Session-org.apache.wiki.auth.user.UserProfile-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startUserProfileCreationWorkflow</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.253">startUserProfileCreationWorkflow</a>(<a href="../../../../org/apache/wiki/api/core/Session.html" title="interface in org.apache.wiki.api.core">Session</a>&nbsp;session,
                                             <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)
                                      throws <a href="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/UserManager.html#startUserProfileCreationWorkflow-org.apache.wiki.api.core.Session-org.apache.wiki.auth.user.UserProfile-">startUserProfileCreationWorkflow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></code></dd>
</dl>
</li>
</ul>
<a name="parseProfile-org.apache.wiki.api.core.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseProfile</h4>
<pre>public&nbsp;<a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.288">parseProfile</a>(<a href="../../../../org/apache/wiki/api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context)</pre>
<div class="block"><p> Extracts user profile parameters from the HTTP request and populates a UserProfile with them. The UserProfile will either be a
 copy of the user's existing profile (if one can be found), or a new profile (if not). The rules for populating the profile as as
 follows: </p>
 <ul>
 <li>If the <code>email</code> or <code>password</code> parameter values differ from those in the existing profile, the passed
 parameters override the old values.</li>
 <li>For new profiles, the user-supplied <code>fullname</code> parameter is always used; for existing profiles the existing value is
 used, and whatever value the user supplied is discarded. The wiki name is automatically computed by taking the full name and
 extracting all whitespace.</li>
 <li>In all cases, the created/last modified timestamps of the user's existing or new profile always override whatever values the user
 supplied.</li>
 <li>If container authentication is used, the login name property of the profile is set to the name of
 <a href="../../../../org/apache/wiki/api/core/Session.html#getLoginPrincipal--"><code>Session.getLoginPrincipal()</code></a>. Otherwise, the value of the <code>loginname</code> parameter is used.</li>
 </ul></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/UserManager.html#parseProfile-org.apache.wiki.api.core.Context-">parseProfile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the current wiki context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new, populated user profile</dd>
</dl>
</li>
</ul>
<a name="validateProfile-org.apache.wiki.api.core.Context-org.apache.wiki.auth.user.UserProfile-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateProfile</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.318">validateProfile</a>(<a href="../../../../org/apache/wiki/api/core/Context.html" title="interface in org.apache.wiki.api.core">Context</a>&nbsp;context,
                            <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</pre>
<div class="block">Validates a user profile, and appends any errors to the session errors list. If the profile is new, the password will be checked to
 make sure it isn't null. Otherwise, the password is checked for length and that it matches the value of the 'password2' HTTP
 parameter. Note that we have a special case when container-managed authentication is used and the user is not authenticated;
 this will always cause validation to fail. Any validation errors are added to the wiki session's messages collection
 (see <a href="../../../../org/apache/wiki/api/core/Session.html#getMessages--"><code>Session.getMessages()</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/UserManager.html#validateProfile-org.apache.wiki.api.core.Context-org.apache.wiki.auth.user.UserProfile-">validateProfile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the current wiki context</dd>
<dd><code>profile</code> - the supplied UserProfile</dd>
</dl>
</li>
</ul>
<a name="listWikiNames--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listWikiNames</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.400">listWikiNames</a>()
                          throws <a href="../../../../org/apache/wiki/auth/WikiSecurityException.html" title="class in org.apache.wiki.auth">WikiSecurityException</a></pre>
<div class="block">A helper method for returning all of the known WikiNames in this system.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/UserManager.html#listWikiNames--">listWikiNames</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An Array of Principals</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/WikiSecurityException.html" title="class in org.apache.wiki.auth">WikiSecurityException</a></code> - If for reason the names cannot be fetched</dd>
</dl>
</li>
</ul>
<a name="addWikiEventListener-org.apache.wiki.event.WikiEventListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addWikiEventListener</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.411">addWikiEventListener</a>(<a href="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</pre>
<div class="block">Registers a WikiEventListener with this instance.
 This is a convenience method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/UserManager.html#addWikiEventListener-org.apache.wiki.event.WikiEventListener-">addWikiEventListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the event listener</dd>
</dl>
</li>
</ul>
<a name="removeWikiEventListener-org.apache.wiki.event.WikiEventListener-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeWikiEventListener</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/DefaultUserManager.html#line.420">removeWikiEventListener</a>(<a href="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</pre>
<div class="block">Un-registers a WikiEventListener with this instance.
 This is a convenience method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/UserManager.html#removeWikiEventListener-org.apache.wiki.event.WikiEventListener-">removeWikiEventListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/wiki/auth/UserManager.html" title="interface in org.apache.wiki.auth">UserManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the event listener</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultUserManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/wiki/auth/DefaultAuthorizationManager.html" title="class in org.apache.wiki.auth"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/wiki/auth/DefaultUserManager.JSONUserModule.html" title="class in org.apache.wiki.auth"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/wiki/auth/DefaultUserManager.html" target="_top">Frames</a></li>
<li><a href="DefaultUserManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright © 2001-2020 The Apache Software Foundation. All rights reserved.</small></p>
</body>
</html>